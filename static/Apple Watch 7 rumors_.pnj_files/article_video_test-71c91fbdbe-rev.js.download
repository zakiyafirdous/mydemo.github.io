define("fly/utils/object-helper-1.0",["jquery"],function(e){return{deepFind:function(e,t){if(!e||!t)return null;var n=t.split("."),a=n.length;for(i=0;i<a;i++){if(!e.hasOwnProperty(n[i]))return null;e=e[n[i]]}return e}}}),define("fly/managers/components-1.0",["jquery","version!fly/utils/string-helper","version!fly/utils/object-helper","version!fly/managers/debug","version!fly/components/base"],function(e,t,i,n,a){var o,s={attr:"data-component",includeContext:!0},r=n.init("components"),l={};return e(document).on("domUpdated",function(e,t){t=t||{},o.process(t.$context)}),o={process:function(i){var n=this;this.findByAttr(i).each(function(i,a){var o=e(a),s=o.data(),r=t.toCleanArray(s.component);e.each(r,function(e,t){n.init(t,o)})})},init:function(t,i,n){var a,o,s=l[t];s&&(n=n||{},a=e.makeArray(s.require)||[],o=t,s.alias&&(o=s.alias,n=e.extend(!0,{},s.options||{},n)),require(a,function(){i&&i.length&&e.isFunction(i[o])&&i[o](n)}),r.log("init: ",t,i,n))},setConfig:function(t){if(!e.isPlainObject(t))throw new Error("Component setConfig failure. Map is in the wrong format.");e.extend(s,t)},register:function(t){if(!e.isPlainObject(t))throw new Error("Component register failure. Map is in the wrong format.");e.each(t,function(e,t){l[e]=t,t.options&&a.setDefaultOptions(e,t.options),t.events&&a.addDefaultEvents(e,t.events)}),r.log("register: ",t)},findByAttr:function(t,i,n){var a,o="";return(i=i&&!e.isArray(i)?[i]:i)?e.each(i,function(e,t){o+=e>0?", ":"",o+="["+s.attr+'="'+t+'"], ['+s.attr+"*='\""+t+"\"']"}):o="["+s.attr+"]",a=(t=t||e(document.body)).find(o),(n=void 0!==n?n:s.includeContext)&&(a=a.addBack(o)),a}}}),define("managers/third-party/playbuzz",["jquery","version!fly/managers/debug"],function(e,t){return t=t.init("playbuzz"),{init:function(){document.body.addEventListener("pbItemEvent",function(e){try{switch(e.detail.name){case"pb.item.scroll-top-into-view":this.quizName=e.detail.data.title||"unknown quiz name","object"==typeof om&&"function"==typeof om.trackPlayBuzz?om.trackPlayBuzz("view",this.quizName):window.pl_buzz_name=this.quizName;break;case"pb.section.poll-vote":this.quizName=this.quizName||window.pl_buzz_name||"unknown quiz name";var i=e.detail.data.component.questions[0].text||"unknown question text",n=e.detail.data.text||"unknown answer text";"object"==typeof om&&"function"==typeof om.trackPlayBuzz&&om.trackPlayBuzz("answer",[this.quizName,i,n].join("|"))}t.log("Playbuzz event",e)}catch(e){t.error("Playbuzz data error",e)}})}}}),define("managers/tealium",["jquery","version!fly/managers/debug","managers/page-vars","managers/client-storage","managers/third-party/playbuzz","managers/tracking","optional!"+(window.CnetPageVars.services.tealium&&window.CnetPageVars.services.tealium.enabled?"tealium":"feature-disabled")],function(e,t,i,n,a,o){var s=t.get("tealium"),r={timeThreshold:4e3,requestThreshold:10,requestCount:0},l={_getCollectionId:function(){var e="";return"object"==typeof i.tracking.data.collectionId?e=i.tracking.data.collectionId[0]:"string"==typeof i.tracking.data.collectionId&&(e=i.tracking.data.collectionId),e},getDwTag:function(e,t){var i=[];t=t||3;do{(e=e.parents("[section],[id]")).attr("section")?i.push(e.attr("section")):e.attr("id")&&i.push(e.attr("id"))}while(i.length<t&&0<e.length);return i.reverse().join("|")},getHbParams:function(t){utag_data.videoAutoPlay="off"===n.read("autoplayEnabled")?"off":"on";var a=new Array("articleId","articleType","articleTitle","brand","channel_id","contact_id","mediaAutoPlay","mfr","pageType","pageTypeId","pageOntologyId","pageViewGuid","productId","productName","productSeriesId","productSeriesName","productSlug","productType","showId","showTitle","showEpisodeId","showEpisodeTitle","siteEdition","siteSection","siteType","userState","userId","userType","userRegId","deviceType","dwAnonId","videoAutoPlay"),o=new Array,s={};t=t||{};for(var r=0;r<a.length;r++)utag_data[a[r]]&&(o[a[r]]=utag_data[a[r]]);var l=i.tracking.data;return e.extend(s,o,{siteRsids:l.reportSuiteId,siteCode:l.brand,pageName:l.siteName?l.siteName+":"+window.location.pathname:void 0,pageUrl:window.location.href,sitePrimaryRsid:l.reportSuiteId,userStatus:l.userType,siteHier:l.siteName&&l.siteHier?l.siteName+":"+l.siteHier.join("|"):void 0,topicPrimaryId:l.topicId&&l.topicId.length>=0?l.topicId[0]:void 0,authorList:l.articleAuthorId?l.articleAuthorId.join("|"):void 0,test:l.testName?l.testName+"|"+l.testVersion+"|"+l.testGroup:""},t),s},_getUdoStockData:function(){var e=i.tracking.data;return{siteEdition:e.siteEdition,pageViewGuid:e.pageViewGuid,pageType:e.pageType,siteHier:e.siteHier,siteType:e.siteType,deviceType:e.deviceType,articleId:e.articleId,articleTitle:e.articleTitle,articleType:e.articleType,articlePubDate:e.articlePubDate,articleAuthorId:e.articleAuthorId,articleAuthorName:e.articleAuthorName,topicId:e.topicId,topicName:e.topicName}},_initRequestTracking:function(){if("article"===i.tracking.data.pageType){var e=0,t=this;window.setInterval(function(){try{var i=window.performance.getEntriesByType("resource");for(e=e>=i.length?0:e;e<i.length;){var n=i[e];t._trackServiceRequest(n),e++}}catch(e){s.error("Failed to monitor tracking requests:",e)}},500)}},_trackClickViaUtag:function(t,n,a,r,l){try{if(!0===i.tracking.enabled){l="object"!=typeof l?{}:l;var d={_test:i.tracking.data.testName?i.tracking.data.testName+"|"+i.tracking.data.testVersion+"|"+i.tracking.data.testGroup:"",userState:i.tracking.data.userState,userType:i.tracking.data.userType,message_id:i.tracking.data.message_id,contact_id:i.tracking.data.contact_id,channel_id:i.tracking.data.channel_id,oneTrustGroup1:window.utag_data.oneTrustGroup1,oneTrustGroup2:window.utag_data.oneTrustGroup2,oneTrustGroup3:window.utag_data.oneTrustGroup3,oneTrustGroup4:window.utag_data.oneTrustGroup4,oneTrustGroup5:window.utag_data.oneTrustGroup5};if(r="object"!=typeof r?{}:r,r=e.extend({},l,d,r,o.getServiceVars()),e.inArray(t,["om","omnitureMgr","utag"])>=0){s.info(a+" ping: ",r);var c=s.enabled?e.extend({},r):{};if("view"===n?o.trackPageView({path:window.location.pathname,data:r}):o.trackPageEvent({path:window.location.pathname,data:r}),r.dwLinkTag?window.dwTag=r.dwLinkTag:window.dwTag&&(r.dwLinkTag=window.dwTag),window[t][n](r),delete window.dwTag,"object"==typeof window.s&&(window.s.events="",window.s.eVar21="",window.s.eVar37="",window.s.eVar38=""),s.enabled){for(var u in c)r[u]!==c[u]&&s.warn("Tealium overrode our data: "+u+' was changed from "'+c[u]+'" to "'+r[u]+'"');var p={};for(var u in r)void 0===c[u]&&(p[u]=r[u]);0!==p.length&&s.log("Tealium added the following data to the tracking call: ",p)}}else s.error("Invalid tracking object",t)}else s.info(a+" aborted; tracking is not enabled!")}catch(e){s.error(a+" failed:",e)}},trackComment:function(t,n,a){var o={link_text:t,_clickAction:a||t,socialService:"cnet",brand:i.tracking.data.brand,_collectionPrimaryId:this._getCollectionId(),dwLinkTag:n.sharebarSection};this._trackClickViaUtag("utag","link",t,n,e.extend({},this._getUdoStockData(),o))},trackCustomEvent:function(e,t,i){var n={link_text:e,_clickAction:i||"trackClick"};this._trackClickViaUtag("utag","link",e,t,n)},trackExternalLink:function(e){this._trackClickViaUtag("om","trackClick","trackExternalLink",e)},trackForum:function(e,t){this._trackClickViaUtag("om","trackForum",e,t)},trackLead:function(e){var t=jQuery.extend({},i.tracking.data,{_merchantId:e.merid,_merchantName:e.merchantName,_leadType:e.ltype,_destCat:e.destcat,_destUrl:e.destUrl,leadCpc:e.leadcpc,mfr:e.manufacturer,productName:e.productTitle,productSeriesId:e.seriesGuid,productId:void 0!==e.productId?";"+e.productId+";;;;":"",commerceClickId:window.utag_data.commerceClickId,_videoAction:"",videoSegments:"",_leadProdPrice:e.productPrice,videoTime:0,_clickAction:"leadClick",link_text:"clickLead"},e);this._trackClickViaUtag("utag","link","trackLeadClick",e,t)},trackPageLoad:function(t){this._trackClickViaUtag("utag","view","Track view",t,i.tracking.data),e(window).trigger("dynamicloadcomplete"),o.trackChartbeatPageView()},trackPodcast:function(e){this._trackClickViaUtag("om","trackPodcast","trackPodcast",e)},_trackServiceRequest:function(t){for(var n in this.monitoredServices){var a=this.monitoredServices[n];a.fireCount<a.maxFireCount&&-1!==t.name.indexOf(a.requestPrefix)&&(s.info("Tracking the request: "+a.timerName,t.fetchStart),this.trackCustomEvent(a.timerName,e.extend({},i.tracking.data)),a.fireCount++)}},_trackSlaRequest:function(t){if(r.timeThreshold<=t.duration&&r.requestThreshold>r.requestCount){var n=document.createElement("a");if(n.href=t.name,"".endsWith&&!n.host.endsWith(".cnet.com")&&!n.pathname.endsWith(".mp4")){r.requestCount++;var a=Math.round(t.duration/1e3);s.info("slow request ("+a+" seconds)",t.name),this.trackCustomEvent("trackSlaEnforcement",e.extend({serviceWorkerDomain:n.host,serviceWorkerRequestTime:a,serviceWorkerConnection:window.navigator.connection?window.navigator.connection.effectiveType:"unsupported"},i.tracking.data))}}},trackSocial:function(e){var t={brand:i.tracking.data.brand,_collectionPrimaryId:this._getCollectionId(),dwLinkTag:e.sharebarSection};this._trackClickViaUtag("om","trackSocialClick","trackSocialClick",e,t)},trackSuggestedSearch:function(e){this._trackClickViaUtag("om","trackSuggestedSearchClick","trackSuggestedSearchClick",e)},trackVideo:function(e,t,n){var a=e.charAt(0).toUpperCase()+e.slice(1),o="pause"===e?"videoTime":"video"+a+(0===t?"Start":100===t?"Complete":t+"Percent"),s=i.tracking.data,r={_videoAction:o,link_text:o,siteHier:s.siteHier,siteSection:s.siteSection,siteEdition:s.siteEdition,brand:s.brand,siteType:s.siteType,deviceType:s.deviceType,pageType:s.pageType,pageNum:null!=s.pageNum?s.pageNum:1,topicId:s.topicId,pageViewGuid:s.pageViewGuid,articleAuthorId:s.articleAuthorId,articleAuthorName:s.articleAuthorName,articleId:s.articleId,articleTitle:s.articleTitle,articleType:s.articleType,productId:s.productId,productName:s.productName};this._trackClickViaUtag("utag","link",o,n,r)}};return a.init(),l._initRequestTracking(),l}),function(){var e,t=this;if("function"==typeof t.require)try{var i=t.require("crypto").randomBytes;e=i&&function(){return i(16)}}catch(e){}if(!e&&t.crypto&&crypto.getRandomValues){var n=new Uint8Array(16);e=function(){return crypto.getRandomValues(n),n}}if(!e){var a=new Array(16);e=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),a[t]=e>>>((3&t)<<3)&255;return a}}for(var o="function"==typeof t.Buffer?t.Buffer:Array,s=[],r={},l=0;l<256;l++)s[l]=(l+256).toString(16).substr(1),r[s[l]]=l;function d(e,t){var i=t||0,n=s;return n[e[i++]]+n[e[i++]]+n[e[i++]]+n[e[i++]]+"-"+n[e[i++]]+n[e[i++]]+"-"+n[e[i++]]+n[e[i++]]+"-"+n[e[i++]]+n[e[i++]]+"-"+n[e[i++]]+n[e[i++]]+n[e[i++]]+n[e[i++]]+n[e[i++]]+n[e[i++]]}var c=e(),u=[1|c[0],c[1],c[2],c[3],c[4],c[5]],p=16383&(c[6]<<8|c[7]),h=0,m=0;function g(t,i,n){var a=i&&n||0;"string"==typeof t&&(i="binary"==t?new o(16):null,t=null);var s=(t=t||{}).random||(t.rng||e)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,i)for(var r=0;r<16;r++)i[a+r]=s[r];return i||d(s)}var f=g;f.v1=function(e,t,i){var n=t&&i||0,a=t||[],o=null!=(e=e||{}).clockseq?e.clockseq:p,s=null!=e.msecs?e.msecs:(new Date).getTime(),r=null!=e.nsecs?e.nsecs:m+1,l=s-h+(r-m)/1e4;if(l<0&&null==e.clockseq&&(o=o+1&16383),(l<0||s>h)&&null==e.nsecs&&(r=0),r>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");h=s,m=r,p=o;var c=(1e4*(268435455&(s+=122192928e5))+r)%4294967296;a[n++]=c>>>24&255,a[n++]=c>>>16&255,a[n++]=c>>>8&255,a[n++]=255&c;var g=s/4294967296*1e4&268435455;a[n++]=g>>>8&255,a[n++]=255&g,a[n++]=g>>>24&15|16,a[n++]=g>>>16&255,a[n++]=o>>>8|128,a[n++]=255&o;for(var f=e.node||u,v=0;v<6;v++)a[n+v]=f[v];return t||d(a)},f.v4=g,f.parse=function(e,t,i){var n=t&&i||0,a=0;for(t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,function(e){a<16&&(t[n+a++]=r[e])});a<16;)t[n+a++]=0;return t},f.unparse=d,f.BufferClass=o;var v=t.uuid;f.noConflict=function(){return t.uuid=v,f},t.uuid=f}.call(this),define("fly/libs/guid-1.0",function(){}),define("managers/recommendation-data",["jquery","managers/page-vars","version!fly/managers/debug","version!fly/libs/guid"],function(e,t,i){var n={APPLE:"17cf639e-36ce-4e2e-8ea8-a093af98d566",CARS:"b122d23f-29eb-493e-83e6-e9fbfeaf79c8",DEALS:"cc98b5a4-d3a9-4e35-b6d7-625e8289a152",GOOGLE:"303efe12-c4e2-4abd-af02-f99b9d1b2828","HOW TO":"787724c6-2b1e-4f6a-90d9-afa0eebd1abb",MOBILE:"d1753851-e519-4744-897e-9b6ea3b1c04b","SMART HOME":"5787016e-17a5-438f-8690-70ca531844fb","TV & AUDIO":"a13a6b57-a74a-4eaf-be94-c72b9dc931c2",CULTURE:"7b5fc82b-deb8-4e73-8a23-70461cd49a63"},a={broad:"broad-interest",specific:"specific-interest",video:"video-interest",general:"general"};i=i.init("recommendationDataManager");var o={testForLocalStorage:function(){try{return localStorage.setItem("test","test"),localStorage.removeItem("test"),!0}catch(e){return!1}},pruneViews:function(e){for(;e.length>=2e3;)e.shift();var t=Date.now();if(e.length>0)for(var i=e[0];i&&i.date_created&&i.date_created+158112e5<t;)e.shift(),i=e[0];for(var n=[],a=e.length-1;a>=0;a--){n.some(function(t){return t.content_entity_id===e[a].content_entity_id&&t.content_type===e[a].content_type})||n.push(e[a])}return n.reverse()},createNewViewEvent:function(e){var i=t.tracking.data;return{content_entity_id:i.contentId,content_type:"content_"+i.contentType,site:i.brand,dev:i.isDev,view_guid:i.pageViewGuid,page_type:i.pageType,user_id:i.userId,is_logged_in:!!e&&e.isLoggedIn,anon_id:this.getAnon(),deviceType:i.deviceType,date_created:Date.now(),interest:i.interest?i.interest:this.getNoneInterest(),annotations:i.annotations||[],edition:i.siteEdition}},getAnon:function(){var e=localStorage.getItem("CnetAnon");e||(e=window.uuid.v4());try{localStorage.setItem("CnetAnon",e)}catch(t){i.error("Writing to localStorage for anon failed."),e="00000000-0000-0000-0000-000000000000"}return e},writeViewsArray:function(e){var t=!1;try{localStorage.setItem("CnetViewList",JSON.stringify(e)),t=!0}catch(a){i.error("Writing to localStorage failed, attempting to prune view data...");for(var n=0;n<e.length/10;n++)e.shift();try{localStorage.setItem("CnetViewList",JSON.stringify(e)),t=!0}catch(e){i.error("Writing to localStorage failed, even after pruning 10% of view data."),t=!1}}return t},writeExplicitInterestToLocalStorage:function(e){var t=localStorage.getItem("CnetExplicitList");t=t?JSON.parse(t):[];for(var i=!1,n=0;n<t.length;n++)if(e.interest_name&&t[n].interest_name&&e.interest_name===t[n].interest_name&&e.type&&t[n].type&&e.type===t[n].type&&e.implicit===t[n].implicit){if(e.date_created<t[n].date_created)return;t[n]=e,i=!0;break}return i||t.push(e),localStorage.setItem("CnetExplicitList",JSON.stringify(t)),{all:t,new:e}},createExplicitInterestObject:function(e,t,i){var n=this.createNewViewEvent(i);return n=this.normalizeView(n),t&&t.id&&(n.interest=t),{anon_id:n.anon_id,implicit:!1,date_created:n.date_created,type:n.interest?n.interest.type:"none",interest_name:n.interest?n.interest.name.toUpperCase():"none",interest_id:n.interest?n.interest.id:"none",site:n.site,edition:n.edition,action:e,user_id:n.user_id}},createMockExplicitInterestObject:function(e){var t=this.createNewViewEvent();return{anon_id:(t=this.normalizeView(t)).anon_id,implicit:!1,date_created:t.date_created,type:"broad",interest_name:e,interest_id:n[e]?n[e]:"interest_id",site:t.site,edition:t.edition,action:"unfollow"}},createImplicitInterestObject:function(e){return e||(e=this.createNewViewEvent()),{anon_id:(e=this.normalizeView(e)).anon_id,implicit:!0,date_created:e.date_created,type:e.interest.type,interest_name:e.interest.name.toUpperCase(),interest_id:e.interest.id,site:e.site,edition:e.edition,action:"follow",urs_id:e.user_id}},normalizeView:function(e){return e.broad_interest?e.interest={id:n[e.broad_interest]?n[e.broad_interest]:"interest_id",type:"broad",name:e.broad_interest}:e.interest||(e.interest=this.getNoneInterest()),null!=e.is_logged_in&&0!=e.is_logged_in||(e.user_id=""),e},repopulateInterestDB:function(e,t){var n=this.getExplicitInterests(),a=n.filter(function(e){return"unfollow"!==e.action&&!1===e.implicit}),o=this.getViewEvents(),s=this.buildImplicitInterestObjectsFromViews(o),r=n.filter(function(e){return"unfollow"!==e.action&&!0===e.implicit}),l=s.concat(r),d=[];l.forEach(function(e){n.some(function(t){return e.interest_id===t.interest_id&&"unfollow"===t.action})||d.push(e)});var c=a.concat(d);i.log("Backfilling interests"),this.sendInterestsToBackend(c,e,t)},sendInterestsToBackend:function(t,i,n){if(!t||!t.length||t.length<1)i();else{t.sort(function(e,t){return t.date_created-e.date_created});var a=[];t.forEach(function(e){e=s(e),a.some(function(t){return e.interest_id===t.interest_id&&e.action===t.action&&e.implicit===t.implicit})||("video"===e.type&&(e.type="specific"),void 0!==e.user_id&&delete e.user_id,a.push(e))});var o="/personalization/interest/",r=[];n&&r.push("excludeUrsInfo=true"),"true"===localStorage.getItem("CnetUdsEnabled")&&r.push("udsEnabled=true"),r.length&&(o+="?"+r.join("&")),e.post(o,JSON.stringify(a),i)}},syncInterestsWithBackend:function(t,n){var a=this;return!!t.isLoggedIn&&(e.ajax({method:"GET",dataType:"json",url:"/personalization/interest/"}).done(function(e){if(!e.results)return;var t=e.results[0].interests;if(!t||0===t.length)return;t.sort(function(e,t){return e.lastViewed-t.lastViewed});let o=[];t.forEach(function(e){var t;t=e.broadInterestId?"broad":"collection"===e.type?"video":"specific";var i="follow";e.isImplicit||e.isActive||(i="unfollow");var s={action:i,anon_id:a.getAnon(),date_created:e.lastViewed,edition:e.edition,implicit:e.isImplicit,interest_id:e.broadInterestId?e.broadInterestId:e.interestId,interest_name:e.name.toUpperCase(),site:"cnet",type:t};const r=a.writeExplicitInterestToLocalStorage(s);"true"===localStorage.getItem("CnetUdsEnabled")&&r&&o.push(s),"true"!==localStorage.getItem("CnetUdsEnabled")&&n.channel&&("follow"===i?n.channel.tags.add(e.name.toUpperCase(),a.getTagGroupByInterest(t)):n.channel.tags.remove(e.name.toUpperCase(),a.getTagGroupByInterest(t)))}),"true"===localStorage.getItem("CnetUdsEnabled")&&o.length&&window.uds_sdk.addInterest(o,"sync",!1),i.log("Interest Sync complete")}),!0)},buildImplicitInterestObjectsFromViews:function(e){var t=[],i=function(e){var t={};return e.forEach(function(e){e.interest&&"none"!==e.interest.id&&(t[e.interest.id]?t[e.interest.id].push(e):t[e.interest.id]=[e])}),t}(e);if(i){Object.keys(i).forEach(function(e){var n=i[e];if(!(n.length<2))for(var a=0;a<n.length-1;a++)if(n[a].date_created+2592e6>n[a+1].date_created){var r=o.createImplicitInterestObject(n[n.length-1]);r=s(r),t.push(r);break}})}return t},getNoneInterest:function(){return{id:"none",type:"none",name:"none"}},getViewEvents:function(){var e=localStorage.getItem("CnetViewList");return e?JSON.parse(e):[]},getExplicitInterests:function(){var e=localStorage.getItem("CnetExplicitList");return e?e=(e=JSON.parse(e)).map(function(e){return s(e)}):[]},getTagGroupByInterest:function(e){return a[e]?a[e]:"device"},triggerPeriodicBackfillSync:function(t,i){var n=localStorage.getItem("CnetInterestSyncTime");if(!n||Number.parseInt(n)+36e5<Date.now())if(t.isLoggedIn)o.repopulateInterestDB(function(){window.UA?window.UA.then(function(e){o.syncInterestsWithBackend(t,e)&&localStorage.setItem("CnetInterestSyncTime",Date.now())}):e(window).on("urban-airship-loaded",function(){window.UA.then(function(e){o.syncInterestsWithBackend(t,e)&&localStorage.setItem("CnetInterestSyncTime",Date.now())})})});else{var a=o.buildImplicitInterestObjectsFromViews(i),s=o.getExplicitInterests().concat(a);if(0===s.length)return;for(var r=s.sort(function(e,t){return t.date_created-e.date_created}),l=null,d=0;d<r.length;d++){if(!r[d].implicit){l=r[d];break}if(!s.some(function(e){return e.interest_id===r[d].interest_id&&"unfollow"===e.action&&!e.implicit})){l=r[d];break}}var c=Date.now()-2592e6;l&&l.date_created<c&&o.repopulateInterestDB(function(){localStorage.setItem("CnetInterestSyncTime",Date.now())})}}};function s(e){return e.interest_id=e.interest_id.replace("cnet_tag","CNET_TAG").replace("cnet_cat_topic","CNET_CAT_TOPIC"),e}return o}),define("translations/form-validate",["managers/edition"],function(e){return e.getTranslation({en:{required:{field:"This field is required",radio:"One of these fields is required"},availableEmail:"This e-mail address is already in use. Please choose another.",availableUsername:"That username is already taken. Try another.",validPassword:"Your password needs at least 6 characters, and 3 of these 4: special characters, numbers, or upper or lowercase letters.",minlength:"This field must be at least {minlength} characters",maxlength:"This field must be no more than {maxlength} characters",email:"Oops! Please enter a valid email.",mailcheck:"Did you mean",noUrl:"A url is not allowed in this field",noSpecialCharacters:"The special characters @, &, and % are not allowed in this field",equalTo:"Fields do not match",usernameSpecialCharacters:'Please use only alphanumeric characters, underscores "_", and dashes "-"',usernameCharacterLength:"Your username must be between 3 and 25 characters.",atLeastOneAlphanumeric:"You must include at least one alphanumeric character",generic:"Oops! Something went wrong, try again.","invalid.loginpassword":"Oops! That’s not the password for this account, try again.","locked.account":"Too many attempts. Wait 5 minutes and try again, or reset your password.","invalid.email":"Oops! Please enter a valid email.","inuse.userName":"That username is already taken. Try another.","required.email":"We're sorry that you do not wish to create a CNET account.","notallowed.socialLink":'We\'re sorry, we\'ve encountered a problem with this email address. Please contact our customer service team at <a href="mailto:support.cnet@cbsinteractive.com">support.cnet@cbsinteractive.com</a>, and reference issue "log4383"'},es:{required:{field:"Campo requerido",radio:"One of these fields is required"},availableEmail:"Este email esta en uso.  Elige otro.",availableUsername:"Ese nombre de usuario ya existe. Inténtalo de nuevo.",validPassword:"Tu contraseña debe incluir al menos seis caracteres sin espacios y contar con un número, un símbolo especial y una mayúscula.",minlength:"Este campo debe tener al menos {minlength} caracteres",maxlength:"This field must be no more than {maxlength} characters",email:"Por favor utiliza un correo válido",mailcheck:"¿Te refieres a",noUrl:"A url is not allowed in this field",noSpecialCharacters:"The special characters @, &, and % are not allowed in this field",equalTo:"Fields do not match",usernameSpecialCharacters:'Por favor, usa solamente caracteres alfanuméricos, guiones bajos "_", y guiones "-"',usernameCharacterLength:"Tu nombre de usuario debe contener entre 3 y 23 letras.",atLeastOneAlphanumeric:"You must include at least one alphanumeric character",generic:"¡Lo sentimos! Algo no está funcionando, inténtalo más tarde.","invalid.loginpassword":"¡Lo sentimos! Esa no es la contraseña correcta. Inténtalo de nuevo.","locked.account":"Ingresaste una contraseña equivocada demasiadas veces. Espera 5 minutos para intentarlo de nuevo o restablece tu contraseña.","invalid.email":"Tu cuenta de e-mail no es válida, inténtalo de nuevo.","inuse.userName":"Ese nombre de usuario ya existe. Inténtalo de nuevo.","required.email":"Sentimos mucho que no quieras crear una cuenta con CNET en este momento. ¡Gracias por visitarnos!"}})}),define("utils/urs-helper",["jquery","version!fly/managers/debug","managers/page-vars","optional!urs"],function(e,t,i){t=t.init("ursHelper");var n={16:257,103:259,222:263,225:265,242:266,256:268,295:298,358:359,363:361,364:362,368:365,369:366,370:367,372:371,403:401,404:402,9:269,36:270,74:278,305:304,27:280,374:373,376:375,202:394,393:394,395:396,397:398};return{getSocialAppId:function(e){return n[e]},getUrs:function(e,t){var n={};return"object"==typeof window.URS&&"function"==typeof URS.getInstance&&"function"==typeof URS.newInstance&&((n=URS.getInstance(e,"v2.2"))||(n=URS.newInstance({appId:e,clientToken:"12d6d06e118e4a90",environment:i.environment.indexOf("prod")>-1?URS.ursEnvironments.LIVE:URS.ursEnvironments.QA,version:"v2.2"}),t&&t(n))),n}}}),define("fly/utils/string-vars-1.0",["jquery"],function(e){return{compile:function(t,i,n){var a=this;return"string"!=typeof t?"":(n=e.makeArray(n),t=t.replace(/\{([^}]+)\}/g,function(t){var o=n,s="";return t=t.replace(/\|[^\}|]+/g,function(e){return o.push(e.substr(1)),""}),s=i[t.replace(/[{}]+/g,"")]||"",e.each(o,function(e,t){s=a.modify(t,s)}),s}))},modify:function(e,t){switch(e){case"lower":t=t.toLowerCase();break;case"upper":t=t.toUpperCase();break;case"urlencode":t=encodeURIComponent(t)}return t}}}),define("fly/libs/mailcheck-1.1",["jquery"],function(e){var t={mailcheck:{threshold:3,defaultDomains:["yahoo.com","google.com","hotmail.com","gmail.com","me.com","aol.com","mac.com","live.com","comcast.net","googlemail.com","msn.com","hotmail.co.uk","yahoo.co.uk","facebook.com","verizon.net","sbcglobal.net","att.net","gmx.com","mail.com"],defaultTopLevelDomains:["co.uk","com","net","org","info","edu","gov","mil"],run:function(e){e.domains=e.domains||t.mailcheck.defaultDomains,e.topLevelDomains=e.topLevelDomains||t.mailcheck.defaultTopLevelDomains,e.distanceFunction=e.distanceFunction||t.sift3Distance;var i=t.mailcheck.suggest(encodeURI(e.email),e.domains,e.topLevelDomains,e.distanceFunction);i?e.suggested&&e.suggested(i):e.empty&&e.empty()},suggest:function(e,t,i,n){e=e.toLowerCase();var a=this.splitEmail(e),o=this.findClosestDomain(a.domain,t,n);if(o){if(o!=a.domain)return{address:a.address,domain:o,full:a.address+"@"+o}}else{var s=this.findClosestDomain(a.topLevelDomain,i);if(a.domain&&s&&s!=a.topLevelDomain){var r=a.domain;return o=r.substring(0,r.lastIndexOf(a.topLevelDomain))+s,{address:a.address,domain:o,full:a.address+"@"+o}}}return!1},findClosestDomain:function(e,t,i){var n,a=99,o=null;if(!e||!t)return!1;i||(i=this.sift3Distance);for(var s=0;s<t.length;s++){if(e===t[s])return e;(n=i(e,t[s]))<a&&(a=n,o=t[s])}return a<=this.threshold&&null!==o&&o},sift3Distance:function(e,t){if(null==e||0===e.length)return null==t||0===t.length?0:t.length;if(null==t||0===t.length)return e.length;for(var i=0,n=0,a=0,o=0;i+n<e.length&&i+a<t.length;){if(e.charAt(i+n)==t.charAt(i+a))o++;else{n=0,a=0;for(var s=0;s<5;s++){if(i+s<e.length&&e.charAt(i+s)==t.charAt(i)){n=s;break}if(i+s<t.length&&e.charAt(i)==t.charAt(i+s)){a=s;break}}}i++}return(e.length+t.length)/2-o},splitEmail:function(e){var t=e.split("@");if(t.length<2)return!1;for(var i=0;i<t.length;i++)if(""===t[i])return!1;var n=t.pop(),a=n.split("."),o="";if(0==a.length)return!1;if(1==a.length)o=a[0];else{for(i=1;i<a.length;i++)o+=a[i]+".";a.length>=2&&(o=o.substring(0,o.length-1))}return{topLevelDomain:o,domain:n,address:t.join("@")}}}};jQuery.fn.mailcheck=function(e){var i=this;if(e.suggested){var n=e.suggested;e.suggested=function(e){n(i,e)}}if(e.empty){var a=e.empty;e.empty=function(){a.call(null,i)}}e.email=this.val(),t.mailcheck.run(e)}}),define("fly/components/form-validate-1.0",["jquery","version!fly/utils/string-helper","version!fly/utils/string-vars","version!fly/managers/debug","version!fly/components/base"],function(e,t,i,n){var a=e.support.touch?"vclick":"click",o=n.init("formValidate");e.widget("fly.formValidate",e.fly.base,{options:{inlineErrorTemplate:'<label for="{id}" class="validate-{type}">{message}</label>',globalErrorTemplate:'<div class="alert alert-{type}">{message}</div>',classFieldStatus:"validate-{type}",animation:"slide",fieldSelector:'[data-item="field"]',ignoreHidden:!0,ignoreSelector:null,validateOnChange:!0,scrollToErrors:!1,attributes:["required","maxlength","minlength"],rules:{},success:function(e,t){t.$form.submit()},failure:function(e,t){},placeError:function(e,t){t.is(":checkbox, :radio")&&t.parent("label").length?e.insertAfter(t.parent("label")):e.insertAfter(t)}},rules:{required:{message:function(e){return e.is(":radio")?"One of these fields is required":"This field is required"},test:function(e){return e.is(":radio")?e.closest("form").find(':radio[name="'+e.attr("name")+'"]').is(":checked"):!!(e.is(":checkbox")?e.is(":checked"):e.val())}},mailcheck:{type:"warning",message:null,test:function(e,t){var i=this,n=e.closest("form");return require(["fly/libs/mailcheck-1.1"],function(){e.mailcheck({suggested:function(o,s){i.message='Did you mean <a class="mailcheck" data-_insert="mailcheck">'+s.domain+"</a>?",n.on(a+".mailcheck",'[data-_insert="mailcheck"]',function(){e.val(s.full).trigger("change")}),t.reject("mailcheck")},empty:function(e){n.off(".mailcheck"),t.resolve()}})}),t.promise()}},availableEmail:{remote:!0,message:"Email is already in use"},availableUsername:{remote:!0,message:"User Name is already in use"},minlength:{message:function(e){return"This field must be at least "+e.attr("minlength")+" characters"},test:function(e){return e.val().length>=e.attr("minlength")}},maxlength:{message:function(e){return"This field must be no more than "+e.attr("maxlength")+" characters"},test:function(e){return e.val().length<=e.attr("maxlength")}},email:{message:"Please enter a valid email",test:function(e){return/^[A-Z0-9._%+\-]+@[A-Z0-9.\-]+\.[A-Z]{2,4}$/i.test(e.val())}},noUrl:{message:"A url is not allowed in this field",test:function(e){return!/http:\/\//i.test(e.val())}},noSpecialCharacters:{message:"The special characters @, &, and % are not allowed in this field",test:function(e){return/^[^@&%]+$/i.test(e.val())}},equalTo:{message:"Fields do not match",test:function(t){var i=e('input[name="'+t.data("validate-equal-to")+'"]');return i.length&&t.val()===i.val()}}},wasSubmitted:!1,isWorking:!1,isFormValid:!1,_create:function(){var e=this.options,t={};this._setup(),this.$form=this.$element,this.$form.attr("novalidate","novalidate"),this.globalErrors=[],this.ignoreSelector=":submit, :reset, :image, [disabled]",e.ignoreHidden&&(this.ignoreSelector+=", :hidden"),e.ignoreSelector&&(this.ignoreSelector+=", "+e.ignoreSelector),this.addRules(e.rules),this._on(this.$form,{submit:"_handleSubmit"}),e.validateOnChange&&(t["focusout :input:not("+this.ignoreSelector+", [data-_enabled])"]="_handleFocusOut",t["keyup :input:not("+this.ignoreSelector+", [readonly])"]="_handleChange",t["change :input:not("+this.ignoreSelector+")"]="_handleChange",this._on(this.$form,t))},_handleSubmit:function(e){this._off(this.$form,"focusout"),this.wasSubmitted=!0,this.isFormValid||(e.preventDefault(),e.stopImmediatePropagation(),this.validate())},_handleFocusOut:function(t){e(t.target).attr("data-_enabled","true"),this._handleChange(t)},_handleChange:function(t){var i=e(t.target);this.isFormValid=!1,(this.wasSubmitted||i.data("_enabled"))&&(i.data("_passed",!1),this.testField(i))},getRule:function(e){return void 0!==this.rules[e]&&this.rules[e]},getRulesToValidate:function(t){var i=this,n=t.data("validate")||[],a=e.isArray(n)?n:n.split(" ");return e.each(this.options.attributes,function(e,i){t.attr(i)&&a.unshift(i)}),e.grep(a,function(e,t){return i.getRule(e)})},addRules:function(t){e.isPlainObject(t)&&e.extend(this.rules,t)},removeRule:function(e){!1!==this.getRule(e)&&delete this.rules[e]},setFieldDelegate:function(e){var t=null;return e.is(":radio")&&(t=this.$form.find(':radio[name="'+e.attr("name")+'"]').first()),e.data("_field_delegate",t),e},testField:function(t){var i,n=this,a=[],s=t.data()||{},r=s.error||{},l=e.Deferred();return s._passed?(l.resolve(),l.promise()):(this.setFieldDelegate(t),s.remoteRequest&&s.remoteRequest.abort(),i=this.getRulesToValidate(t),o.log("test field: ",t," w/ rules:",i),e.each(i,function(i,s){var l,d=n.getRule(s),c=!0,u=!!d.remote,p=null;if(u&&(p=d.remoteUrl||t.data("remoteUrl"),n.removeError(t)),l=(l=function(){var i=e.Deferred(),a=null;return!1===(a=u?n.requestRemote(p,t,s,i):d.test(t,i))?(c=!1,i.reject(s)):!0===a&&i.resolve(s),i.promise()})(),a.push(l),e.when(l).fail(function(){o.log("rule failed: ",s,t)}).then(function(){r.name===s&&n.removeError(t),o.log("rule passed: ",s,t)}),!c)return!1}),e.when.apply(null,a).fail(function(e){var i=n.getRule(e),a=i.type?i.type:"error",s=t.data(),r=s.error||{};s.remoteTimeout&&clearTimeout(s.remoteTimeout),s.remoteRequest&&s.remoteRequest.abort(),r.message!=n.getMessage(e,t)&&(n.removeError(t),n.addInlineError(t,e)),"error"!==a?(l.resolve(),o.log("field passed: ",t," type: ",a)):(l.reject(),o.log("field failed: ",t))}).then(function(){t.data("_passed",!0),n.removeError(t),l.resolve(),o.log("field passed: ",t)}),l.promise())},requestRemote:function(t,i,n,a){var o,s={},r=null,l=i.data()||{};l.remoteTimeout&&(clearTimeout(l.remoteTimeout),l.remoteQueue.resolve(n)),s[i.attr("name")]=i.val(),o=setTimeout(function(){r=e.ajax({type:"POST",dataType:"json",url:t,data:s,timeout:5e3,success:function(t){switch(t){case!0:a.resolve(n);break;case!1:a.reject(n);break;default:e.isPlainObject(t)&&t.status?"success"===t.status?a.resolve(n):a.reject(n):a.resolve(n)}},complete:function(){i.data("remoteRequest",null)},error:function(e,t){a.resolve(n),i.data("_passed",!1)}}),i.data({remoteRequest:r,remoteQueue:null,remoteTimeout:null})},300),i.data({remoteQueue:a,remoteTimeout:o})},validate:function(){var t=this.options,i=this,n=[];this.isWorking||!1!==this._trigger("validate")&&(this.isWorking=!0,this.removeGlobalErrors(),this.$form.find(":input").not(this.ignoreSelector).each(function(){var t=e(this);n.push(i.testField(t))}),e.when.apply(null,n).fail(function(){o.log("validate failed"),i._trigger("failure",null,{$form:i.$form}),t.scrollToErrors&&i.scrollToErrors()}).then(function(){o.log("validate success"),i.isFormValid=!0,i._trigger("success",null,{$form:i.$form}),i.isFormValid=!1}).always(function(){i._trigger("validated"),i.isWorking=!1}))},scrollToErrors:function(){var t=this.options,i=this.$form.find("[data-validate-error]").first(),n=i.closest(t.fieldSelector),a=(n.length?n:i).offset().top;!1!==this._trigger("scroll",null,{offset:a})&&(a-=this.$window.height()/6,e("html, body").animate({scrollTop:a},"fast"))},removeError:function(t){t=t.data("_field_delegate")||t;var i=this,n=this.options,a=t.data("error");a&&("slide"===n.animation?a.$error.slideUp("fast",function(){e(this).remove(),i._completeRemoveError(a,t)}):(t.remove(),this._completeRemoveError(a,t)),t.removeClass(a.fieldClass).removeData("error"))},getMessage:function(t,i){var n=this.getRule(t),a=i.data("validate-message-"+t)||i.data("validate-message-"+t.toLowerCase());return a||!1===a||(a=e.isFunction(n.message)?n.message(i):n.message),a},addInlineError:function(t,n){t=t.data("_field_delegate")||t;var a,o,s,r=this,l=this.options,d=t.data("error")||{},c={name:n,position:"inline"};"error"!==d.type&&(o=this.getMessage(n,t),a=this.getRule(n).type||"error",s=i.compile(l.inlineErrorTemplate,{type:a,id:t.attr("id"),message:o}),e.extend(c,{type:a,message:o,$error:e(s).attr("data-validate-error",!0),fieldClass:i.compile(this.options.classFieldStatus,{type:a})}),t.addClass(c.fieldClass).data("error",c),!1!==o&&("slide"===l.animation?(c.$error=e("<div />").wrapInner(c.$error),c.$error.hide(),l.placeError.call(this,c.$error,t),c.$error.slideDown("fast",function(){r._completeAddError(c,t)})):(l.placeError.call(this,c.$error,t),this._completeAddError(c,t))))},addGlobalError:function(t,n){n=n||"error";var a,o=this,s=this.options,r={position:"global",type:n,message:t};a=i.compile(s.globalErrorTemplate,{type:n,message:t}),e.extend(r,{$error:e(a).attr("data-validate-error",!0)}),"slide"===s.animation?(r.$error=e("<div />").wrapInner(r.$error),r.$error.hide().prependTo(this.$form).slideDown("fast",function(){o._completeAddError(r)})):(this.$form.prepend(r.$error),this._completeAddError(r)),this.globalErrors.push(r)},removeGlobalErrors:function(){var t=this;e.each(this.globalErrors,function(e,i){i.$error.remove(),t._completeRemoveError(i)})},removeInlineErrors:function(){var t=this;this.$form.find("[data-validate-error]").each(function(){var i=e(this),n=i.data();n.error&&t.removeError(i),n.remoteRequest&&n.remoteRequest.abort()})},_completeAddError:function(t,i){this._trigger("errorAdded",null,e.extend(t,{$field:i})),this.$document.trigger("displayChange",{type:"errorAdded"})},_completeRemoveError:function(t,i){this._trigger("errorRemoved",null,e.extend(t,{$field:i})),this.$document.trigger("displayChange",{type:"errorRemoved"})},_disable:function(){this.removeGlobalErrors(),this.removeInlineErrors()},_destroy:function(){this._disable()}})}),define("components/form-validate",["jquery","version!fly/managers/debug","translations/form-validate","version!fly/utils/string-vars","version!fly/libs/mailcheck","version!fly/components/form-validate"],function(e,t,i,n){t.init("formValidate"),e.widget("cnet.formValidate",e.fly.formValidate,{options:{validateOnBlur:!1},rules:{required:{message:function(e){return e.is(":radio")?i.required.radio:i.required.field}},mailcheck:{message:null,test:function(t,n){var a=e.support.touch?"vclick":"click",o=this,s=t.parents("form");return t.mailcheck({suggested:function(e,r){o.message=i.mailcheck+' <a class="mailcheck" data-insert="mailcheck">'+r.domain+"</a>?",s.on(a+".mailcheck",'[data-insert="mailcheck"]',function(){t.val(r.full).trigger("change")}),n.reject("mailcheck")},empty:function(e){s.off(".mailcheck"),n.resolve()}}),n.promise()}},availableEmail:{message:i.availableEmail},availableUsername:{message:i.availableUsername},validPassword:{message:i.validPassword,test:function(e){var t=e.val(),i=0;return/[0-9]+/.test(t)&&i++,/[a-z]+/.test(t)&&i++,/[A-Z]+/.test(t)&&i++,/[\(\)\.@`!#\$%\^&*+=\-\[\]\\';,\/\{\}\|":<>\?~_]+/.test(t)&&i++,i>=3&&t.length>=6&&-1==t.indexOf(" ")}},minlength:{message:function(e){return n.compile(i.minlength,{minlength:e.attr("minlength")})}},maxlength:{message:function(e){return n.compile(i.maxlength,{maxlength:e.attr("maxlength")})}},email:{message:i.email,test:function(e){return/^[A-Z0-9._%+\-]+@[A-Z0-9.\-]+\.[A-Z]{2,}$/i.test(e.val())}},noUrl:{message:i.noUrl},noSpecialCharacters:{message:i.noSpecialCharacters},equalTo:{message:i.equalTo},usernameSpecialCharacters:{message:i.usernameSpecialCharacters,test:function(e){return/^[a-z0-9\-_]*$/i.test(e.val())}},usernameCharacterLength:{message:i.usernameCharacterLength,test:function(e){var t=e.val().length;return t>=3&&t<=25}},atLeastOneAlphanumeric:{message:i.atLeastOneAlphanumeric,test:function(e){return/.*[a-z0-9]+.*/i.test(e.val())}}},_create:function(){var e=this.options,t={};this._super(),e.validateOnBlur&&(t["focusout :input:not("+this.ignoreSelector+", [data-_enabled])"]="_handleFocusOut",t["blur :input:not("+this.ignoreSelector+", [data-_enabled])"]="_handleChange",this._on(this.$form,t))},getMessage:function(e,t){return this._super(e,t)||i[e||"generic"]||i.generic},addInlineError:function(t,i){t=t.data("_field_delegate")||t;var a,o,s,r=this.options,l={name:i,position:"inline"};"error"!==(t.data("error")||{}).type&&(o=this.getMessage(i,t),a=this.getRule(i).type||"error",s=n.compile(r.inlineErrorTemplate,{type:a,id:t.attr("id"),message:o}),e.extend(l,{type:a,message:o,$error:e(s).attr("data-validate-error",!0),fieldClass:n.compile(this.options.classFieldStatus,{type:a})}),t.addClass(l.fieldClass).data("error",l),t.attr("aria-invalid","true"),!1!==o&&("slide"===r.animation?(l.$error=e("<div />").wrapInner(l.$error),r.placeError.call(this,l.$error,t),this._completeAddError(l,t)):(r.placeError.call(this,l.$error,t),this._completeAddError(l,t))))},removeError:function(e){e=e.data("_field_delegate")||e;var t=this.options,i=e.data("error");i&&("slide"===t.animation?i.$error.remove():(e.remove(),this._completeRemoveError(i,e)),e.removeClass(i.fieldClass).removeData("error"),e.attr("aria-invalid","false"),this._completeRemoveError(i,e))}})}),define("translations/loading",["managers/edition"],function(e){return e.getTranslation({en:{loading:"Loading",end:"The End",error:"Error Encountered"},es:{loading:"Cargando",end:"Fin",error:"Error Encontrado"}})}),define("fly/components/loading-1.0",["jquery","version!fly/utils/string-vars","version!fly/components/base"],function(e,t){e.widget("fly.loading",e.fly.base,{options:{disabled:!1,delay:100,timeout:25e3,initState:"",template:'<div class="{baseClass} {stateClass}"><span class="text">{text}</span></div>',classes:{base:"loader",idle:"",loading:"loading",end:"load-end",error:"load-error"},text:{idle:"",loading:"Loading",end:"The End",error:"Error Encountered :("}},_create:function(){this._setup(),this._state=null,this._timeoutId=null},_init:function(){var e=this.options;!e.disabled&&e.initState&&(this._setContent(e.initState),this._state=e.initState)},_setContent:function(i,n){var a,o=this.options;"remove"!==i?(a=t.compile(o.template,e.extend({state:i,baseClass:o.classes.base,stateClass:o.classes[i],text:o.text[i]},n)),this.$element.html(a)):this.$element.empty()},add:function(){var t=this.options;!1!==this._trigger("add")&&(this.update("loading"),"number"==typeof t.timeout&&t.timeout>0&&(this._timeoutId=setTimeout(e.proxy(this.remove,this),t.timeout)),this._trigger("added"))},remove:function(){!1!==this._trigger("remove")&&(this.update("remove"),this._trigger("removed"))},update:function(e,t){var i=this.options,n={state:e};!1!==this._trigger("update",null,n)&&(this._state=e,i.disabled||(clearTimeout(this._timeoutId),this._setContent(e,t),this._trigger("updated",null,n)))},isLoading:function(){return"loading"===this._state},getState:function(){return this._state},_setOption:function(e,t){var i=this.options;"data"===e?this.$element.data("data",t):"disabled"===e&&(!0===t?this.$element.empty():this._setContent(i.initState)),this._super(e,t)},_destroy:function(){this.$element.remove()}})}),define("components/loading",["jquery","version!fly/managers/debug","translations/loading","version!fly/components/loading"],function(e,t,i){t=t.init("loading"),e.widget("cnet.loading",e.fly.loading,{options:{template:'<div class="{baseClass} {stateClass}"><span class="text">{text}</span></div>',classes:{base:"loader",idle:"",loading:"loadingCircle",end:"load-end",error:"load-error"},text:i},add:function(){this._super(),this.$element.parent().addClass("loadingArea")},remove:function(){this._super(),this.$element.parent().removeClass("loadingArea")}})}),define("components/authentication",["jquery","version!fly/managers/debug","managers/ad","version!fly/managers/components","utils/cookie","managers/edition","managers/page-vars","managers/tealium","managers/recommendation-data","translations/form-validate","utils/urs-helper","version!fly/utils/url-helper","managers/client-storage","version!fly/components/base","components/form-validate","components/loading"],function(e,t,i,n,a,o,s,r,l,d,c,u,p){t=t.init("authentication");const h=p.localStorageSupported();e.widget("cnet.authentication",e.fly.base,{options:{classComplete:"complete",classSelected:"selected",classShow:"show",classActive:"active",classFade:"fade",classHide:"hide"},appId:376,entryPoints:{375:"brand_nav",270:"comments",280:"forums",265:"polls",263:"my_list",367:"brand_nav",359:"my_list",394:"brand_nav",398:"comments",376:"brand_nav",36:"comments",27:"forums",225:"polls",222:"my_list",361:"sweepstakes",370:"brand_nav",358:"my_list",368:"sweepstakes",393:"brand_nav",397:"comments",386:"sweepstakes"},newsletterCodes:{375:"e245",270:"e245",280:"e245,e497",265:"e245",263:"e245",367:"e226,e231",359:"e226,e231",394:"e237,e245",398:"e237,e245",452:"e245",453:"e245",455:"e226,e231",376:"e245",36:"e245",27:"e245,e497",202:"e237,e245",225:"e245",222:"e245",361:"e239,e245,e214",370:"e226,e231",358:"e226,e231",368:"e226,e231,e148",393:"e237,e245",397:"e237,e245",386:"e237,e245",451:"e245",454:"e245",456:"e226,e231"},$form:null,$modal:null,loading:!1,nextAction:null,refresh:!1,socialRegistration:!1,step:"start",regService:"",steps:["facebookRegister","forgot","interests","login","loginOrRegister","register","start","username"],userData:null,termsRequired:!1,termsChecked:!1,_baseTrackingData:{_pageTitle:s.tracking.data._pageTitle,siteSection:s.tracking.data.siteSection,pageType:s.tracking.data.pageType,siteEdition:s.tracking.data.siteEdition,siteType:s.tracking.data.siteType,siteHier:s.tracking.data.siteHier,brand:s.tracking.data.brand,_pageChannelType:s.tracking.data._pageChannelType,audienceManagerBlob:s.tracking.data.guid,pageViewGuid:s.guid},_create:function(){this._setup(),this._setupPageEvents(),this._loadUserData(),this._checkForOpenLoginOnLoad()},_close:function(){this.$modal.removeClass(this.options.classShow),e("body").removeClass("noScroll"),this.$modal.attr({"aria-hidden":"true",tabindex:"-1"})},_completeLogin:function(){var t=this,n=s.tracking.data;this.getUserData(function(e,n){"function"==typeof t.nextAction&&(t.refresh=t.nextAction(e),t.nextAction=null),l.repopulateInterestDB(function(){window.UA.then(function(e){l.syncInterestsWithBackend(n,e)})}),t.$element.trigger("userhasloggedin",n),!0===t.refresh?window.location.reload():i.loadAds(i.getAdUnits(),s.ads.data)}),r.trackCustomEvent("trackLogin",e.extend(!0,{},this._baseTrackingData,{userId:n.userId,userState:"authenticated",userType:"registered",regService:t.regService,regDriver:t.entryPoints[t.appId]}),"login")},_displayError:function(e){var t=this.$form.find('[data-global-errors*="'+e+'"]'),i=this.$form.data("formValidate");0===t.length?i.addGlobalError(d[e||"generic"]||d.generic,"error"):i.addInlineError(t,e)},getUserData:function(e){this.userData?e(null,this.userData):this.$element.one("userdataloaded",e)},hasAccess:function(t){var i=this;(t=e.extend(!0,{nextAction:null,requireUsername:!1},t)).appId&&(i.appId=t.appId),this.getUserData(function(e,n){n.isLoggedIn?t.requireUsername&&!n.userName?(i.nextAction=t.nextAction,i._show("username")):"function"==typeof t.nextAction&&t.nextAction(n):(i.nextAction=t.nextAction,i._show("start"),i._trackCustomEvent("tap","start_authentication"))})},_loadUserData:function(){var i=this;this.userData=null,a.read("purs_1")?e.ajax({dataType:"json",url:s.user.urls.userData}).done(function(n){i.userData=e.extend(!0,n.user,{isLoggedIn:n.isLoggedIn}),window._cbq.push(["_acct","lgdin"]);try{window.tagular("setAuthId",n.user.registrationId)}catch(e){t.error("Failed to set authId in Tagular",e)}i._updateDisplay(),i.$element.trigger("userdataloaded",[i.userData])}):(this.userData={isLoggedIn:!1},window._cbq.push(["_acct","anon"]))},logout:function(){var t=this;s.tracking.data;e.ajax({dataType:"json",url:e('[data-user-action="logout"]').attr("href")}).done(function(i){const n=t.userData;t.userData={isLoggedIn:!1},r.trackCustomEvent("trackLogout",e.extend(!0,{},t._baseTrackingData,{userId:"",userState:"not authenticated",userType:"anon",regService:t.regService,regDriver:t.entryPoints[t.appId]}),"logout"),window._cbq.push(["_acct","anon"]),t._updateDisplay(),t.$element.trigger("userhasloggedout"),t.$window.trigger("anonuserloaded",[n,t.userData])})},_setStep:function(t){var i=this;if(this.$modal){var n=this.$modal.find("._"+this.step+" input[type=email]").val();this.$modal.find("._"+t+" input[type=email]").val(n)}this.step=t,this.$modal&&(this.$modal.removeClass(this.steps.join(" ")).addClass(this.step).addClass(this.options.classShow),this.$modal.find("._"+this.step).addClass(this.options.classActive).attr("aria-hidden","false"),this.$modal.find("input:not([type=hidden])").attr("disabled","disabled"),this.$modal.find("._"+this.step+" input").removeAttr("disabled"),this.$modal.find("[data-app-ids]").each(function(t,n){var a=e(n);a.data("appIds").indexOf(i.appId)<0&&a.attr("disabled","disabled")}),this.$modal.attr({"aria-hidden":"false",tabindex:"0"}),e(".c-siteHeader").hasClass("-srOnly")&&this.$modal.trigger("focus"),e(".c-masthead").hasClass("-srOnly")&&this.$modal.trigger("focus"),this.$modal.find('[data-focus="'+this.step+'"]').trigger("focus"),e("body").addClass("noScroll"))},_fadeOutStep:function(){this.$modal.find(".fade").removeClass(this.options.classFade);var t=this.$modal.find(".active");t&&(e(t).removeClass(this.options.classActive),e(t).addClass(this.options.classFade),this.$modal.attr("aria-hidden","true"))},_setupModalEvents:function(){var i=this;i.termsChecked=!1,this.$modal&&(this.$modal.find('[data-action="close"]').on("click",function(e){i._close()}),this.$modal.find('[data-action="close"]').on("keydown",function(t){13!==t.keyCode&&32!==t.keyCode||(t.preventDefault(),i._close(),"mobile"===s.device?e('[data-component="nav"]').focus():e("[data-authentication]").focus())}),this.$modal.find('[data-action="urs"]').on("tap",function(e){i.regService="urs",i._trackCustomEvent("tap","choose_authentication_method")}),this.$modal.find('[data-action="facebook"]').on("tap",function(e){c.getUrs(c.getSocialAppId(i.appId),i._setupSocialEvents.bind(i)).social.authenticate("facebook"),i.regService="facebook",i._trackCustomEvent("tap","choose_authentication_method")}),this.$modal.find('[data-action="forgot"]').on("tap",function(t){var n=i.$form.data("formValidate"),a=i.$form.find("#authentication_login_email");n.testField(a)&&e.ajax({data:{email:a.val(),csrf:i.$form.find("#authentication_csrf").val()},dataType:"json",type:"POST",url:s.user.urls.forgot}).done(function(e){i._show("forgot")})}),this.$modal.find('[data-action="showHidePass"]').on("click",function(e){var t=i.$form.find("._"+i.step+" .password");""!=t.val()&&("password"==t.prop("type")?(t.prop("type","text"),i._trackCustomEvent("click","unmask pw")):(t.prop("type","password"),i._trackCustomEvent("click","mask pw")),i.$modal.find('[data-action="showHidePass"]').toggleClass("u-hidden")),t.focus()}),this.$modal.find("[data-interest]").on("tap",function(t){var n=e(this).data("interest");e(this).toggleClass(i.options.classSelected),i._trackCustomEvent("tap","mark_interest|"+n.tracking)}),this.$modal.find("#authentication_register_password").on("keyup",function(t){if(e(t.target).parent().hasClass("active")){var n=i.$form.find("."+i.options.classActive+" button"),a=i.$form.find("#authentication_register_terms"),o=i.$form.find("[data-password-validation=requirements]"),s=i.$form.find("[data-password-validation=characters]"),r=i.$form.find("[data-password-validation=letter]"),l=i.$form.find("[data-password-validation=number]"),d=i.$form.find("[data-password-validation=specialCharacter]"),c=e(this).val();i.termsChecked=a.prop("checked");var u=c.length>=6,p=/[A-Za-z]+/g.test(c),h=/[0-9]/g.test(c),m=/[\(\)\.@`!#\$%\^&*+=\-\[\]\\';,\/\{\}\|":<>\?~_]+/.test(c);c.length>0&&!(u&&p&&h&&m)?(o.addClass(i.options.classShow).removeClass(i.options.classHide),u?s.addClass(i.options.classComplete):s.removeClass(i.options.classComplete),p?r.addClass(i.options.classComplete):r.removeClass(i.options.classComplete),h?l.addClass(i.options.classComplete):l.removeClass(i.options.classComplete),m?d.addClass(i.options.classComplete):d.removeClass(i.options.classComplete)):o.addClass(i.options.classHide),u&&p&&h&&m&&(!i.termsRequired||i.termsChecked)?n.removeAttr("disabled"):n.attr("disabled","disabled")}}),this.$modal.find("#authentication_register_terms").on("change",function(t){var n=i.$form.find("."+i.options.classActive+" button"),a=e(this),o=i.$form.find("#authentication_register_password").val();i.termsChecked=a.prop("checked");var s=o.length>=6,r=/[A-Za-z]+/g.test(o),l=/[0-9]/g.test(o),d=/[\(\)\.@`!#\$%\^&*+=\-\[\]\\';,\/\{\}\|":<>\?~_]+/.test(o);s&&r&&l&&d&&(!i.termsRequired||i.termsChecked)?n.removeAttr("disabled"):n.attr("disabled","disabled")}),this.$modal.find("#authentication_facebook_terms").on("change",function(t){i.termsChecked=e(this).prop("checked")}),this.$form.formValidate({validateOnBlur:!0,validateOnChange:!1,success:function(n){n.preventDefault();var a=i.$form.serializeArray(),d={appId:i.appId},u=0===a.length?d:a.reduce(function(e,t){return e[t.name]=t.value,e},d),p=i.$form.find('[data-component="loading"]').data("cnetLoading");switch(i.step){case"start":i._show("loginOrRegister");break;case"facebookRegister":c.getUrs(c.getSocialAppId(i.appId),i._setupSocialEvents.bind(i)).social.authenticate("facebook",!0,{userName:i.$form.find("#authentication_facebook_username").val()});break;case"loginOrRegister":p.add(),e.ajax({data:u,dataType:"json",type:"POST",url:s.user.urls.checkEmail}).done(function(e){if(e.success){var t=e.taken?"signin_started":"registration_started";i._trackCustomEvent("enterData","email|"+t),i._show(e.taken?"login":"register")}else i._displayError(e.error);i.$modal.find("#authentication_csrf").val(e.csrf),p.remove()});break;case"register":p.add(),e.ajax({data:u,dataType:"json",type:"POST",url:s.user.urls.register}).done(function(t){t.success?(i._loadUserData(),o.isEspanol()?(i._close(),i._completeLogin()):i._show("interests"),i.termsChecked&&i.loadBlueHornetId(),r.trackCustomEvent("trackRegistration",e.extend(!0,{},i._baseTrackingData,{userid:s.tracking.data.userId,regService:i.regService,regDriver:i.entryPoints[i.appId],userState:"authenticated",userType:"registered",clickGenericText:"email_opt_in|"+i.termsChecked}),"confirmRegistration")):(i._displayError(t.error),"inuse.userName"===t.error?i._trackCustomEvent("enterData","username|taken"):"invalid.email"===t.error&&i._trackCustomEvent("enterData","email|invalid")),i.$modal.find("#authentication_csrf").val(t.csrf),p.remove()});break;case"interests":p.add();let n=[];var m=i.$form.find("[data-interest]."+i.options.classSelected).get().reduce(function(t,a){var o=e(a).data("interest");t.interests.push(o.interest),t.newsletters.push(o.newsletter);let s={id:o.id,name:o.tracking,type:"broad"};return i.getUserData(function(e,t){let i=l.createExplicitInterestObject("follow",s,t);l.writeExplicitInterestToLocalStorage(i),h&&"true"===localStorage.getItem("CnetUdsEnabled")&&n.push(i)}),window.UA.then(function(e){h&&"true"!==localStorage.getItem("CnetUdsEnabled")&&e.channel&&e.channel.tags&&e.channel.tags.add(s.name.toUpperCase(),l.getTagGroupByInterest(s.type))}),t},{interests:[],newsletters:[]});h&&"true"===localStorage.getItem("CnetUdsEnabled")&&window.uds_sdk&&window.uds_sdk.addInterest(n,"registration"),i._trackCustomEvent("tap","submit_interest|"+m.interests.length),i.getUserData(function(t,n){e.ajax({data:{interests:m.interests.join(","),newsletters:m.newsletters.join(","),regId:n.registrationId},dataType:"json",type:"POST",url:s.user.urls.interests}).done(function(e){e.success?(i._close(),i._completeLogin()):i._displayError(e.error),m.newsletters.length>0&&i.loadBlueHornetId(),i.$modal.find("#authentication_csrf").val(e.csrf),p.remove()})});break;case"login":p.add(),e.ajax({data:u,dataType:"json",type:"POST",url:s.user.urls.login}).done(function(e){e.success?(i._close(),i._loadUserData(),i._completeLogin()):(i._displayError(e.error),"invalid.loginpassword"===e.error&&i._trackCustomEvent("enterData","password|wrong")),i.$modal.find("#authentication_csrf").val(e.csrf),p.remove()});break;case"forgot":i._close();break;case"username":p.add(),e.ajax({data:u,dataType:"json",type:"POST",url:s.user.urls.username}).done(function(e){e.success?(i._close(),i._loadUserData(),i._completeLogin()):(i._displayError(e.error),"inuse.userName"===e.error&&i._trackCustomEvent("enterData","username|taken")),p.remove()});break;default:t.log("Current step not recognized.")}},placeError:function(e,t){t.is(":checkbox, :radio")&&t.parent("label").length?e.insertBefore(t.parent("label")):e.insertBefore(t)},errorAdded:function(e,t){"email"===t.name?i._trackCustomEvent("enterData","email|invalid"):"validPassword"===t.name?i._trackCustomEvent("enterData","password|invalid"):"usernameSpecialCharacters"!==t.name&&"usernameCharacterLength"!==t.name||i._trackCustomEvent("enterData","username|invalid")}}))},loadBlueHornetId:function(){e.ajax({dataType:"json",type:"POST",url:"/user/authentication/bluehornet/"}).done(function(e){h&&e[0].contactId&&localStorage.setItem("v77_contact_id",e[0].contactId)})},_setupPageEvents:function(){var t=this;this.$document.on("keydown","[data-authentication]",function(i){if(13===i.keyCode||32===i.keyCode){i.preventDefault();var n=e(this).data("authentication");t._setupEntryPoints(n)}}),this.$document.on("tap","[data-authentication]",function(i){var n=e(this).data("authentication");t._setupEntryPoints(n)}),this.$document.on("tap",'[data-user-action="logout"]',function(i){"true"===e('[data-user-action="logout"]').attr("data-user-suppress-refresh")&&i.preventDefault(),!window.uds_sdk||h&&"true"!==localStorage.getItem("CnetUdsEnabled")?l.repopulateInterestDB(function(){t.logout()},!0):t.logout()})},_setupEntryPoints:function(e){var t=this;e.appId&&(t.appId=e.appId),"boolean"==typeof e.refresh&&(t.refresh=e.refresh),t.socialRegistration=!1,t._trackCustomEvent("tap","start_authentication"),t.getUserData(function(i,n){n.isLoggedIn&&e.requireUsername&&!n.userName?t._show("username"):t._show("start")})},_setupSocialEvents:function(t){var i=this;t.common.addEventListener(URS.events.AUTH_COMPLETE,function(t,n){if(n.response.status.errors&&n.response.status.errors.length>0){var l=e.map(n.response.status.errors,function(e,t){return e.applicationCode});l.indexOf("invalid.noLink")>=0?(i.socialRegistration=!0,i._show("facebookRegister"),i._trackCustomEvent("enterData","facebook_credentials|registration_started")):(i._displayError(l[0]),(l.indexOf("required.email")>=0||l.indexOf("notallowed.socialLink")>=0)&&i.$modal.find("._facebookRegister").addClass("failed"),l.indexOf("inuse.userName")>=0&&i._trackCustomEvent("enterData","username|taken"))}else a.write(i.options.cookieUserRecognized,JSON.stringify({username:n.response.receipt.account.displayName,socialSite:n.response.socialSite}),{expires:365}),e.post("/user/social-login/",{email:n.response.receipt.account.emailAddress},function(t){"success"===t.status&&(i._loadUserData(),i.socialRegistration&&!o.isEspanol()?(r.trackCustomEvent("trackRegistration",e.extend(!0,{},i._baseTrackingData,{userid:s.tracking.data.userId,regService:"facebook",regDriver:i.entryPoints[i.appId],userState:"authenticated",userType:"registered",clickGenericText:"email_opt_in|"+i.termsChecked}),"confirmRegistration"),i._show("interests")):(i._close(),i._completeLogin()))},"json")})},_show:function(t){var i=this;if(!this.loading)if(["start","username"].indexOf(t)>=0)this.loading=!0,this.$modal&&this.$modal.remove(),e.ajax({url:s.user.urls.modal}).done(function(a){i.$modal=e(a.html).addClass("appId"+i.appId).appendTo(e("body")),i._setStep(t),i.$form=i.$modal.find("form"),n.process(i.$modal),i._setupModalEvents(),i.loading=!1,e(window).trigger("authenticationLoaded")});else{this.$form.data("formValidate").removeGlobalErrors();var a=100*(3*this.$modal.find("._"+this.step)[0].children.length+5);setTimeout(function(){i._setStep(t)},a),i._fadeOutStep()}},_updateDisplay:function(){var t=this,i=e("body");this.userData.isLoggedIn?(e("[data-user-var]").each(function(){var i=e(this),n=i.data("userVar"),a=i.data("userVarAttr"),o=t.userData[n];"userName"===n?(o||(o=t.userData.displayName),o.length>13&&"mobile"==s.device?o=o.substr(0,13)+"...":o.length>25&&(o=o.substr(0,22)+"...")):"profileLink"===n&&(a="href",o=i.attr("data-template").replace("__username__",t.userData.userName?t.userData.userName.replace(/ /g,"+").toLowerCase():t.userData.registrationId)),o&&(a?i.attr(a,o):"avatar"===n?i.html('<img class="avatarImg" src="'+o+'" />'):i.text(o))}),i.addClass("is-logged-in").removeClass("not-logged-in")):(e("[data-user-var]").each(function(){var i=e(this),n=i.data("userVar"),a=i.data("userVarAttr"),o=t.userData[n];"userName"===n?o=" ":"profileLink"===n&&(a="href",o="#"),o&&(a?i.attr(a,o):"avatar"===n?i.find("img").remove():i.text(o))}),i.removeClass("is-logged-in").addClass("not-logged-in"),e(".loggedIn .navMenu").removeClass("is-expanded").addClass("is-collapsed"),e(".c-siteHeader").removeClass("is-expanded").addClass("is-collapsed"),e(".c-masthead").removeClass("is-expanded").addClass("is-collapsed"),e("body").removeClass("nav-open").addClass("nav-closed"))},_newsletterSubscribe:function(){var i=this;i.termsChecked&&i.getUserData(function(n,a){a.isLoggedIn?e.ajax({data:{newsletters:i.newsletterCodes[i.appId],regId:a.registrationId},dataType:"json",type:"POST",url:s.user.urls.newsletters}).done(function(e){e.success?t.log("Successfully subscribed user to eCodes: "+i.newsletterCodes[i.appId]):t.log("Failed to subscribe user to newsletters.")}):t.log("Cannot subscribe to newsletters: User must be logged in.")})},_checkForOpenLoginOnLoad:function(){"1"==u.getParam("openLogin")&&e("[data-authentication]").first().trigger("tap")},_trackCustomEvent:function(i,n){t.log("Track custom event: "+i);s.tracking.data;r.trackCustomEvent(i,e.extend(!0,{},this._baseTrackingData,{clickGenericText:n,regService:this.regService,regDriver:this.entryPoints[this.appId]}),"trackClick")}})}),define("fly/utils/data-selector-1.0",["jquery"],function(e){e.extend(e.expr[":"],{data:e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}})})}),define("components/tabs-modal",["jquery","managers/tealium","managers/page-vars","version!fly/components/base","version!fly/utils/data-selector"],function(e,t,i){e.widget("cnet.tabsModal",e.fly.base,{options:{classOverlay:"loadingArea",classSelected:"selected",classOpen:"modalopen",closeModalSelector:'[data-item="close"]',enableDeselect:!1,enableEsc:!1,idOverlay:"bodyWrapper",notRoadshow:!1,selectorFocus:'[data-item="focus"]',tabSelector:'[data-item="trigger"]',closeOnScroll:!1},$currentTab:null,_baseTrackingData:{_pageTitle:i.tracking.data._pageTitle,siteSection:i.tracking.data.siteSection,pageType:i.tracking.data.pageType,siteEdition:i.tracking.data.siteEdition,siteType:i.tracking.data.siteType,siteHier:i.tracking.data.siteHier,brand:i.tracking.data.brand,_pageChannelType:i.tracking.data._pageChannelType},_create:function(){var e=this.options,t={},i=this;this._setup(),t["click "+e.tabSelector]="_handleClick",this._on(this.$element,t),this.$element.on("click",this.options.closeModalSelector,function(){i._hide(i.$currentTab)}),this.options.enableEsc&&this.$element.on("keydown",function(e){27===e.keyCode&&(e.preventDefault(),i._hide(i.$currentTab))})},_handleClick:function(t){var i=this.options,n=e(t.target).closest(i.tabSelector);t.preventDefault(),this.change(n)},_handleScroll:function(){this.$window.off("scroll.tabsModal"),this._hide(this.$currentTab)},_getContent:function(t){var i,n=t.data()||{},a=n.$content||[];return a.length?a:(i=n.target||t.attr("href"),a=e(i),t.data("$content",a),a)},_show:function(i){var n,a=this.options,o=this;if(!1!==this._trigger("show",null,{$tab:i})){this.$currentTab=i,n=this._getContent(i),e("html").addClass("scrollDisabled"),i.addClass(a.classSelected),n.addClass(a.classSelected),this._trigger("shown",null,{$tab:i,$content:n});var s="false"===i.attr("aria-expanded");i.attr("aria-expanded",s),n.attr("aria-hidden",!s),this.showOverlay();var r=e.extend(o._baseTrackingData,{clickGenericText:o.$currentTab.data("clicktracking")+"|open"});t.trackCustomEvent(o.$currentTab.data("eventName"),r,"trackClick"),setTimeout(function(){n.find(o.options.selectorFocus).focus()},300),a.closeOnScroll&&this.$window.on("scroll.tabsModal",this._handleScroll.bind(this))}},_hide:function(i){var n,a=this.options;if(!1!==this._trigger("hide",null,{$tab:i})){n=this._getContent(i),i.removeClass(a.classSelected),n.removeClass(a.classSelected),e("html").removeClass("scrollDisabled"),this._trigger("hidden",null,{$tab:i,$content:n});var o="false"===i.attr("aria-expanded");if(i.attr("aria-expanded",o),n.attr("aria-hidden",!o),this.hideOverlay(),this.$currentTab){var s=e.extend(this._baseTrackingData,{clickGenericText:this.$currentTab.data("clicktracking")+"|close"});t.trackCustomEvent(this.$currentTab.data("eventName"),s,"trackClick")}this.$currentTab=null}},change:function(e){var t,i=this.options;t=this.$element.find(i.tabSelector+"."+i.classSelected),e.data(),e.hasClass(i.classSelected)?i.enableDeselect&&this._hide(t):(this._hide(t),this._show(e))},showOverlay:function(){var t=e("<div>",{id:this.options.idOverlay,class:this.options.classOverlay});this.options.notRoadshow?e("#rbHeader").addClass(this.options.classOpen):e(".autoHeader").addClass(this.options.classOpen),e("body").append(t);var i=this;t.on("click",function(){i.change(e(i.options.tabSelector+"."+i.options.classSelected,i.$element))})},hideOverlay:function(){e(".autoHeader").removeClass(this.options.classOpen),e("#rbHeader").removeClass(this.options.classOpen),e("#"+this.options.idOverlay).remove()}})}),define("components/site-header",["jquery","managers/client-storage","version!fly/managers/debug","managers/tealium","managers/page-vars","version!fly/components/base"],function(e,t,i,n,a){i=i.init("siteHeader"),e.widget("cnet.siteHeader",e.fly.base,{options:{classExpanded:"is-expanded",classCollapsed:"is-collapsed",classScreenRead:"-srOnly",selectorNav:".c-siteHeader",classLink:".menuList_link",selectorMenuContainer:'[data-item="menuContainer"]',storageName:"cnet_header_new_tag"},_baseTrackingData:{_pageTitle:a.tracking.data._pageTitle,siteSection:a.tracking.data.siteSection,pageType:a.tracking.data.pageType,siteEdition:a.tracking.data.siteEdition,siteType:a.tracking.data.siteType,siteHier:a.tracking.data.siteHier,brand:a.tracking.data.brand,_pageChannelType:a.tracking.data._pageChannelType},_create:function(){this._setup(),this._setupEvents()},_setupEvents:function(){var i=this,n=i.options,a=e(".search .navMenuItem"),o=this.$element.find('[data-item="menuItem"]'),s=this.$element.find(n.selectorMenuContainer),r=e(n.selectorNav),l=e(n.classLink);a.on("click",function(){setTimeout(function(){e("[data-search-input]").focus()},200)}),o.on("click",function(a){if(a.preventDefault(),e(a.currentTarget).closest(n.selectorMenuContainer).hasClass(n.classExpanded))e(a.currentTarget).closest(n.selectorMenuContainer).removeClass(n.classExpanded).addClass(n.classCollapsed),i._trackEvent("navClick",r.attr("section")+"|"+e(a.currentTarget).closest(n.selectorMenuContainer).attr("section")+"|close");else{for(var o=0;o<s.length;o++)s.eq(o).hasClass(n.classExpanded)&&s.eq(o).removeClass(n.classExpanded).addClass(n.classCollapsed);if(e(a.currentTarget).closest(n.selectorMenuContainer).removeClass(n.classCollapsed).addClass(n.classExpanded),i._trackEvent("navClick",r.attr("section")+"|"+e(a.currentTarget).closest(n.selectorMenuContainer).attr("section")+"|open"),"reviews"===e(a.currentTarget).closest(n.selectorMenuContainer).attr("section")){var l=t.read(i.options.storageName);l>=3?i.$element.find("[data-new-flag]").addClass("hidden"):l?t.write(i.options.storageName,parseInt(l,10)+1):t.write(i.options.storageName,1)}}}),o.on("keydown",function(t){switch(t.which){case 38:t.preventDefault(),e(t.currentTarget).closest(n.selectorMenuContainer).removeClass(n.classExpanded).addClass(n.classCollapsed);break;case 32:t.preventDefault(),e(t.currentTarget).trigger("click");break;case 40:if(t.preventDefault(),"searchMenuItem"===t.currentTarget.id)e(t.currentTarget).trigger("click");else{for(var i=0;i<s.length;i++)s.eq(i).hasClass(n.classExpanded)&&s.eq(i).removeClass(n.classExpanded).addClass(n.classCollapsed);e(t.currentTarget).closest(n.selectorMenuContainer).removeClass(n.classCollapsed).addClass(n.classExpanded)}break;case 27:t.preventDefault();for(var a=0;a<s.length;a++)s.eq(a).hasClass(n.classExpanded)&&s.eq(a).removeClass(n.classExpanded).addClass(n.classCollapsed)}}),e(this.$element).on("keydown",function(t){9===t.keyCode&&e(t.currentTarget).addClass(n.classScreenRead)}),e(this.$element).on("click",function(t){e(t.currentTarget).removeClass(n.classScreenRead)}),e(this.$element.nextAll()).click(function(){for(var e=0;e<s.length;e++)s.eq(e).hasClass(n.classExpanded)&&s.eq(e).removeClass(n.classExpanded).addClass(n.classCollapsed)}),e('[data-item="logoContainer"').click(function(){for(var e=0;e<s.length;e++)s.eq(e).hasClass(n.classExpanded)&&s.eq(e).removeClass(n.classExpanded).addClass(n.classCollapsed)}),l.on("click",function(t){i._trackEvent("navLinkClick",r.attr("section")+"|"+e(t.currentTarget).closest(n.selectorMenuContainer).attr("section")+"|"+e(t.currentTarget).text().replace(" ","-"))})},_trackEvent:function(t,i){n.trackCustomEvent(t,e.extend(this._baseTrackingData,{clickGenericText:i}),"trackClick")}})}),define("components/auto-suggest",["jquery","version!fly/managers/debug","managers/tealium","managers/page-vars","version!fly/components/base"],function(e,t,i,n){t=t.init("autoSuggest"),e.widget("cnet.autoSuggest",e.fly.base,{options:{limit:null,classMenuShow:"active",classOpen:"open",classReady:"ready",classSelected:"selected",selectorMenu:".menuWrapper",selectorSuggestions:"li:not(.hed)",url:"/autosuggest/xhr/",showLimit:10,clickable:!1},suggestXhr:null,$searchBox:null,$submitButton:null,_didTrackEnterSubmit:!1,_baseTrackingData:{_pageTitle:n.tracking.data._pageTitle,siteSection:n.tracking.data.siteSection,pageType:n.tracking.data.pageType,siteEdition:n.tracking.data.siteEdition,siteType:n.tracking.data.siteType,siteHier:n.tracking.data.siteHier,brand:n.tracking.data.brand,_pageChannelType:n.tracking.data._pageChannelType},_create:function(){this._setup(),this.$searchBox=this.$element.find("input"),this.$submitButton=this.$element.find('[type="submit"]'),this.$siteHeader=e("#rbHeader"),this._setupEvents(),this._setupTracking()},_setupEvents:function(){var t=this;this.$element.on("submit",function(i){var n=e(t.options.selectorSuggestions,t.$element).filter("."+t.options.classSelected),a=n.text(),o=n.attr("href");o?(i.preventDefault(),window.location.href=o):a&&t.$searchBox.val(a)}),this.$element.on("mousedown",this.options.selectorSuggestions,function(i){var n=e(this).attr("href");if(n)window.location=n;else{var a=e(t.options.selectorSuggestions,t.$element).filter("."+t.options.classSelected);""!==a.text()&&a.removeClass(t.options.classSelected),t._submitAutoSuggest(i)}}),this.$searchBox.on("focusout",function(i){0==e(i.relatedTarget).closest(".menuWrapper").length&&t._hideAutoSuggest()}),this.$searchBox.on("keyup",function(e){e.which>=37&&e.which<=40||t._doAutoSuggest()}),this.$searchBox.on("keydown",function(e){e.which>=37&&e.which<=40&&t._doArrowKey(e)}),e('[data-component="siteHeader"]').on("siteheadersectionchange",function(){t._updateSmartSearchTracking()}),e("#searchMenu [data-searchoverlay]").on("click",function(){t.$siteHeader.hasClass("showSearch")&&t.$siteHeader.removeClass("showSearch")})},_doAutoSuggest:function(){var i=this,n=i.options;if(i.suggestXhr&&4!=i.suggestXhr.readyState&&0!==i.suggestXhr.readyState&&i.suggestXhr.abort(),""!==i.$searchBox.val()){var a=n.url+"?query="+i.$searchBox.val();n.limit&&(a=a+"&limit="+n.limit),n.showLimit&&(a=a+"&showLimit="+n.showLimit),t.log("AutoSuggestXHR: ",a),this.$submitButton.addClass(this.options.classReady),this.$searchBox.addClass(this.options.classReady),!1===this.options.clickable&&!this.$siteHeader.hasClass("showSearch")&&this.$siteHeader.addClass("showSearch"),i.suggestXhr=e.ajax({url:a,dataType:"json",context:document.body}).done(function(t){i.$element.addClass(n.classMenuShow);var a=e(e.parseHTML(e.trim(t.html)));e(n.selectorSuggestions,a).length>0?(0===e(n.selectorMenu,i.$element).length?a.appendTo(i.$element):e(n.selectorMenu,i.$element).replaceWith(a),i._setupAdditionalResults()):(i._hideAutoSuggest(),e(n.selectorMenu,i.$element).html(""))}).fail(function(){i._hideAutoSuggest()})}else i._hideAutoSuggest(),e(n.selectorMenu,i.$element).html(""),this.$siteHeader.hasClass("showSearch")&&this.$siteHeader.removeClass("showSearch"),this.$submitButton.removeClass(this.options.classReady),this.$searchBox.removeClass(this.options.classReady)},_doArrowKey:function(t){var i=e(this.options.selectorSuggestions,this.$element),n=i.filter("."+this.options.classSelected),a=i.index(n);if(38===t.which)n.removeClass(this.options.classSelected),a<=0?i.last().addClass(this.options.classSelected):i.eq(a-1).addClass(this.options.classSelected);else if(40===t.which)n.removeClass(this.options.classSelected),a<0||a===i.length-1?i.first().addClass(this.options.classSelected):i.eq(a+1).addClass(this.options.classSelected);else if(37===t.which||39===t.which){var o=n.closest("[data-additional-results]");o.length>0&&this._toggleAdditionalResults(this.$element.find("[data-additional-results]"),o,39===t.which)}},_hideAutoSuggest:function(){var e=this.options;this.$element.removeClass(e.classMenuShow)},_updateSmartSearchTracking:function(){var t=e("#searchTab [data-searchtracking]");if(t.length>0){var i=e("#rbHeader > nav[section]").attr("section")?e("#rbHeader > nav[section]").attr("section"):"";t.attr("section",i)}},_submitAutoSuggest:function(t){var n=e(t.target),a=n.text();i.trackSuggestedSearch({searchTerm:a,dwLinkTag:"search|suggestedSearch|"+n.prevAll().length}),this.$searchBox.val(a),this.$element.submit()},_setupAdditionalResults:function(){var t=this,i=this.$element.find("[data-additional-results]");i.each(function(n,a){var o=e(a);o.find('[data-auto-suggest-item="trigger"]').on("click",function(){t._toggleAdditionalResults(i,o)})})},_toggleAdditionalResults:function(t,i,n){var a=this,o=i.find('[data-auto-suggest-item="container"]');o.html()?i.toggleClass(function(e,t,i){return i||o.find("."+a.options.classSelected).removeClass(a.options.classSelected),a.options.classOpen},n):!1!==n&&e.ajax({dataType:"json",type:"GET",url:i.data("additionalResults")}).done(function(e){e.html&&(o.html(e.html),i.addClass(a.options.classOpen))}),t.not(i).removeClass(this.options.classOpen)},_setupTracking:function(){t.log("Setting up Smart Search tracking");var i=this,n=i.$element,a=n.find('input[type="search"]'),o=n.find(".submit");e('[data-target="#search"]');a.on("keydown.smartSearchTracking",function(e){13===e.keyCode&&(i._trackSubmit("enter"),i._didTrackEnterSubmit=!0)}),o.on("click.smartSearchTracking",function(){i._didTrackEnterSubmit||i._trackSubmit("button")}),n.on("click",'[data-smartsearch="seeall"]',function(){i._didTrackEnterSubmit||i._trackSubmit("seeall")}),n.on("click.smartSearchTrackingMakeAndModel",".makesAndModels a",function(t){i._trackMakeModelClick(e(this))}),n.on("click.smartSearchTrackingContent",".results a",function(t){i._trackContentLinkClick(e(this))})},_trackSubmit:function(n){t.log("Track submit with "+n);var a=this.$element.find('input[type="search"]').val();t.log("Typed text: "+a);var o="search|submit|"+n;if(this.$element.find("button[data-smartsearch]").attr("data-smartsearch"))o="brand_nav|"+(this.$siteHeader.hasClass("fixed")?"popup":"top")+"|search|typed|"+n;i.trackCustomEvent("searchSubmit",e.extend(this._baseTrackingData,{_searchTerm:a.toLowerCase(),clickGenericText:o}),"trackClick")},_trackMakeModelClick:function(n){t.log("Track make and model click");var a=n.text(),o=(e('.autoHeader input[type="search"]').val(),"search|suggested"+n.attr("data-category")+"|"+(n.parent().index()+1)),s=e.extend(this._baseTrackingData,{searchTerm:a.toLowerCase(),clickGenericText:o});i.trackCustomEvent("searchResultClick",s,"trackClick")},_trackContentLinkClick:function(n){t.log("Track content link click");var a=e('.autoHeader input[type="search"]').val(),o="search|suggestedContent|"+(n.parent().index()+1);i.trackCustomEvent("searchResultClick",e.extend(this._baseTrackingData,{searchTerm:a,clickGenericText:o}),"trackClick")}})}),define("components/lazyload-component",["jquery","version!fly/managers/debug","version!fly/managers/components","version!fly/components/base"],function(e,t,i){t=t.init("lazyloadComponent"),e.widget("cnet.lazyloadComponent",e.fly.base,{options:{endpoint:"",slug:"",view:"",familyName:"",typeName:"",limit:""},_create:function(){this._setup();var i=this.options.endpoint+"?endpoint=%2Fapi%2Fcomponent%2Fcomponent%2F"+this.options.slug+"&view="+this.options.view+"&familyName="+this.options.familyName+"&typeName="+this.options.typeName;""!==this.options.limit&&(i+="&limit="+this.options.limit),t.log("URL: ",i),e.ajax({url:i,dataType:"json",context:{context:this}}).done(this._onSuccess).fail(this._onError)},_onSuccess:function(t){"use strict";var n=this.context.$element,a=e(e.parseHTML(e.trim(t.component.html)));n.append(a),n.removeClass("hide"),n.addClass("show"),i.process(n)},_onError:function(){}})}),define("components/mobile-footer-link",["jquery","version!fly/managers/debug","managers/client-storage","utils/cookie","version!fly/components/base"],function(e,t,i,n){t=t.init("mobileFooterLink"),e.widget("cnet.mobileFooterLink",e.fly.base,{options:{},_create:function(){this._setup();i.read("mobileRedirect")&&(this.$element.append('<li><a class="view">Switch to mobile</a></li>'),this._setEvent())},_setEvent:function(){this.$element.find("a.view").on("click",function(){n.write("fly_device","mobile"),i.erase("mobileRedirect"),window.location.reload(!0)})}})}),define("fly/components/modal-1.0",["jquery","version!fly/components/base"],function(e){var t=e.support.touch?"vclick":"click";e.widget("fly.modal",e.fly.base,{options:{content:null,position:"absolute",classModal:"modal",classBackdrop:"modal-backdrop",classShow:"show",classFixed:"fixed",enableKeyEvents:!0,openOnInit:!1,template:null},$modal:null,$backdrop:null,$body:null,isOpen:!1,eventData:{},_create:function(){var i=this.options,n="fixed"===i.position?" "+i.classFixed:"",a={},o={};this._setup(),this.$modal=this.$element.addClass(i.classModal+n),this.$backdrop=e("<div>").addClass(i.classBackdrop+n),this.$body=e(document.body),this.top=parseInt(this.$modal.css("top"),10),i.content&&this.setContent(i.content),this.eventData={$modal:this.$modal,$backdrop:this.$backdrop},a[t]="_handleClose",o[t+' [data-close="modal"]']="_handleClose",this._on(this.$backdrop,a),this._on(this.$modal,o)},_init:function(){this.options.openOnInit&&this.open()},_handleKeyboard:function(e){27==e.keyCode&&this.close()},_handleClose:function(e){e.preventDefault(),this.close()},open:function(){var e=this.options;this.isOpen||!1!==this._trigger("open",null,this.eventData)&&(this.$backdrop.addClass(e.classShow).appendTo(this.$body),this.$modal.addClass(e.classShow).appendTo(this.$body),this.position(),e.enableKeyEvents&&this._on(this.$document,{keyup:"_handleKeyboard"}),this.isOpen=!0,this._trigger("opened",null,this.eventData))},close:function(){var e=this.options;this.isOpen&&!1!==this._trigger("close",null,this.eventData)&&(this.$backdrop.removeClass(e.classShow),this.$modal.removeClass(e.classShow),this._off(this.$document,"keyup"),this.isOpen=!1,this._trigger("closed",null,this.eventData))},setContent:function(t){var i,n=this.options,a=this,o=e(t);o.hasClass(n.classModal)&&(o.removeClass(n.classModal),i=o.prop("attributes"),e.each(i,function(){"class"===this.name?a.$modal.addClass(this.value):a.$modal.attr(this.name,this.value)}),o=o.children()),this.$modal.empty().append(o),this._trigger("contentSet",null,e.extend({},this.eventData,{$modal:this.$modal,$content:o}))},position:function(){var e=this.options,t=this.$window.height(),i=isNaN(this.top)?(t-this.$modal.outerHeight())/3:this.top;i<20&&(i=20),"absolute"==e.position&&(i+=this.$window.scrollTop(),this.$backdrop.css({height:this.$document.height()})),this.$modal.css({top:i}),this._trigger("positioned",null,{$modal:this.$modal})},_destroy:function(){this.$backdrop.remove()}}),e(document).on(t+".modal-api.data-api",'[data-open="modal"]',function(t){var i=e(this),n=i.data(),a=n.$modal;t.preventDefault(),a||(a=e(n.target||i.attr("href")),i.data("$modal",a)),a.length&&a.modal().modal("open")})}),define("components/global-modal",["jquery","managers/tealium","managers/page-vars","version!fly/managers/components","version!fly/components/modal"],function(e,t,i,n){e.widget("cnet.globalModal",e.fly.modal,{options:{modalTemplate:'<svg class="close" data-close="modal"><use xlink:href="#close" /></svg>{{content}}',container:null,setContentOnInit:!0,trackModal:null},_baseTrackingData:{_pageTitle:i.tracking.data._pageTitle,siteSection:i.tracking.data.siteSection,pageType:i.tracking.data.pageType,siteEdition:i.tracking.data.siteEdition,siteType:i.tracking.data.siteType,siteHier:i.tracking.data.siteHier,brand:i.tracking.data.brand,_pageChannelType:i.tracking.data._pageChannelType},_create:function(){var i=this,n=null;this.options.setContentOnInit||(n=this.options.content,this.options.content=null),this._super(),this.options.setContentOnInit||(this.options.content=n,this.$element.on("modalopen",function(){if(!i.options.setContentOnInit&&i.options.content&&(i.setContent(i.options.content),i.options.trackModal)){var n=e.extend({},i._baseTrackingData,{clickGenericText:i.options.trackModal+"|open"});t.trackCustomEvent("modalTracking",n,"trackClick")}})),this.$body=this.options.container?e(this.options.container):this.$body},close:function(){if(this._super(),this.options.trackModal){var i=e.extend({},this._baseTrackingData,{clickGenericText:this.options.trackModal+"|close"});t.trackCustomEvent("modalTracking",i,"trackClick")}},setContent:function(t){var i,a=this.options,o=this;if("string"==typeof t){var s=e(t);this.$modal.html(a.modalTemplate.replace("{{content}}",null!=s.context?s.html():t))}else t.hasClass(a.classModal)&&(t.removeClass(a.classModal),i=t.prop("attributes"),e.each(i,function(){"class"===this.name?o.$modal.addClass(this.value):o.$modal.attr(this.name,this.value)}),t=a.modalTemplate.replace("{{content}}",t.html())),this.$modal.empty().append(t),this._trigger("contentSet",null,e.extend({},this.eventData,{$modal:this.$modal,$content:t}));n.process(this.$element)},position:function(){var t,i,n,a,o,s,r=this.options;this.$body.is(e(document.body))?(t=this.$window.height(),n=this.$window.scrollTop(),o=this.$document.height(),s=this.$window.width()/2,a=this.$window.scrollLeft()):(t=this.$body.height(),n=this.$body.scrollTop(),o=t,s=this.$body.width()/2,a=this.$body.scrollLeft()),(i=isNaN(this.top)?(t-this.$modal.outerHeight())/2:this.top)<20&&(i=20),"absolute"==r.position&&(i+=n,this.$backdrop.css({height:o})),this.$modal.css({top:i}),this._trigger("positioned",null,{$modal:this.$modal}),this.$element.css("left",s+a-this.$element.outerWidth()/2)}})}),define("fly/components/modal-iframe-1.0",["jquery","version!fly/utils/object-helper","version!fly/utils/url-helper","version!fly/components/modal","version!fly/components/loading"],function(e,t,i){e.support.touch;e.widget("fly.modalIframe",e.fly.modal,{options:{url:null,requestData:{},messages:{},loader:{disabled:!1}},messenger:null,_create:function(){this._super(),this._setupLoader()},_setupLoader:function(){var t=this;this.loader=e.fly.loading(e.extend(this.options.loader,{shown:function(){t.$element.addClass(t.loader.options.classes.loading)},hidden:function(){t.$element.removeClass(t.loader.options.classes.loading)}})),this.loader.$element.appendTo(this.$element)},open:function(){this.isOpen||(this.loader.add(),this.loadContent(),this._super())},_getUrl:function(){var t=this.options,i=t.url;return t.requestData&&(i=i+(i.indexOf("?")>0?"&":"?")+e.param(t.requestData)),i},loadContent:function(){var t=this.options,i=this;this.messenger=this.$element.iframeMessenger({remoteUrl:this._getUrl(),receivableMessages:e.extend({},t.messages,{ready:function(){i._trigger("iframeReady"),i.loader.remove()},closeModal:function(){i.close()},scroll:function(t){var n=i.$element.offset().top+t.offset;n-=i.$window.height()/6,e("html, body").animate({scrollTop:n},"fast")}})})}})}),define("components/modal-iframe",["jquery","version!fly/managers/debug","version!fly/components/modal-iframe","components/loading"],function(e,t){t=t.init("modalIframe"),e.widget("fly.modalIframe",e.fly.modalIframe,{options:{modalTemplate:'<svg class="close" data-close="modal"><use xlink:href="#close" /></svg>{{content}}',loader:{classes:{loading:"loadingCircle"}}},$body:null,_create:function(){this._super(),this.$body=e(document.body),this.setContent('<a class="close" data-close="modal"></a>'),this._setupLoader()},_setupLoader:function(){var t=this;this.loader=e.cnet.loading(e.extend(this.options.loader,{shown:function(){t.$element.addClass(t.loader.options.classes.loading)},hidden:function(){t.$element.removeClass(t.loader.options.classes.loading)}})),this.loader.$element.appendTo(this.$element)},open:function(){this.isOpen||(this.loader.add(),this.loadContent(),this._super(),this.centerHorizontally())},loadContent:function(){var t=this.options,i=this;this.messenger=this.$element.iframeMessenger({remoteUrl:this._getUrl(),receivableMessages:e.extend({},t.messages,{ready:function(){i._trigger("iframeReady"),i.loader.remove(),setTimeout(i.centerHorizontally.bind(i),250)},closeModal:function(){i.close()}})})},centerHorizontally:function(){this.$element.css("margin-left",-this.$element.width()/2)},position:function(){var e=this.options,t=this.$window.height(),i=isNaN(this.top)?(t-this.$modal.outerHeight())/3:this.top;i<20&&(i=20),"absolute"==e.position&&(i+=this.$window.scrollTop(),this.$backdrop.css({height:this.$document.height()})),this.$modal.css({top:i}),this._trigger("positioned",null,{$modal:this.$modal})}})}),define("managers/user",["jquery","components/authentication"],function(e){return e.cnet.authentication()}),define("translations/modal-email",["managers/edition"],function(e){return e.getTranslation({en:{confirmation:"Your e-mail was sent successfully!",incorrectCaptcha:"The response you entered was incorrect.  Please try again.",notice:"Keep your friends up to date on your wish list.",messageA:"Click the",messageB:"to share the products you want with your friends.",ok:"OK, Got it"},es:{confirmation:"Tu email fue enviado exitosamente!",incorrectCaptcha:"La Captcha no es correcta. Por favor, inténtalo otra vez.",notice:"Mantén a tus amigos informados sobre tu lista.",messageA:"Haz clic en el",messageB:"para que tus amigos vean los productos que quieres.",ok:"De acuerdo"}})}),define("components/modal-email",["jquery","version!fly/managers/debug","version!fly/managers/components","managers/edition","managers/user","translations/modal-email","components/global-modal","components/loading","version!fly/components/form-validate"],function(e,t,i,n,a,o){t=t.init("modalEmail"),e.widget("cnet.modalEmail",e.cnet.globalModal,{options:{emailType:"friend",pageTitle:function(){return document.title},pageUrl:function(){return window.location.href},recipientId:null,recipientName:"",messageThankYou:o.confirmation},emailTypes:{friend:{url:{us:"/email/friend/",es:"/es/email/friend/"},requireUsername:!1},friendRoadshow:{url:{us:"/email/friend/roadshow/",es:"/es/email/friend/roadshow/"},requireUsername:!1},member:{url:{us:"/email/member/",es:"/es/email/member/"},requireUsername:!0},editor:{url:{us:"/email/editor/",es:"/es/email/editor/"},requireUsername:!1},flag:{url:{us:"/email/flag/",es:"/es/email/flag/"},requireUsername:!0},video:{url:{us:"/email/video-feedback/",es:"/es/email/video-feedback/"},requireUsername:!1}},errorMessages:{"cnet.notsent":"There was an error attempting to send your e-mail.  Please try again.","cnet.nousername":"You must have a valid username to send an e-mail.","cnet.notloggedin":"You must be logged in to send an e-mail.","cnet_recaptcha.incorrect-captcha-sol":o.incorrectCaptcha,"cnet_recaptcha.missing-input-response":o.incorrectCaptcha},_create:function(){this._super(),this.setContent('<a class="close" data-close="modal"></a>'),this._setupLoader()},_setupLoader:function(){this.loader=e.cnet.loading(),this.loader.$element.addClass("modal-content")},open:function(){var e=this,t=this.emailTypes[this.options.emailType];this.isOpen||(t.requireUsername?(a.hasAccess({requireUsername:!0,nextAction:function(i){e._openEmailType(t)}}),e._super()):(this._openEmailType(t),e._super()))},_openEmailType:function(t){var a=this;this.setContent(""),this.loader.$element.appendTo(this.$element),this.loader.add(),e.ajax({url:t.url[n.getEdition()],data:this.options.recipientId?{regId:this.options.recipientId}:null,dataType:"text"}).done(function(t){a.loader.remove(),a.setContent(t),a.position(),a._setupEvents(),e("[data-email-var]",a.$element).each(function(t,i){var n=e(i),o=n.data("emailVar");"pageTitle"===o?n.text(a.options.pageTitle):"recipientName"===o&&n.text(a.options.recipientName)}),e('input[name="emailFriend[pageTitle]"]',a.$element).val(a.options.pageTitle);var n="string"==typeof a.options.pageUrl?a.options.pageUrl:a.options.pageUrl();e('input[name="emailFriend[pageUrl]"]',a.$element).val(n),i.process(a.$element)}).always(function(){a.loader.remove()})},_setupEvents:function(){var t=this,i=e("form",this.$element),n=e('[data-component="recaptcha"], .g-recaptcha',t.$element),a=e('[data-email-var="error"]',i);i.formValidate({success:function(o){o.preventDefault(),e.ajax({dataType:"json",type:"POST",url:i.attr("action"),data:i.serialize()}).done(function(e){"success"===e.status?(i.html(t.options.messageThankYou),t.position()):(e.errors?a.text(e.errors[0]):a.text(t.errorMessages[e.message]),n.recaptcha("reload"))})}})}}),e(document).on("click.modalEmail-api.data-api",'[data-open="modalEmail"]',function(t){var i,n=e(this),a=n.data().$modal;t.preventDefault(),a?a.open():(i=n.data("modalEmailOptions")||n.dataPrefix("modalEmail"),n.data("$modal",e.cnet.modalEmail(e.extend(i,{openOnInit:!0,destroy:function(){n.data("$modal",null)}}))))})}),define("managers/events",["jquery","version!fly/managers/debug"],function(e,t){t=t.init("events");var i={};return{publish:function(e,t){for(var n=0;n<e.length;n++)if(i[e[n]]&&i[e[n]][t])for(var a=0;a<i[e[n]][t].length;a++)i[e[n]][t][a]()},subscribe:function(e,t){for(var n in t)if(t.hasOwnProperty(n))for(var a in i[n]=i[n]||{},t[n])t[n].hasOwnProperty(a)&&(i[n][a]=i[n][a]||[],i[n][a].push(e[t[n][a]].bind(e)))}}}),define("components/uds-sdk",["jquery","managers/user","managers/tealium","managers/events","version!fly/managers/debug","managers/client-storage","@firebase/app","@firebase/auth","@firebase/firestore","@firebase/functions"],function(e,t,i,n,a,o,s){let r=void 0,l=void 0,d=void 0,c=!1;a=a.init("uds-sdk");const u=o.localStorageSupported();var p={enabled:void 0,_optInInterests:[],_firebaseConfig:{apiKey:void 0,authDomain:void 0,projectId:void 0},_unsubListener:void 0,_signInFunctionQueue:[],_snapshotListenerStatus:"uninitialized",options:{eventChannel:["interestChange"]},_collections:{registered:{users:void 0,interests_summary:void 0},anonymous:{users:void 0,interests_summary:void 0}},_authStatus:{localPersistenceChecked:!1,complete:void 0,type:void 0,userCollection:void 0,interestsSummaryCollection:void 0,notifyLogin:!1},_platform:void 0,_environment:void 0,activeInterests:{},_init:function(){let i=this,n=void 0;if(u&&this._enableUDS()){if(this.enabled=!0,window.CnetPageVars.personalization&&window.CnetPageVars.personalization.firebase&&window.CnetPageVars.personalization.firebase.config&&window.CnetPageVars.personalization.functions){if(n=window.CnetPageVars.personalization.firebase.config,s.initializeApp(n),r=s.firestore(),window.CnetPageVars.personalization.firestore&&window.CnetPageVars.personalization.firestore.settings&&r.settings(window.CnetPageVars.personalization.firestore.settings),l=s.functions(),window.CnetPageVars.personalization.functions.override&&window.CnetPageVars.personalization.functions.origin&&l.useFunctionsEmulator(window.CnetPageVars.personalization.functions.origin),!window.CnetPageVars.personalization)return void a.log("Invalid UDS configuration");if(!window.CnetPageVars.personalization.functions)return void a.log("Invalid UDS functions configuration");if(c=!0,window.CnetPageVars.personalization.firestore&&window.CnetPageVars.personalization.firestore.collections){let e=window.CnetPageVars.personalization.firestore.collections;if(!(e.registered&&e.registered.users&&e.registered.interests_summary&&e.anonymous&&e.anonymous.users&&e.anonymous.interests_summary))return void a.log("Invalid UDS collection configuration");i._collections.registered.users=e.registered.users,i._collections.registered.interests_summary=e.registered.interests_summary,i._collections.anonymous.users=e.anonymous.users,i._collections.anonymous.interests_summary=e.anonymous.interests_summary}window.CnetPageVars.personalization.base&&(this._platform=window.CnetPageVars.personalization.base.platform,this._environment=window.CnetPageVars.personalization.base.environment),s.auth().onAuthStateChanged(function(e){this._localPersistenceAuth()}.bind(this)),a.log("Firestore loaded")}else a.error("Firebase SDK Failed to load");t.$element.on("userhasloggedin",function(e,t){this._regAuth(t,!0)}.bind(this)),e(window).on("anonuserloaded",function(e,t,i){this._anonAuth(!0)}.bind(this)),e(window).on("userhasexpired",function(e,t,i){this._anonAuth(!0)}.bind(this))}else this.enabled=!1},processView:function(t,i,n){let o=this;if(null==i&&(i="view-add"),null==n&&(n=!0),!(t=Array.isArray(t)?e.extend(!0,[],t):[t=e.extend(!0,{},t)]).length)return new Promise(function(e){a.warn("Empty array passed in to processView"),e("Empty array passed in to processView")});if(r||s.apps&&s.apps.length>=1&&(r=s.apps[0].firestore()),!this._authStatus.complete){if(this._signInFunctionQueue){a.warn("Trying to add view but user not signed into firebase. Adding view to sign in queue");let e={functionName:"processView"};e.views=t,e.event=i,e.shouldFireTracking=n,this._signInFunctionQueue.push(e)}return new Promise(function(e){e("View not added to firestore, current user is not the signed in user")})}let c={};if(t.forEach(function(e){const t="cnet_"+e.edition;c[t]?c[t].push(e):c[t]=[e]}),Object.keys(c).length>1)return a.warn("Multiple site edition combinations passed in on views to be added. Splitting on site-edition and reprocessing seperated lists"),Object.keys(c).forEach(function(e){o.processView(c[e],i,n)}),new Promise(function(e){e("Multiple site edition combinations passed in on views to be added. Splitting on site-edition and reprocessing seperated lists")});if(t.forEach(function(e){o._normalizeView(e)}),"view-add"===i){if(d&&d.content_entity_id===t[0].content_entity_id)return a.warn("TRYING TO ADD A VIEW FOR THE SAME PIECE OF CONTENT MULTIPLE TIMES ON ONE PAGE VIEW: "+JSON.stringify(t[0])),new Promise(function(e){e("TRYING TO ADD A VIEW FOR THE SAME PIECE OF CONTENT MULTIPLE TIMES ON ONE PAGE VIEW: "+JSON.stringify(t[0]))});d=t[0]}return new Promise(function(e,s){o._getAirshipChannelId().then(function(r){const d={event:i,site:"cnet",edition:t[0].edition,views:t,channel_id:r,platform:o._platform,environment:o._environment,should_fire_tracking:n};"anonymous"===o._authStatus.type&&(d.anon_id=o._getUserId());const c=JSON.stringify(d);l.httpsCallable("viewAddRequestedProxy")(c).then(function(t){a.log(t),e(t)}).catch(function(e){e.message?(a.log(e.message),s(e.message)):s(e)})})})},addInterest:function(t,i,n){const o=this;if(null==n&&(n=!0),0===(t=Array.isArray(t)?e.extend(!0,[],t):[t=e.extend(!0,{},t)]).length)return a.warn("Not processing request to add interests. Empty interest array passed."),new Promise(function(e){e("Not processing request to add interests. Empty interest array passed.")});if(!c)return new Promise(function(e,t){e("Explicit Interest not added, invalid UDS configuration")});if(!this._authStatus.complete){if(a.warn("Trying to add interests but user not signed in to firebase. Adding intrerest to sign in queue"),this._signInFunctionQueue){let e={functionName:"addInterest"};e.interests=t,e.event=i,e.shouldFireTracking=n,this._signInFunctionQueue.push(e)}return new Promise(function(e,t){e("Explicit Interest not added to firestore, current user is not the signed in user")})}let s={};if(t.forEach(function(e){const t="cnet_"+e.edition;s[t]?s[t].push(e):s[t]=[e]}),Object.keys(s).length>1)return a.warn("Multiple site edition combinations passed in on interests to be added. Splitting on site-edition and reprocessing seperated lists"),Object.keys(s).forEach(function(e){o.addInterest(s[e],i,n)}),new Promise(function(e){e("Multiple site edition combinations passed in on interests to be added. Splitting on site-edition and reprocessing seperated lists")});if("registration"===i&&"anonymous"===this._authStatus.type){if(a.warn("Trying to add interest to anon user, even though interest should go to signed in user. Adding interest to sign in queue"),this._signInFunctionQueue){let e={functionName:"addInterest"};e.interests=t,e.event=i,e.shouldFireTracking=n,this._signInFunctionQueue.push(e)}return new Promise(function(e,t){e("Explicit Interest not added to firestore, trying to add registration event to anon user")})}const r=this._getUserId();if("opt-in"===i){if("uninitialized"===o._snapshotListenerStatus){if(a.warn("Trying to add opt-in interests but snapshot listener not configured yet. Adding to sign in queue"),this._signInFunctionQueue){let e={functionName:"addInterest"};e.interests=t,e.event=i,e.shouldFireTracking=n,this._signInFunctionQueue.push(e)}return new Promise(function(e,t){e("Adding interest add to sign in queue, trying to add opt-in event before snapshot listener hooked up.")})}let e=t.filter(function(e){return!p._optInInterests.includes(e.interest_id)});if(0===e.length)return a.log("Already sent opt-in events for user "+r+". Not sending again"),new Promise(function(e){e("Already sent opt-in event interest for user "+r+". Not sending again")});t=e}return t.forEach(function(e){delete e.anon_id,delete e.urs_id,delete e.user_id,"roadshow"===t.site&&(t.site="cnet"),e.should_fire_tracking=!1}),new Promise(function(e,s){o._getAirshipChannelId().then(function(r){const d={site:"cnet",event:i,edition:t[0].edition,interests:t,channel_id:r,platform:o._platform,environment:o._environment};"anonymous"===o._authStatus.type&&(d.anon_id=o._getUserId());const c=JSON.stringify(d);l.httpsCallable("interestAddRequestedProxy")(c).then(function(o){if(a.log(o),!n)return e(o);if("registration"===i){const e=t.map(function(e){return e.interest_name}).join("|");p._trackEvent("tap","submit_interest|broad_interest",e)}else t.forEach(function(e){const t="video"===i?"background":"tap",n=("follow"===e.action?"add":"remove")+"_interest|"+("video"===e.type?"video_series":e.type)+"_interest";p._trackEvent(t,n,e.interest_name)});e(o)}).catch(function(e){e.message?(a.log(e.message),s(e.message)):s(e)})})})},_enableUDS:function(){let e=localStorage.getItem("CnetUdsEnabled"),t=parseInt(localStorage.getItem("CnetUdsVersion"));return isNaN(t)&&(t=0),6===t?"true"===e:"true"===e||Math.random()<=1?(localStorage.setItem("CnetUdsEnabled","true"),localStorage.setItem("CnetUdsVersion",6..toString()),!0):(localStorage.setItem("CnetUdsEnabled","false"),localStorage.setItem("CnetUdsVersion",6..toString()),!1)},_notifyLogin:function(e,t){const i=this;return c?(this._authStatus.notifyLogin=!1,new Promise(function(e,t){i._getAirshipChannelId().then(function(e){const t=i._getAnon();i._notifyLoginStatusChange(e,t,"login","loginNotify")}).catch(function(e){a.error("Error when trying to get user channel from airship. "+e),t(e)})})):new Promise(function(e,t){t("Login event not submitted, invalid UDS configuration")})},_notifyLogout:function(){const e=this;return c?new Promise(function(t,i){e._getAirshipChannelId().then(function(e){p._notifyLoginStatusChange(e,null,"logout","logoutNotify")}).then(function(e){t(e)}).catch(function(e){a.error("Error when trying to get user channel from airship. "+e),i(e)})}):new Promise(function(e,t){t("Logout event not submitted, invalid UDS configuration")})},_notifyLoginStatusChange:function(e,t,i,n){return new Promise(function(o,s){const r={data:{channel_id:e,action:i,site:"cnet",edition:window.CnetPageVars.edition.code},event:i,platform:this._platform,environment:this._environment};t&&(r.data.anon_id=t);const d=JSON.stringify(r);l.httpsCallable(n)(d).then(function(e){a.log(e),o("Event "+i+" notified")}).catch(function(e){e.message&&a.log(e.message),o("Event "+i+" not notified")})}.bind(this))},_notifyMigrate:function(t,i,n){const o=this;if(window.UA)return new Promise(function(e,t){window.UA.then(function(t){let s=!1,r=!1;n=JSON.parse(n);const l=o._getAirshipInterests(t);n=n.concat(l),localStorage.setItem("CnetUserMigrationVersion",1..toString()),o.addInterest(n,"interest-migration",!1).then(function(){if(r=!0,s)return a.log("Views and Interests successfully sent to firestore."),e("Views and Interests successfully sent to firestore.");a.log("Interests successfuly sent for migration")}).catch(function(t){return a.error("Migration failed to add interests. Reason: "+t),localStorage.setItem("CnetUserMigrationVersion","0"),e("Migration failed to add interests. Reason: "+t)}),o.processView(JSON.parse(i),"view-migration",!1).then(function(){if(s=!0,r)return a.log("Views and Interests successfully sent to firestore."),e("Views and Interests successfully sent to firestore.");a.log("views successfuly sent for migration")}).catch(function(t){return a.error("Migration failed to add views. Reason: "+t),localStorage.setItem("CnetUserMigrationVersion","0"),e("Migration failed to add views. Reason: "+t)})})});e(window).on("urban-airship-loaded",function(){o._notifyMigrate(t,i,n)})},_userMigration:function(){if(!c)return new Promise(function(e,t){t("Migrate event not submitted, invalid UDS configuration")});let e=parseInt(localStorage.getItem("CnetUserMigrationVersion"),10);if(!isNaN(e)&&e>=1)return new Promise(function(e,t){e("Migration event not required")});e=0;const t=localStorage.getItem("CnetViewList"),i=localStorage.getItem("CnetExplicitList");let n=[],o=[];try{n=t?JSON.parse(t):[]}catch(e){a.log("Invalid view data for user migration")}try{o=i?JSON.parse(i):[]}catch(e){a.log("Invalid interests data for user migration")}return Array.isArray(n)||(n=[]),Array.isArray(o)||(o=[]),p._notifyMigrate(e,n.length>0?t:"[]",o.length>0?i:"[]")},_localPersistenceAuth:function(){this._authStatus.localPersistenceChecked||(this._authStatus.localPersistenceChecked=!0,this._authStatus.complete=!1,this._authStatus.type=void 0,this._authStatus.userCollection=void 0,this._authStatus.interestsSummaryCollection=void 0,t.getUserData(function(e,t){t&&t.isLoggedIn&&t.jwt?this._regAuth(t,!1):this._anonAuth(!1)}.bind(this)))},_regAuth:function(e,t){if(e&&e.isLoggedIn&&e.jwt){this._authStatus.complete=!1,this._authStatus.type="registered",this._authStatus.userCollection=this._collections.registered.users,this._authStatus.interestsSummaryCollection=this._collections.registered.interests_summary,this._authStatus.notifyLogin=t,"true"===localStorage.getItem("CnetRegEnabled")||localStorage.setItem("CnetRegEnabled","true");const i=s.auth().currentUser?s.auth().currentUser:null;i&&!i.isAnonymous&&e.isLoggedIn&&e.registrationId&&i.uid===e.registrationId?(this._authStatus.complete=!0,this._initEventManager(),this._userMigration(),this._authStatus.notifyLogin&&(this._authStatus.notifyLogin=!1,this._notifyLogin(i.uid,{}))):this._regSignIn(e,this._initEventManager,null)}},_anonAuth:function(e){this._authStatus.complete=!1,this._authStatus.type="anonymous",this._authStatus.userCollection=this._collections.anonymous.users,this._authStatus.interestsSummaryCollection=this._collections.anonymous.interests_summary,"true"===localStorage.getItem("CnetRegEnabled")&&(localStorage.removeItem("CnetRegEnabled"),e||(e=!0)),e?this._notifyLogout().then(function(e){this._anonSignIn(this._initEventManager,null)}.bind(this)).catch(function(e){a.log("Error sending logout notification"),this._anonSignIn(this._initEventManager,null)}.bind(this)):this._anonSignIn(this._initEventManager,null)},_initEventManager:function(){const e="granted"!==Notification.permission,t=window.utag_data.interest&&"none"!==window.utag_data.interest.id;if(e&&!t)return p._snapshotListenerStatus="awaiting-opt-in",a.warn("User is opted out of notifications and no page interest exists. Not hooking up snapshot listener"),void p._invokeFunctions();const i=p._getUserId();if(!i||!p._authStatus.complete){a.warn("User not signed in but attempting to setup snapshot listener. Adding snapshot setup onto sign in queue");let e={functionName:"_initEventManager"};return void p._signInFunctionQueue.unshift(e)}"function"==typeof p._unsubListener&&(p._unsubListener(),p._snapshotListenerStatus="uninitialized");const o=window.CnetPageVars.edition.code,s=r.collection(p._authStatus.userCollection).doc(i).collection("site").doc("cnet").collection("edition").doc(o);p._unsubListener=s.collection(p._authStatus.interestsSummaryCollection).doc("summary").onSnapshot(function(e){if(!e.exists)return a.warn("Doc does not exist, not tracking change"),void("uninitialized"===p._snapshotListenerStatus&&(a.log("Snapshot listener successfuly hooked up for user "+i),p._snapshotListenerStatus="initialized",p._invokeFunctions()));let t=e.data().active_map?e.data().active_map:{},s=e.data().inactive_map?e.data().inactive_map:{};p.activeInterests=t;const r="b122d23f-29eb-493e-83e6-e9fbfeaf79c8",d=Object.keys(t),c=Object.keys(s);if(s[r]&&p._optInInterests.push(r),!d.length&&!c.length)return a.log("Empty summary maps for user. Returning"),void("uninitialized"===p._snapshotListenerStatus&&(a.log("Snapshot listener successfuly hooked up for user "+i),p._snapshotListenerStatus="initialized",p._invokeFunctions()));n.publish(p.options.eventChannel,"interestChange");let u=[];if(d.forEach(function(e){const i=t[e],n=i.id,a=i.type;if("general"===a&&p._optInInterests.push(n),n===r&&p._optInInterests.push(n),!i.should_fire_tracking)return;const o=i.name;const s="add_interest|"+("video"===a?"video_series":a)+"_interest";p._trackEvent("background",s,o),u.push(n)}),"uninitialized"===p._snapshotListenerStatus&&(a.log("Snapshot listener successfuly hooked up for user "+i),p._snapshotListenerStatus="initialized",p._invokeFunctions()),!u.length)return;let h={site:"cnet",edition:o,interests:u,platform:p._platform,environment:p._environment};"anonymous"===p._authStatus.type&&(h.anon_id=p._getAnon()),l.httpsCallable("updateInterestTracking")(JSON.stringify(h)).then(function(e){a.log(e)}).catch(function(e){e.message?a.error(e.message):a.error(e)})})},_isInterestActive:function(e){return!!this.activeInterests[e]},_getAirshipChannelId:function(){return new Promise(function(t){window.UA?window.UA.then(function(e){t(e.channel&&e.channel.channel_id?e.channel.channel_id:null)}).catch(function(e){a.log(e),t(null)}):(a.warn("Airship not loaded yet. Will continue once airship is initialized."),e(window).on("urban-airship-loaded",function(){window.UA.then(function(e){t(e.channel&&e.channel.channel_id?e.channel.channel_id:null)}).catch(function(e){a.log(e),t(null)})}))})},_normalizeView:function(e){e.date_created||(e.date_created=Date.now()),e.site?"roadshow"===e.site&&(e.site="cnet"):e.site="cnet",e.edition||(e.edition="us"),delete e.anon_id,delete e.user_id,delete e.urs_id,Object.keys(e).forEach(function(t){void 0===e[t]&&(e[t]="undefined")})},_anonSignIn:function(e,t){let i=this;const n=i._getAnon();s.auth().currentUser?s.auth().signOut().then(function(){i._authStatus.complete=!0,e&&e(n,t),i._userMigration()}).catch(function(e){i._authStatus.complete=!1,a.log("Sign out error")}):(i._authStatus.complete=!0,e&&e(n,t),i._userMigration())},_regSignIn:function(e,t,i){let n=this;s.auth().signInWithCustomToken(e.jwt).then(function(){n._authStatus.complete=!0,a.log("user signed in: ",s.auth().currentUser.uid),t&&e.registrationId&&t(e.registrationId,i),n._authStatus.notifyLogin&&(n._authStatus.notifyLogin=!1,n._notifyLogin(e.registrationId,{})),n._userMigration()}).catch(function(e){n._authStatus.complete=!1,a.error("Failed signing in to firebase with a custom token",e)})},_getUserId:function(){const e=s.auth().currentUser;return"registered"===this._authStatus.type&&this._authStatus.complete&&e&&(void 0===window.CnetPageVars.tracking.data.userId||window.CnetPageVars.tracking.data.userId&&window.CnetPageVars.tracking.data.userId===e.uid)?e.uid:"anonymous"===this._authStatus.type&&this._authStatus.complete?this._getAnon():window.CnetPageVars.tracking.data.userId?window.CnetPageVars.tracking.data.userId:"00000000-0000-0000-0000-000000000000"},_getAnon:function(){var e=localStorage.getItem("CnetAnon");e||(e=window.uuid.v4());try{localStorage.setItem("CnetAnon",e)}catch(t){a.error("Writing to localStorage for anon failed."),e="00000000-0000-0000-0000-000000000000"}return e},_invokeFunctions:function(){if(!this._signInFunctionQueue.length)return;const e=this._getUserId();a.log("Clearing function queue. Adding views/interests to user "+e+". Processing "+this._signInFunctionQueue.length+" functions."),this._signInFunctionQueue.forEach(function(e){switch(e.functionName){case"_initEventManager":p._initEventManager();break;case"addInterest":p.addInterest(e.interests,e.event,e.shouldFireTracking);break;case"processView":p.processView(e.views,e.event,e.shouldFireTracking);break;default:a.error("Improper function name "+e.functionName+"passed in to be ran on sign in. Entire map: "+JSON.stringify(e))}}),this._signInFunctionQueue=[]},_getAirshipInterests:function(e){const t=e&&e.channel&&e.channel.tags?e.channel.tags.list:{};let i=[];return Object.keys(t).forEach(function(e){if(!e.includes("-interest"))return;const n=e.includes("-es")?"es":"us",a=e.split("-")[0],o=t[e].map(function(e){return{is_airship_interest:!0,name:e,site:"cnet",edition:n,type:a,implicit:!0,action:"follow"}});i=i.concat(o)}),i},_trackEvent:function(e,t,n){var a=window.CnetPageVars.tracking.data;i.trackCustomEvent(e,{pageViewGuid:a.pageViewGuid,_dwAnonId:a._dwAnonId,articleId:a.articleId,clickGenericText:t,pageType:a.pageType,siteEdition:a.siteEdition,siteHier:a.siteHier,siteSection:a.siteSection,interests:n},"trackClick")}};return p._init(),window.uds_sdk=p,p}),define("components/urban-airship",["jquery","version!fly/managers/debug","managers/edition","managers/page-vars","managers/global-functions","managers/tealium","managers/recommendation-data","managers/user","components/uds-sdk","version!fly/components/base"],function(e,t,i,n,a,o,s,r,l){t=t.init("urbanAirship");var d={trackEvent:function(e,t,i){let a=localStorage.getItem("CnetNotificationPromptTimer");if("message"===e&&!i){if(a&&!(Date.now()-a>18e5))return;localStorage.setItem("CnetNotificationPromptTimer",Date.now())}var s=n.tracking.data;o.trackCustomEvent(e,{pageViewGuid:s.pageViewGuid,_dwAnonId:s._dwAnonId,articleId:s.articleId,clickGenericText:t,pageType:s.pageType,siteEdition:s.siteEdition,siteHier:s.siteHier,siteSection:s.siteSection},"trackClick")}};return n.services.urban_airship&&n.services.urban_airship.enabled&&a.gdprConsentCallback("script_urban_airship",function(){!function(e,t,i,n,a){var o,s,r=[],l=[],d={then:p,catch:function(e){return p(!1,e)},_async_setup:function(e){var t;try{t=e(a)}catch(e){return s=e,void u(l,e)}t.then(function(e){u(r,o=e)}).catch(function(e){s=e,u(defferedErrors,s)})}};e.UA=d;var c=t.createElement("script");function u(e,t){for(var i=0;i<e.length;i++)h(e[i],t)}function p(e,t){return e&&(o?h(e,o):r.push(e)),t&&(s?h(t,s):l.push(t)),d}function h(t,i){e.setTimeout(function(){t(i)},0)}c.src="https://aswpsdkus.com/notify/v1/ua-sdk.min.js",c.async=!0,c.id="_uasdk",c.rel="UA",t.head.appendChild(c)}(window,document,0,0,{workerUrl:"/bundles/cnetjs/js/libs/ua-push-worker.js",websitePushId:"web.com.cnet.urbanairship",appKey:n.personalization.urbanAirship.appKey,token:n.personalization.urbanAirship.token,vapidPublicKey:n.personalization.urbanAirship.vapidPublicKey}),e.widget("cnet.urbanAirship",e.fly.base,{options:{},urbanAirship:null,_create:function(){var e=this;this._setup(),window.UA.then(function(a){e.urbanAirship=a,e._setupEvents(a);var o=a.permission;"default"===o&&d.trackEvent("message","notification|automatic"),e.urbanAirship.register().then(function(t){let c=[];if("default"===o&&"default"!==a.permission){var u="granted"===a.permission?"opt-in":"opt-out";d.trackEvent("tap","notification|"+u+"|automatic")}if(t&&t.tags){if(i.isEspanol()){const i=e._createGeneralInterest("Edition_ES","Edition_ES");l&&l.enabled?c.push(i):t.tags.add("Edition_ES",s.getTagGroupByInterest("general"))}else{const i=e._createGeneralInterest("Edition_US","Edition_US");l&&l.enabled?c.push(i):t.tags.add("Edition_US",s.getTagGroupByInterest("general"))}if(t.optedIn&&t.tags){const i=e._createGeneralInterest("EDITORSPICKS","EDITORSPICKS");l&&l.enabled?c.push(i):t.tags.add("EDITORSPICKS",s.getTagGroupByInterest("general")),"roadshow"===n.tracking.data.brand&&r.getUserData(function(e,i){let n=s.createNewViewEvent(i);n.broad_interest="CARS";const a=s.createImplicitInterestObject(n);l&&l.enabled?c.push(a):t.tags.add("CARS",s.getTagGroupByInterest("broad")),s.getExplicitInterests().some(function(e){return e.implicit&&"CARS"===e.interest_name&&"broad"===e.type})||(l&&l.enabled||d.trackEvent("background","add_interest|broad_interest|CARS"),s.writeExplicitInterestToLocalStorage(a),s.sendInterestsToBackend([a]))})}l&&l.enabled&&c.length&&l.addInterest(c,"opt-in",!1),t.id&&"undefined"!=typeof Storage&&null===localStorage.getItem("v78_channel_id")&&localStorage.setItem("v78_channel_id",t.id)}}).catch(function(e){t.error("Error when trying to register user: "+e),"default"===o&&"denied"===Notification.permission&&d.trackEvent("tap","notification|opt-out|automatic")})})},_setupEvents:function(t){e(window).trigger("urban-airship-loaded"),r.getUserData(function(e,t){var i=s.getViewEvents();s.triggerPeriodicBackfillSync(t,i)})},_createGeneralInterest:function(e,t){return{action:"follow",type:"general",interest_name:e,interest_id:t,date_created:Date.now(),site:"cnet",edition:i.isEspanol()?"es":"us",implicit:!0}}})},{},"targeting"),d}),define("managers/components.desktop",["jquery","version!fly/managers/components","version!fly/managers/debug","managers/tealium","managers/page-vars","components/authentication","components/tabs-modal","components/site-header","components/auto-suggest","components/lazyload-component","components/mobile-footer-link","components/global-modal","components/modal-iframe","components/modal-email","components/urban-airship"],function(e,t,i,n,a){i=i.init("componentManager");var o="uvpjs_upgrade"===a.tracking.data.testName&&"test"===a.tracking.data.testGroup;return t.register({authentication:{},tabsModal:{},siteHeader:{},autoSuggest:{},lazyloadComponent:{},mobileFooterLink:{},globalModal:{},modalIframe:{},modalEmail:{},accordion:{require:"version!fly/components/accordion"},addthisevent:{require:"components/add-this-event"},alert:{require:"version!fly/components/alert"},amazonAd:{require:"components/amazon-ad"},article:{require:"components/article"},audioPlayer:{require:"components/audio-player"},autoLocalPricing:{require:"components/auto-local-pricing"},backgroundVideo:{require:"components/background-video"},bestFitVideoPromo:{require:"components/best-fit-video-promo"},bestList:{require:"components/best-list"},bestListing:{require:"components/best-listing"},breakingNews:{require:"components/breaking-news"},interest:{require:"components/interest"},buyingProgram:{require:"components/buyingProgram"},carFinder:{require:"components/car-finder"},carousel:{require:"version!fly/components/carousel",options:{slidechanged:function(t){e(window).trigger("scroll")}}},carouselDesktop:{require:"components/carousel.desktop"},carouselFull:{require:"components/carousel-full"},cbsiFeedWidget:{require:"components/cbsi-feed-widget"},clipboard:{require:"components/clipboard"},commands:{require:"components/commands"},commentDownloader:{require:"components/comment-downloader"},connectComponent:{require:"components/connect-es-component"},contactUs:{require:"components/contact-us"},couponsDesktop:{require:"components/coupons-page.desktop"},dropdown:{require:"components/dropdown"},dealsActivator:{require:"components/deals-activator.desktop"},dealsUpdater:{require:"components/deals-updater"},dfllActivator:{require:"components/dfll-activator.desktop"},dfllActivatorV2:{require:"components/dfll-activator-v2.desktop"},dfllUpdater:{require:"components/dfll-updater.desktop"},dfllUpdaterV2:{require:"components/dfll-updater-v2.desktop"},displayCookie:{require:"components/display-cookie"},disqusCount:{require:"components/disqus-count"},editorsChoiceToggle:{require:"components/editors-choice-toggle"},ellipsis:{require:"components/ellipsis"},expando:{require:"components/expando"},fadeOnScroll:{require:"components/fade-on-scroll"},inlineProductCarousel:{require:"components/inline-product-carousel"},topStories:{require:"components/top-stories"},errorModal:{require:"components/error-modal"},expiredDealModal:{require:"components/expired-deal-modal.desktop"},externalLink:{require:"components/external-link"},autoCalcIframe:{require:"components/auto-calc-iframe"},fixate:{require:"components/fixate"},formAjax:{require:"components/form-ajax"},formTrim:{require:"components/form-trim"},formValidate:{require:"components/form-validate"},forumsBestAnswer:{require:"components/forums-best-answer"},forumsEditPost:{require:"components/forums-edit-post"},forumsMarkAsRead:{require:"components/forums-mark-as-read"},forumsRealtime:{require:"components/forums-realtime"},forumsPostToggle:{require:"components/forums-post-toggle"},forumsPostPreview:{require:"components/forums-post-preview"},forumsPostFlag:{require:"components/forums-post-flag"},forumsPermalink:{require:"components/forums-permalink"},forumsLoadForm:{require:"components/forums-load-form"},forumsSearchUpdater:{require:"components/forums-search-updater"},forumsTools:{require:"components/forums-tools"},forumsTrack:{require:"components/forums-track"},forumsVote:{require:"components/forums-vote"},fullScreenSlides:{require:"components/full-screen-slides"},genericTracker:{require:"components/generic-tracker"},googleCsa:{require:"components/google-csa"},howlerAudioPlayer:{require:"components/howler-audio-player"},iframeAdTracker:{require:"components/iframe-ad-tracker"},iframeHoverFix:{require:"components/iframe-hover-fix"},iframeResizer:{require:"components/iframe-resizer"},imageGallery:{require:"components/image-gallery"},imageGalleryAuto:{require:"components/image-gallery-auto"},imageGalleryModal:{require:"components/image-gallery-modal"},indepthReview:{require:"components/indepth-review"},instagramFetcher:{require:"components/instagram-fetcher"},interactiveFloorPlans:{require:"components/interactive-floor-plans"},interactiveFloorPlansV2:{require:"components/interactive-floor-plans-v2"},interactiveVideoPlayer:{require:"components/interactive-video-player"},inviewElement:{require:"quantum/inviewElement"},joinCnet:{require:"components/join-cnet"},lazyloadImages:{require:"components/lazyload-images"},lazyloadElement:{require:"components/lazyload-element"},leadsTracker:{require:"components/leads-tracker"},linkCallback:{require:"components/link-callback"},linkTracker:{require:"components/link-tracker"},liveStreamPlayer:{require:"components/live-stream-player"},loading:{require:"components/loading"},loadMore:{require:"components/load-more"},loadNewest:{require:"components/load-newest",options:{clickGenericText:"refresh-river"}},longform:{require:"components/longform"},modal:{require:"version!fly/components/modal"},modalEnlargeImage:{require:"components/modal-enlarge-image"},modalNewsletter:{require:"components/modal-newsletter"},moduleAssetTracker:{require:"components/module-asset-tracker"},mostPopularDeal:{require:"components/most-popular-deal.desktop"},mostPopularDealListing:{require:"components/most-popular-deal-listing.desktop",options:{contentSet:function(e){t.process(e.$content)}}},myFinanceWidget:{require:"components/myFinance-widget"},newsletterAjax:{require:"components/newsletter-ajax"},newsletterAndInterest:{require:"components/newsletter-and-interest"},newsletterSubscription:{require:"components/newsletter-subscription"},newsCarousel:{require:"components/news-carousel"},page:{require:"components/page"},pageHeader:{require:"components/page-header"},parallaxReveal:{require:"components/parallax-reveal"},poll:{require:"components/poll"},pricesByZip:{require:"components/prices-by-zip"},productMediaCarousel:{require:"components/product-media-carousel"},productSeriesModal:{require:"components/product-series",options:{contentSet:function(e,i){t.process(i.$content)}}},productSpecs:{require:"components/product-specs"},productReviewVideo:{require:"components/product-review-video"},profileReauth:{require:"components/profile-reauth"},progressiveAd:{require:"components/progressive-ad"},popOnScroll:{require:"components/pop-on-scroll"},profileSubscriptions:{require:"components/profile-subscriptions",options:{contentSet:function(e){t.process(e.$content)}}},profileModal:{require:"components/profile-modal",options:{contentSet:function(e){t.process(e.$content)}}},profileUpdate:{require:"components/profile-update",options:{contentSet:function(e){t.process(e.$content)}}},profileUgc:{require:"components/profile-ugc",options:{contentSet:function(e){t.process(e.$content)}}},profileDiscussions:{require:"components/profile-discussions"},radio:{require:"components/radio"},readMore:{require:"components/read-more"},realtimeData:{require:"components/realtime-data"},realtimeDrawer:{require:"components/realtime-drawer"},realtimeTicker:{require:"components/realtime-ticker"},recaptcha:{require:"components/recaptcha"},reposition:{require:"components/reposition"},resetPassword:{require:"components/reset-password"},scrollbarArea:{require:"components/scrollbar-area"},scrollTracking:{require:"components/scroll-tracking"},searchBar:{require:"components/search-bar"},searchPagination:{require:"components/search-paginator",options:{contentSet:function(e){t.process(e.$content)}}},searchSort:{require:"components/search-sort"},selfishScroll:{require:"components/selfish-scroll"},sharebar:{require:"components/sharebar"},shortcodeGallery:{require:"components/shortcode-gallery"},shortcodeGalleryController:{require:"components/shortcode-gallery-controller"},showcaseHeroTabs:{require:"components/showcase-hero-tabs"},showcaseRailBody:{require:"components/showcase-rail-body"},showcaseVideos:{require:"components/showcase-videos"},sideNav:{require:"components/side-nav"},sideqik:{require:"components/sideqik"},slider:{require:"components/slider"},slidingElement:{require:"components/sliding-element"},snappyCarousel:{require:"quantum/snappyCarousel"},stacklaEvents:{require:"components/stackla-events"},stimulusCalculator:{require:"components/stimulus-calculator"},uiSlider:{require:"version!libs/jquery/ui/jquery.ui.slider"},socialButton:{require:"version!fly/components/social-button"},socialCounts:{require:"components/social-counts"},socialMenu:{require:"components/social-menu"},socialTracking:{require:"components/social-tracking"},stickyColumn:{require:"components/sticky-column"},stickyElement:{require:"components/sticky-element"},stickyLeader:{require:"components/sticky-leader"},subratingModalToggle:{require:"components/subrating-modal-toggle"},swipeAway:{require:"quantum/swipeAway"},tableSorter:{require:"components/table-sorter"},tabs:{require:"version!fly/components/tabs"},tabsAsync:{require:"components/tabs-async",options:{contentSet:function(e){t.process(e.$content)}}},tabsRefresh:{require:"components/tabs-refresh"},tagLetterSorter:{require:"components/tag-letter-sorter"},textCounter:{require:"components/text-counter"},tileSpecialNav:{require:"components/tile-special-nav"},tocNav:{require:"components/toc-nav"},toggle:{require:"components/toggle"},tooltip:{require:"components/tooltip"},touchMenuHover:{require:"components/touch-menu-hover"},trackCWV:{require:"components/track-cwv"},trackDownload:{require:"components/track-download"},trackImpression:{require:"components/track-impression"},tvFeature:{require:"components/tv-feature"},twitterFetcher:{require:"components/twitter-fetcher"},updateArea:{require:"components/update-area"},videoPlaceholder:{require:"components/video-placeholder"},videoPlayer:{require:o?"quantum/videoPlayer_upgrade":"quantum/videoPlayer"},videoListing:{require:"components/video-listing"},videoPlaylistConnector:{require:"components/video-playlist-connector"},videoShowGallery:{require:"components/video-show-gallery"},waypointPromo:{require:"component/waypoint-promo"},zipCode:{require:"components/zip-code"},zoom:{require:"quantum/zoom"},profileNewsletterSubscription:{require:"components/profile-newsletter-subscription"},bandwidthMeterBar:{require:"components/bandwidth-meter-bar"}}),t}),define("managers/edition-notifications",["jquery","version!fly/managers/debug","managers/device","components/global-modal"],function(e,t,i,n){return t=t.init("editionNotifications"),{init:function(){if(i.isDesktop()){var t=e("body").data("edition-redirect-alert");t&&t.length>0&&e.cnet.globalModal({content:t,openOnInit:!0})}}}}),define("managers/promotionals.desktop",["jquery","version!fly/managers/debug","managers/client-storage","utils/cookie","managers/edition","managers/global-functions","managers/page-vars","managers/user","version!libs/modernizr.custom"],function(e,t,i,n,a,o,s,r){(t=t.init("promotionals")).log("promos here");var l=null,d={cookiesNotification:{limit:3,isActive:function(){return!1},init:function(){require(["components/cookies-notification.desktop"],function(){e.cnet.cookiesNotification(),l.cookiesNotification++,i.write("promotionalSettings",l),i.write("suppressCookiesNotification",!0,!0)})}},autoSocialPromo:{limit:4,isActive:function(){"front_door"==s.tracking.data._pageType&&s.tracking.data.slug,l.autoSocialPromo,d.autoSocialPromo.limit;return!1},init:function(){require(["components/waypoint-promo"],function(){e.cnet.waypointPromo()})}},urbanAirshipPromo:{isActive:function(){return!0},init:function(){require(["components/urban-airship"],function(){try{o.gdprConsentCallback("script_urban_airship_promo",function(){e.cnet.urbanAirship()},{},"targeting")}catch(e){t.log("UrbanAirship component not available")}})}}};return{init:function(){var t=function(){!1===e.cnet.breakingNewsActive&&(d.cookiesNotification.isActive()?d.cookiesNotification.init():d.espanolPromo.isActive()&&d.espanolPromo.init())};for(var n in l=i.read("promotionalSettings")||{},d)d.hasOwnProperty(n)&&(l[n]=l[n]||0);d.autoSocialPromo.isActive()&&d.autoSocialPromo.init(),d.urbanAirshipPromo.isActive()&&d.urbanAirshipPromo.init(),void 0===e.cnet.breakingNewsActive?e(window).on("breakingNewsComplete",function(){t()}):t()},suppress:function(e){l[e]=d[e].limit,i.write("promotionalSettings",l)},increment:function(e){l[e]++,i.write("promotionalSettings",l)}}}),define("managers/third-party/social",["version!fly/managers/debug","managers/page-vars","managers/global-functions"],function(e,t,i){e=e.init("social");var n={linkedIn:"managers/third-party/linked-in",pinterest:"managers/third-party/pinterest",twitter:"managers/third-party/twitter",disqus:"managers/third-party/disqus"};function a(e,t="social"){"string"==typeof n[e]&&i.gdprConsentCallback("script_"+e,function(){require([n[e]],function(t){n[e]=t,t.init()})},{},t)}return{init:function(){t.services.linkedin.enabled&&$('[data-social="linkedIn"]').length>0&&a("linkedIn"),t.services.pinterest.enabled&&$('[data-social="pinterest"]').length>0&&a("pinterest"),t.services.twitterwidget.enabled&&$('[data-social="twitter"]').length>0&&a("twitter"),t.services.disqus.enabled&&$('[data-social="disqus"]').length>0&&"comments_permalink"==t.pageType&&a("disqus","functional")},parse:function(e){e=e||null,t.services.linkedin.enabled&&$('[data-social="linkedIn"]',e).length>0&&("string"==typeof n.linkedIn?a("linkedIn"):n.linkedIn.parse(e)),t.services.pinterest.enabled&&$('[data-social="pinterest"]',e).length>0&&"string"==typeof n.pinterest&&a("pinterest"),t.services.twitterwidget.enabled&&$('[data-social="twitter"]',e).length>0&&("string"==typeof n.twitter?a("twitter"):n.twitter.parse()),t.services.disqus.enabled&&$('[data-social="disqus"]',e).length>0&&("string"==typeof n.disqus?a("disqus","functional"):n.disqus.parse(e))}}}),function(e){"use strict";void 0===e&&(e={}),void 0===e.performance?e.performance={}:"performance"in e&&e.performance&&e.performance.setResourceTimingBufferSize&&performance.setResourceTimingBufferSize(400),e._perfRefForUserTimingPolyfill=e.performance,e.performance.userTimingJsNow=!1,e.performance.userTimingJsNowPrefixed=!1,e.performance.userTimingJsUserTiming=!1,e.performance.userTimingJsUserTimingPrefixed=!1,e.performance.userTimingJsPerformanceTimeline=!1,e.performance.userTimingJsPerformanceTimelinePrefixed=!1;var t,i,n=[],a=[],o=null;if("function"!=typeof e.performance.now){for(e.performance.userTimingJsNow=!0,a=["webkitNow","msNow","mozNow"],t=0;t<a.length;t++)if("function"==typeof e.performance[a[t]]){e.performance.now=e.performance[a[t]],e.performance.userTimingJsNowPrefixed=!0;break}var s=+new Date;e.performance.timing&&e.performance.timing.navigationStart&&(s=e.performance.timing.navigationStart),"function"!=typeof e.performance.now&&(Date.now?e.performance.now=function(){return Date.now()-s}:e.performance.now=function(){return+new Date-s})}var r=function(){},l=function(){},d=[],c=!1,u=!1;if("function"!=typeof e.performance.getEntries||"function"!=typeof e.performance.mark){for("function"==typeof e.performance.getEntries&&"function"!=typeof e.performance.mark&&(u=!0),e.performance.userTimingJsPerformanceTimeline=!0,n=["webkit","moz"],a=["getEntries","getEntriesByName","getEntriesByType"],t=0;t<a.length;t++)for(i=0;i<n.length;i++)o=n[i]+a[t].substr(0,1).toUpperCase()+a[t].substr(1),"function"==typeof e.performance[o]&&(e.performance[a[t]]=e.performance[o],e.performance.userTimingJsPerformanceTimelinePrefixed=!0);r=function(e){d.push(e),"measure"===e.entryType&&(c=!0)};var p=function(){c&&(d.sort(function(e,t){return e.startTime-t.startTime}),c=!1)};if(l=function(e,i){for(t=0;t<d.length;)d[t].entryType===e&&(void 0===i||d[t].name===i)?d.splice(t,1):t++},"function"!=typeof e.performance.getEntries||u){var h=e.performance.getEntries;e.performance.getEntries=function(){p();var t=d.slice(0);return u&&h&&(Array.prototype.push.apply(t,h.call(e.performance)),t.sort(function(e,t){return e.startTime-t.startTime})),t}}if("function"!=typeof e.performance.getEntriesByType||u){var m=e.performance.getEntriesByType;e.performance.getEntriesByType=function(i){if(void 0===i||"mark"!==i&&"measure"!==i)return u&&m?m.call(e.performance,i):[];"measure"===i&&p();var n=[];for(t=0;t<d.length;t++)d[t].entryType===i&&n.push(d[t]);return n}}if("function"!=typeof e.performance.getEntriesByName||u){var g=e.performance.getEntriesByName;e.performance.getEntriesByName=function(i,n){if(n&&"mark"!==n&&"measure"!==n)return u&&g?g.call(e.performance,i,n):[];void 0!==n&&"measure"===n&&p();var a=[];for(t=0;t<d.length;t++)void 0!==n&&d[t].entryType!==n||d[t].name===i&&a.push(d[t]);return u&&g&&(Array.prototype.push.apply(a,g.call(e.performance,i,n)),a.sort(function(e,t){return e.startTime-t.startTime})),a}}}if("function"!=typeof e.performance.mark){for(e.performance.userTimingJsUserTiming=!0,n=["webkit","moz","ms"],a=["mark","measure","clearMarks","clearMeasures"],t=0;t<a.length;t++)for(i=0;i<n.length;i++)o=n[i]+a[t].substr(0,1).toUpperCase()+a[t].substr(1),"function"==typeof e.performance[o]&&(e.performance[a[t]]=e.performance[o],e.performance.userTimingJsUserTimingPrefixed=!0);var f={};"function"!=typeof e.performance.mark&&(e.performance.mark=function(t){var i=e.performance.now();if(void 0===t)throw new SyntaxError("Mark name must be specified");if(e.performance.timing&&t in e.performance.timing)throw new SyntaxError("Mark name is not allowed");f[t]||(f[t]=[]),f[t].push(i),r({entryType:"mark",name:t,startTime:i,duration:0})}),"function"!=typeof e.performance.clearMarks&&(e.performance.clearMarks=function(e){e?f[e]=[]:f={},l("mark",e)}),"function"!=typeof e.performance.measure&&(e.performance.measure=function(t,i,n){var a=e.performance.now();if(void 0===t)throw new SyntaxError("Measure must be specified");if(i){var o=0;if(e.performance.timing&&i in e.performance.timing){if("navigationStart"!==i&&0===e.performance.timing[i])throw new Error(i+" has a timing of 0");o=e.performance.timing[i]-e.performance.timing.navigationStart}else{if(!(i in f))throw new Error(i+" mark not found");o=f[i][f[i].length-1]}var s=a;if(n)if(s=0,e.performance.timing&&n in e.performance.timing){if("navigationStart"!==n&&0===e.performance.timing[n])throw new Error(n+" has a timing of 0");s=e.performance.timing[n]-e.performance.timing.navigationStart}else{if(!(n in f))throw new Error(n+" mark not found");s=f[n][f[n].length-1]}r({entryType:"measure",name:t,startTime:o,duration:s-o})}else r({entryType:"measure",name:t,startTime:0,duration:a})}),"function"!=typeof e.performance.clearMeasures&&(e.performance.clearMeasures=function(e){l("measure",e)})}"undefined"!=typeof define&&define.amd?define("libs/usertiming-0.1.6",[],function(){return e.performance}):"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=e.performance)}("undefined"!=typeof window?window:void 0),define("utils/function-natives",["version!libs/usertiming"],function(){Function.prototype.bind||(Function.prototype.bind=function(e){var t=this,i=arguments.length>1?arguments.slice(1):null,n=function(){},a=function(){var o=e,s=arguments.length;this instanceof a&&(n.prototype=t.prototype,o=new n);var r=i||s?t.apply(o,i&&s?i.concat(arguments.slice()):i||arguments):t.call(o);return o==e?r:o};return a}),Array.prototype.find||(Array.prototype.find=function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,i=Object(this),n=i.length>>>0,a=arguments[1],o=0;o<n;o++)if(t=i[o],e.call(a,t,o,i))return t})}),function(e,t,i){"function"==typeof define&&define.amd?define("libs/jquery/mobile-1.4.0a1",["jquery"],function(n){return i(n,e,t),n.mobile}):i(e.jQuery,e,t)}(this,document,function(e,t,i,n){!function(e,t,i,n){var a,o,s="virtualMouseBindings",r="virtualTouchID",l="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),d="clientX clientY pageX pageY screenX screenY".split(" "),c=e.event.mouseHooks?e.event.mouseHooks.props:[],u=e.event.props.concat(c),p={},h=0,m=0,g=0,f=!1,v=[],y=!1,w=!1,b="addEventListener"in i,A=e(i),k=1,_=0;function C(e){for(;e&&void 0!==e.originalEvent;)e=e.originalEvent;return e}function T(t){for(var i,n,a={};t;){for(n in i=e.data(t,s))i[n]&&(a[n]=a.hasVirtualBinding=!0);t=t.parentNode}return a}function S(){w=!0}function x(){w=!1}function E(){$(),h=setTimeout(function(){h=0,_=0,v.length=0,y=!1,S()},e.vmouse.resetTimerDuration)}function $(){h&&(clearTimeout(h),h=0)}function P(t,i,a){var o;return(a&&a[t]||!a&&function(t,i){for(var n;t;){if((n=e.data(t,s))&&(!i||n[i]))return t;t=t.parentNode}return null}(i.target,t))&&(o=function(t,i){var a,o,s,r,l,c,p,h,m,g=t.type;if((t=e.Event(t)).type=i,a=t.originalEvent,o=e.event.props,g.search(/^(mouse|click)/)>-1&&(o=u),a)for(p=o.length;p;)t[r=o[--p]]=a[r];if(g.search(/mouse(down|up)|click/)>-1&&!t.which&&(t.which=1),-1!==g.search(/^touch/)&&(g=(s=C(a)).touches,l=s.changedTouches,c=g&&g.length?g[0]:l&&l.length?l[0]:n))for(h=0,m=d.length;h<m;h++)t[r=d[h]]=c[r];return t}(i,t),e(i.target).trigger(o)),o}function I(t){var i,n=e.data(t.target,r);y||_&&_===n||(i=P("v"+t.type,t))&&(i.isDefaultPrevented()&&t.preventDefault(),i.isPropagationStopped()&&t.stopPropagation(),i.isImmediatePropagationStopped()&&t.stopImmediatePropagation())}function q(t){var i,n,a,o=C(t).touches;o&&1===o.length&&(n=T(i=t.target)).hasVirtualBinding&&(_=k++,e.data(i,r,_),$(),x(),f=!1,a=C(t).touches[0],m=a.pageX,g=a.pageY,P("vmouseover",t,n),P("vmousedown",t,n))}function D(e){w||(f||P("vmousecancel",e,T(e.target)),f=!0,E())}function V(t){if(!w){var i=C(t).touches[0],n=f,a=e.vmouse.moveDistanceThreshold,o=T(t.target);(f=f||Math.abs(i.pageX-m)>a||Math.abs(i.pageY-g)>a)&&!n&&P("vmousecancel",t,o),P("vmousemove",t,o),E()}}function L(e){if(!w){S();var t,i,n=T(e.target);P("vmouseup",e,n),f||(t=P("vclick",e,n))&&t.isDefaultPrevented()&&(i=C(e).changedTouches[0],v.push({touchID:_,x:i.clientX,y:i.clientY}),y=!0),P("vmouseout",e,n),f=!1,E()}}function O(t){var i,n=e.data(t,s);if(n)for(i in n)if(n[i])return!0;return!1}function U(){}function M(t){var i=t.substr(1);return{setup:function(){O(this)||e.data(this,s,{}),e.data(this,s)[t]=!0,p[t]=(p[t]||0)+1,1===p[t]&&A.bind(i,I),e(this).bind(i,U),b&&(p.touchstart=(p.touchstart||0)+1,1===p.touchstart&&A.bind("touchstart",q).bind("touchend",L).bind("touchmove",V).bind("scroll",D))},teardown:function(){--p[t],p[t]||A.unbind(i,I),b&&(--p.touchstart,p.touchstart||A.unbind("touchstart",q).unbind("touchmove",V).unbind("touchend",L).unbind("scroll",D));var n=e(this),a=e.data(this,s);a&&(a[t]=!1),n.unbind(i,U),O(this)||n.removeData(s)}}}for(e.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500},o=0;o<l.length;o++)e.event.special[l[o]]=M(l[o]);b&&i.addEventListener("click",function(t){var i,n,o,s,l,d=v.length,c=t.target;if(d)for(i=t.clientX,n=t.clientY,a=e.vmouse.clickDistanceThreshold,o=c;o;){for(s=0;s<d;s++)if(l=v[s],0,o===c&&Math.abs(l.x-i)<a&&Math.abs(l.y-n)<a||e.data(o,r)===l.touchID)return t.preventDefault(),void t.stopPropagation();o=o.parentNode}},!0)}(e,0,i),e.mobile={},function(e,t){var n={touch:"ontouchend"in i};e.mobile.support=e.mobile.support||{},e.extend(e.support,n),e.extend(e.mobile.support,n)}(e),function(e,t,n){var a=e(i),o=e.mobile.support.touch,s=o?"touchstart":"mousedown",r=o?"touchend":"mouseup",l=o?"touchmove":"mousemove";function d(t,i,n){var a=n.type;n.type=i,e.event.dispatch.call(t,n),n.type=a}e.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(t,i){e.fn[i]=function(e){return e?this.bind(i,e):this.trigger(i)},e.attrFn&&(e.attrFn[i]=!0)}),e.event.special.scrollstart={enabled:!0,setup:function(){var t,i,n=this;function a(e,i){d(n,(t=i)?"scrollstart":"scrollstop",e)}e(n).bind("touchmove scroll",function(n){e.event.special.scrollstart.enabled&&(t||a(n,!0),clearTimeout(i),i=setTimeout(function(){a(n,!1)},50))})},teardown:function(){e(this).unbind("touchmove scroll")}},e.event.special.tap={tapholdThreshold:750,emitTapOnTaphold:!0,setup:function(){var t=this,i=e(t),n=!1;i.bind("vmousedown",function(o){if(n=!1,o.which&&1!==o.which)return!1;var s,r=o.target;function l(){clearTimeout(s)}function c(){l(),i.unbind("vclick",u).unbind("vmouseup",l),a.unbind("vmousecancel",c)}function u(e){c(),n||r!==e.target?n&&e.stopPropagation():d(t,"tap",e)}i.bind("vmouseup",l).bind("vclick",u),a.bind("vmousecancel",c),s=setTimeout(function(){e.event.special.tap.emitTapOnTaphold&&(n=!0),d(t,"taphold",e.Event("taphold",{target:r}))},e.event.special.tap.tapholdThreshold)})},teardown:function(){e(this).unbind("vmousedown").unbind("vclick").unbind("vmouseup"),a.unbind("vmousecancel")}},e.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1e3,horizontalDistanceThreshold:10,verticalDistanceThreshold:75,start:function(t){var i=t.originalEvent.touches?t.originalEvent.touches[0]:t;return{time:(new Date).getTime(),coords:[i.pageX,i.pageY],origin:e(t.target)}},stop:function(e){var t=e.originalEvent.touches?e.originalEvent.touches[0]:e;return{time:(new Date).getTime(),coords:[t.pageX,t.pageY]}},handleSwipe:function(t,i,n,a){if(i.time-t.time<e.event.special.swipe.durationThreshold&&Math.abs(t.coords[0]-i.coords[0])>e.event.special.swipe.horizontalDistanceThreshold&&Math.abs(t.coords[1]-i.coords[1])<e.event.special.swipe.verticalDistanceThreshold){var o=t.coords[0]>i.coords[0]?"swipeleft":"swiperight";return d(n,"swipe",e.Event("swipe",{target:a,swipestart:t,swipestop:i})),d(n,o,e.Event(o,{target:a,swipestart:t,swipestop:i})),!0}return!1},setup:function(){var t=this,i=e(t);i.bind(s,function(n){var a,o=e.event.special.swipe.start(n),s=n.target,d=!1;i.bind(l,function(i){o&&(a=e.event.special.swipe.stop(i),d||(d=e.event.special.swipe.handleSwipe(o,a,t,s)),Math.abs(o.coords[0]-a.coords[0])>e.event.special.swipe.scrollSupressionThreshold&&i.preventDefault())}).one(r,function(){d=!0})})},teardown:function(){e(this).unbind(s).unbind(l).unbind(r)}},e.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe",swiperight:"swipe"},function(t,i){e.event.special[t]={setup:function(){e(this).bind(i,e.noop)},teardown:function(){e(this).unbind(i)}}})}(e)}),define("main.desktop",["jquery","managers/client-storage","managers/components.desktop","managers/device","managers/edition-notifications","managers/page-vars","managers/promotionals.desktop","managers/third-party/social","managers/tracking","managers/tealium","version!libs/modernizr.custom","version!fly/utils/data-prefix","utils/function-natives","version!libs/jquery/mobile","managers/user"],function(e,t,i,n,a,o,s,r,l){e(document).ready(function(){l.resetTrackingData(o.tracking.data),n.init(o.device),t.init(),i.process(e("body")),s.init(),a.init(),r.init()})}),define("fly/libs/jquery.throttle-debounce-1.1",["jquery"],function(e){var t;e.throttle=t=function(t,i,n,a){var o,s=0;function r(){var e=this,r=+new Date-s,l=arguments;function d(){s=+new Date,n.apply(e,l)}a&&!o&&d(),o&&clearTimeout(o),void 0===a&&r>t?d():!0!==i&&(o=setTimeout(a?function(){o=void 0}:d,void 0===a?t-r:t))}return"boolean"!=typeof i&&(a=n,n=i,i=void 0),e.guid&&(r.guid=n.guid=n.guid||e.guid++),r},e.debounce=function(e,i,n){return void 0===n?t(e,i,!1):t(e,n,!1!==i)}}),define("managers/recommendation",["jquery","components/uds-sdk","managers/page-vars","managers/global-functions","managers/tealium","managers/user","managers/recommendation-data","version!fly/managers/debug","version!fly/libs/jquery.throttle-debounce"],function(e,t,i,n,a,o,s,r){var l="CnetUnfollowList",d=2;function c(e){var n=JSON.parse(localStorage.getItem(l));n&&(n.forEach(function(e){var t=s.createMockExplicitInterestObject(e);s.writeExplicitInterestToLocalStorage(t)}),localStorage.removeItem(l));var o=s.getExplicitInterests();if(o.length)for(var d=0;d<o.length;d++)if(o[d].type===e.interest.type&&o[d].interest_name===e.interest.name.toUpperCase()&&"unfollow"===o[d].action)return void r.log("Did not add tag "+o[d].interest_name+" due to being explicitly unfollowed");window.UA.then(function(n){if(n.channel){var o=e.interest.name.toUpperCase(),l=s.getTagGroupByInterest(e.interest.type);if(!n.channel.tags.has(o,l)){r.log("Adding interests in UA API: "+o),t&&t.enabled||n.channel.tags.add(o,l);var d=i.tracking.data;t&&t.enabled||a.trackCustomEvent("background",{pageViewGuid:d.pageViewGuid,_dwAnonId:d._dwAnonId,articleId:d.articleId,clickGenericText:"add_interest|"+e.interest.type+"_interest|"+e.interest.name.toUpperCase(),pageType:d.pageType,siteEdition:d.siteEdition,siteHier:d.siteHier,siteSection:d.siteSection},"trackClick")}e.ua_channel_id=n.channel.id}}),s.sendInterestsToBackend([s.createImplicitInterestObject(e)])}function u(e,t,n){var o=i.tracking.data;a.trackCustomEvent("tap",{pageViewGuid:o.pageViewGuid,_dwAnonId:o._dwAnonId,articleId:o.articleId,clickGenericText:(n?"add":"remove")+"_interest|"+t+"_interest|"+e,pageType:o.pageType,siteEdition:o.siteEdition,siteHier:o.siteHier,siteSection:o.siteSection},"trackClick")}return r=r.init("recommendationManager"),{registerPageView:function(){if(s.testForLocalStorage()&&"us"===i.tracking.data.siteEdition){var a=s.getViewEvents();o.getUserData(function(i,o){var r=s.createNewViewEvent(o);a.push(r),t&&t.enabled&&t.processView(r),function(t,i){var a=function(e){var t={},i=Date.now()-2592e6;return e.forEach(function(e){!(e=s.normalizeView(e)).interest||"none"===e.interest.id||!e.date_created||i>e.date_created||(t[e.user_id]||(t[e.user_id]={}),t[e.user_id][e.interest.type]||(t[e.user_id][e.interest.type]={}),t[e.user_id][e.interest.type][e.interest.name]?t[e.user_id][e.interest.type][e.interest.name].push(e):t[e.user_id][e.interest.type][e.interest.name]=[e])}),t}(t);if("none"===i.interest.id)return;a&&a[i.user_id]&&a[i.user_id][i.interest.type]&&a[i.user_id][i.interest.type][i.interest.name]&&a[i.user_id][i.interest.type][i.interest.name].length>=d&&n.gdprConsentCallback("UAInterestAdd",function(){window.UA?c(i):e(window).on("urban-airship-loaded",function(){c(i)})},{},"targeting")}(a=s.pruneViews(a,r),r),s.writeViewsArray(a)})}},registerOnScroll:function(t){var n=this;t||(t=window);var a=e(t);a.on("scroll.recommendationManager",e.throttle(500,function(){i.tracking&&i.tracking.data&&i.tracking.data.contentId&&n.registerPageView(),a.off("scroll.recommendationManager")}))},onVideoComplete:function(){const n=i.tracking.data.pageType;n&&-1!==["video_page","video_list"].indexOf(n)?o.getUserData(function(i,n){var a=s.createNewViewEvent(n);if("none"===a.interest.id)return;const o=s.createImplicitInterestObject(a);window.UA?(r.log("Page video completed. Adding page interest"),c(a),t&&t.enabled&&t.addInterest(o,"video")):e(window).on("urban-airship-loaded",function(){r.log("Page video completed. Adding page interest"),c(a),t&&t.enabled&&t.addInterest(o,"video")})}):r.warn("Attempted to add video completion interest on non-video page. Not adding page interest. Current page type: "+n)},addExplicitInterest:function(e,i){o.getUserData(function(n,a){var o=s.createExplicitInterestObject("follow",i,a);if(e.channel){var l=s.getTagGroupByInterest(o.type);r.log("Adding "+o.interest_name+" to UA"),t&&t.enabled||(e.channel.tags.add(o.interest_name.toUpperCase(),l),u(o.interest_name.toUpperCase(),o.type,!0))}return s.writeExplicitInterestToLocalStorage(o),t&&t.enabled&&t.addInterest(o,"tap"),s.sendInterestsToBackend([o],function(e){r.log("Successfully added follow interest "+o.interest_name+" to DB")}),o})},removeExplicitInterest:function(e,i){o.getUserData(function(n,a){var o=s.createExplicitInterestObject("unfollow",i,a);if(e.channel){var l=s.getTagGroupByInterest(o.type);r.log("Removing UA interest "+o.interest_name.toUpperCase()),t&&t.enabled||(e.channel.tags.remove(o.interest_name.toUpperCase(),l),u(o.interest_name.toUpperCase(),o.type,!1))}return s.writeExplicitInterestToLocalStorage(o),t&&t.enabled&&t.addInterest(o,"tap"),s.sendInterestsToBackend([o],function(e){r.log("Successfully added unfollow interest "+o.interest_name+" to DB")}),o})}}}),define("fly/components/fixate-1.0",["jquery","version!fly/components/base"],function(e){e.widget("fly.fixate",e.fly.base,{options:{classFixed:"fixed",classUnfixed:"unfixed",primaryEdge:"top",offset:{top:20,bottom:20},stickToLeft:!1,stickToRight:!1,guideTop:null,guideBottom:null,guideLeft:null,guideRight:null},hasEvents:!1,isFixed:!1,boundary:{top:-1,bottom:-1,left:-1,right:-1},$element:null,$window:e(window),$document:e(document),_create:function(){this._super("_create"),this._setBoundaries(),this._addEvents(),this.checkPosition()},_addEvents:function(){this.options;this.hasEvents||this.disabled||(this.hasEvents=!0,this.$window.on("scroll.fixate",e.proxy(this.checkPosition,this)),this.$window.on("resize.fixate",e.proxy(this.checkPosition,this)))},_removeEvents:function(){this.hasEvents=!1},_setBoundaries:function(){var t=this.options,i=null,n=null,a=null,o=null;this.boundary={top:-1,bottom:-1,left:-1,right:-1},t.guideTop&&(i=(n=e(t.guideTop)).offset(),this.boundary.top=i.top+n.outerHeight()),t.guideBottom&&(i=e(t.guideBottom).offset(),this.boundary.bottom=i.top),t.guideLeft&&(i=(a=e(t.guideLeft)).offset(),t.stickToLeft&&((this.boundary.top<0||i.top>this.boundary.top)&&(this.boundary.top=i.top),(this.boundary.bottom<0||i.top+a.outerHeight()<this.boundary.bottom)&&(this.boundary.bottom=i.top+a.outerHeight()))),t.guideRight&&(i=(o=e(t.guideRight)).offset(),t.stickToRight&&((this.boundary.top<0||i.top>this.boundary.top)&&(this.boundary.top=i.top),(this.boundary.bottom<0||i.top+o.outerHeight()<this.boundary.bottom)&&(this.boundary.bottom=i.top+o.outerHeight())))},_fix:function(){var e=this.options;this.isFixed=!0,this.$element.addClass(e.classFixed).removeClass(e.classUnfixed),"top"===e.primaryEdge?this.$element.css("top",e.offset.top):this.$element.css("top",this.$window.height()-e.offset.bottom-this.$element.height()),this._placeHorizontally()},_unfix:function(e){var t=this.options;this.isFixed=!1,this.$element.addClass(t.classUnfixed).removeClass(t.classFixed),"top"===e?this.$element.css("top",this.boundary.top+t.offset.top-this.$window.scrollTop()):this.$element.css("top",this.boundary.bottom-t.offset.bottom-this.$element.height()-this.$window.scrollTop()),this._placeHorizontally()},_placeHorizontally:function(){var t=this.options,i=this.$window.scrollLeft(),n=null,a=null;t.guideLeft?(n=e(t.guideLeft),this.$element.css("left",n.offset().left+n.outerWidth()-i)):t.guideRight&&(a=e(t.guideRight),this.$element.css("left",a.offset().left-this.$element.width()-i))},checkPosition:function(){var e=this.options,t=this.$window.scrollTop(),i=t+this.$window.height(),n=this.$element.height();this._setBoundaries(),"top"===e.primaryEdge?t<this.boundary.top?this._unfix("top"):this.boundary.bottom>=0&&t+e.offset.top+n+e.offset.bottom>this.boundary.bottom?this._unfix("bottom"):this._fix():i>this.boundary.bottom?this._unfix("bottom"):i-e.offset.bottom-n-e.offset.top<this.boundary.top?this._unfix("top"):this._fix()},destroy:function(){this._removeEvents(),this._super("destroy")}})}),define("components/fixate",["jquery","version!fly/managers/debug","version!fly/components/fixate"],function(e,t){t=t.init("fixate"),e.widget("fly.fixate",e.fly.fixate,{options:{classFixedParent:"fixed-parent",guideContainer:null,guideTopPlus:null,innerGuideLeft:null,classTop:"top",classBottom:"bottom",offset:{topPlus:0},minHeight:null},_create:function(){this._super();var t=this.options,i=null;if(t.guideBottom&&t.minHeight){i=e(t.guideBottom).offset();var n=this.$element.offset();i.top-n.top<t.minHeight&&this.$element.addClass("cancelfix")}},_setBoundaries:function(){this._super();var t=this.options,i=null;this.options.guideContainer&&(this.options.guideContainer=e(this.options.guideContainer),i=this.options.guideContainer.offset(),(this.boundary.top<0||i.top>this.boundary.top)&&(this.boundary.top=i.top),(this.boundary.bottom<0||i.top+this.options.guideContainer.outerHeight()<this.boundary.bottom)&&(this.boundary.bottom=i.top+this.options.guideContainer.outerHeight())),t.guideTopPlus&&(t.guideTopPlus=e(t.guideTopPlus),i=t.guideTopPlus.offset(),this.boundary.top=i.top+t.guideTopPlus.outerHeight()-t.offset.topPlus)},_fix:function(){var e=this.options;this.isFixed=!0,this.$element.addClass(e.classFixed).removeClass(e.classUnfixed).removeClass(e.classBottom).removeClass(e.classTop),"top"===e.primaryEdge?this.$element.css("top",e.offset.top):this.$element.css("top",this.$window.height()-e.offset.bottom-this.$element.height()),this._placeHorizontally(),this.$element.parent().addClass(this.options.classFixedParent)},_unfix:function(e){var t=this.options;this.isFixed=!1,this.$element.addClass(t.classUnfixed).removeClass(t.classFixed),"top"===e?(this.$element.css("top",this.boundary.top-this.$window.scrollTop()),this.$element.addClass(t.classTop).removeClass(t.classBottom)):(this.$element.css("top",this.boundary.bottom-this.$element.height()-this.$window.scrollTop()),this.$element.addClass(t.classBottom).removeClass(t.classTop)),this._placeHorizontally(),this.$element.parent().removeClass(this.options.classFixedParent)},_placeHorizontally:function(){var t=this.options,i=null,n=this.$window.scrollLeft();t.innerGuideLeft&&(i=e(t.innerGuideLeft),this.$element.css("left",i.offset().left-n))}})}),define("components/iframe-hover-fix",["jquery","version!fly/managers/debug","version!fly/components/base"],function(e,t){t=t.init("iframeHoverFix"),e.widget("cnet.iframeHoverFix",e.fly.base,{options:{},_create:function(){var t=this;this._setup(),e.browser.msie&&(this.$element.live("mouseenter",function(){t.$element.addClass("hover")}),this.$element.find("iframe").live("hover",function(){t.$element.addClass("hover")}),this.$element.live("mouseleave",function(){t.$element.removeClass("hover")}))}})}),function(){"use strict";var e=0,t={};function i(n){if(!n)throw new Error("No options passed to Waypoint constructor");if(!n.element)throw new Error("No element option passed to Waypoint constructor");if(!n.handler)throw new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+e,this.options=i.Adapter.extend({},i.defaults,n),this.element=this.options.element,this.adapter=new i.Adapter(this.element),this.callback=n.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=i.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=i.Context.findOrCreateByElement(this.options.context),i.offsetAliases[this.options.offset]&&(this.options.offset=i.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),t[this.key]=this,e+=1}i.prototype.queueTrigger=function(e){this.group.queueTrigger(this,e)},i.prototype.trigger=function(e){this.enabled&&this.callback&&this.callback.apply(this,e)},i.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete t[this.key]},i.prototype.disable=function(){return this.enabled=!1,this},i.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},i.prototype.next=function(){return this.group.next(this)},i.prototype.previous=function(){return this.group.previous(this)},i.invokeAll=function(e){var i=[];for(var n in t)i.push(t[n]);for(var a=0,o=i.length;a<o;a++)i[a][e]()},i.destroyAll=function(){i.invokeAll("destroy")},i.disableAll=function(){i.invokeAll("disable")},i.enableAll=function(){i.invokeAll("enable")},i.refreshAll=function(){i.Context.refreshAll()},i.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},i.viewportWidth=function(){return document.documentElement.clientWidth},i.adapters=[],i.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},i.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=i}(),function(){"use strict";function e(e){window.setTimeout(e,1e3/60)}var t=0,i={},n=window.Waypoint,a=window.onload;function o(e){this.element=e,this.Adapter=n.Adapter,this.adapter=new this.Adapter(e),this.key="waypoint-context-"+t,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},e.waypointContextKey=this.key,i[e.waypointContextKey]=this,t+=1,this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}o.prototype.add=function(e){var t=e.options.horizontal?"horizontal":"vertical";this.waypoints[t][e.key]=e,this.refresh()},o.prototype.checkEmpty=function(){var e=this.Adapter.isEmptyObject(this.waypoints.horizontal),t=this.Adapter.isEmptyObject(this.waypoints.vertical);e&&t&&(this.adapter.off(".waypoints"),delete i[this.key])},o.prototype.createThrottledResizeHandler=function(){var e=this;function t(){e.handleResize(),e.didResize=!1}this.adapter.on("resize.waypoints",function(){e.didResize||(e.didResize=!0,n.requestAnimationFrame(t))})},o.prototype.createThrottledScrollHandler=function(){var e=this;function t(){e.handleScroll(),e.didScroll=!1}this.adapter.on("scroll.waypoints",function(){e.didScroll&&!n.isTouch||(e.didScroll=!0,n.requestAnimationFrame(t))})},o.prototype.handleResize=function(){n.Context.refreshAll()},o.prototype.handleScroll=function(){var e={},t={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(var i in t){var n=t[i],a=n.newScroll>n.oldScroll?n.forward:n.backward;for(var o in this.waypoints[i]){var s=this.waypoints[i][o],r=n.oldScroll<s.triggerPoint,l=n.newScroll>=s.triggerPoint;(r&&l||!r&&!l)&&(s.queueTrigger(a),e[s.group.id]=s.group)}}for(var d in e)e[d].flushTriggers();this.oldScroll={x:t.horizontal.newScroll,y:t.vertical.newScroll}},o.prototype.innerHeight=function(){return this.element==this.element.window?n.viewportHeight():this.adapter.innerHeight()},o.prototype.remove=function(e){delete this.waypoints[e.axis][e.key],this.checkEmpty()},o.prototype.innerWidth=function(){return this.element==this.element.window?n.viewportWidth():this.adapter.innerWidth()},o.prototype.destroy=function(){var e=[];for(var t in this.waypoints)for(var i in this.waypoints[t])e.push(this.waypoints[t][i]);for(var n=0,a=e.length;n<a;n++)e[n].destroy()},o.prototype.refresh=function(){var e,t=this.element==this.element.window,i=this.adapter.offset(),n={};for(var a in this.handleScroll(),e={horizontal:{contextOffset:t?0:i.left,contextScroll:t?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:t?0:i.top,contextScroll:t?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}}){var o=e[a];for(var s in this.waypoints[a]){var r,l,d,c,u=this.waypoints[a][s],p=u.options.offset,h=u.triggerPoint,m=0,g=null==h;u.element!==u.element.window&&(m=u.adapter.offset()[o.offsetProp]),"function"==typeof p?p=p.apply(u):"string"==typeof p&&(p=parseFloat(p),u.options.offset.indexOf("%")>-1&&(p=Math.ceil(o.contextDimension*p/100))),r=o.contextScroll-o.contextOffset,u.triggerPoint=m+r-p,l=h<o.oldScroll,d=u.triggerPoint>=o.oldScroll,c=!l&&!d,!g&&(l&&d)?(u.queueTrigger(o.backward),n[u.group.id]=u.group):!g&&c?(u.queueTrigger(o.forward),n[u.group.id]=u.group):g&&o.oldScroll>=u.triggerPoint&&(u.queueTrigger(o.forward),n[u.group.id]=u.group)}}for(var f in n)n[f].flushTriggers();return this},o.findOrCreateByElement=function(e){return o.findByElement(e)||new o(e)},o.refreshAll=function(){for(var e in i)i[e].refresh()},o.findByElement=function(e){return i[e.waypointContextKey]},window.onload=function(){a&&a(),o.refreshAll()},n.requestAnimationFrame=function(t){(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||e).call(window,t)},n.Context=o}(),function(){"use strict";function e(e,t){return e.triggerPoint-t.triggerPoint}function t(e,t){return t.triggerPoint-e.triggerPoint}var i={vertical:{},horizontal:{}},n=window.Waypoint;function a(e){this.name=e.name,this.axis=e.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),i[this.axis][this.name]=this}a.prototype.add=function(e){this.waypoints.push(e)},a.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},a.prototype.flushTriggers=function(){for(var i in this.triggerQueues){var n=this.triggerQueues[i],a="up"===i||"left"===i;n.sort(a?t:e);for(var o=0,s=n.length;o<s;o+=1){var r=n[o];(r.options.continuous||o===n.length-1)&&r.trigger([i])}}this.clearTriggerQueues()},a.prototype.next=function(t){this.waypoints.sort(e);var i=n.Adapter.inArray(t,this.waypoints);return i===this.waypoints.length-1?null:this.waypoints[i+1]},a.prototype.previous=function(t){this.waypoints.sort(e);var i=n.Adapter.inArray(t,this.waypoints);return i?this.waypoints[i-1]:null},a.prototype.queueTrigger=function(e,t){this.triggerQueues[t].push(e)},a.prototype.remove=function(e){var t=n.Adapter.inArray(e,this.waypoints);t>-1&&this.waypoints.splice(t,1)},a.prototype.first=function(){return this.waypoints[0]},a.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},a.findOrCreate=function(e){return i[e.axis][e.name]||new a(e)},n.Group=a}(),function(){"use strict";var e=window.jQuery,t=window.Waypoint;function i(t){this.$element=e(t)}e.each(["innerHeight","innerWidth","off","offset","on","outerHeight","outerWidth","scrollLeft","scrollTop"],function(e,t){i.prototype[t]=function(){var e=Array.prototype.slice.call(arguments);return this.$element[t].apply(this.$element,e)}}),e.each(["extend","inArray","isEmptyObject"],function(t,n){i[n]=e[n]}),t.adapters.push({name:"jquery",Adapter:i}),t.Adapter=i}(),function(){"use strict";var e=window.Waypoint;function t(t){return function(){var i=[],n=arguments[0];return t.isFunction(arguments[0])&&((n=t.extend({},arguments[1])).handler=arguments[0]),this.each(function(){var a=t.extend({},n,{element:this});"string"==typeof a.context&&(a.context=t(this).closest(a.context)[0]),i.push(new e(a))}),i}}window.jQuery&&(window.jQuery.fn.waypoint=t(window.jQuery)),window.Zepto&&(window.Zepto.fn.waypoint=t(window.Zepto))}(),define("libs/waypoints/jquery.waypoints-3.1.1",function(){}),define("managers/waypoints",["jquery","version!fly/managers/debug","version!libs/waypoints/jquery.waypoints","version!fly/libs/jquery.throttle-debounce"],function(e,t){t=t.init("waypoints");var i=!1;return{init:function(){i||(i=!0,e(window).on("scroll",e.throttle(500,function(){Waypoint.refreshAll()})))}}}),define("libs/waypoints/inview-3.1.1",["version!libs/waypoints/jquery.waypoints"],function(){"use strict";function e(){}var t=window.Waypoint;function i(e){this.options=t.Adapter.extend({},i.defaults,e),this.axis=this.options.horizontal?"horizontal":"vertical",this.waypoints=[],this.createWaypoints()}i.prototype.createWaypoints=function(){for(var e={vertical:[{down:"enter",up:"exited",offset:"100%"},{down:"entered",up:"exit",offset:"bottom-in-view"},{down:"exit",up:"entered",offset:-1},{down:"exited",up:"enter",offset:function(){return-this.adapter.outerHeight()}}],horizontal:[{right:"enter",left:"exited",offset:"100%"},{right:"entered",left:"exit",offset:"right-in-view"},{right:"exit",left:"entered",offset:0},{right:"exited",left:"enter",offset:function(){return-this.adapter.outerWidth()}}]},t=0,i=e[this.axis].length;t<i;t++){var n=e[this.axis][t];this.createWaypoint(n)}},i.prototype.createWaypoint=function(e){var i=this;this.waypoints.push(new t({element:this.options.element,handler:function(e){return function(t){i.options[e[t]].call(this,t)}}(e),offset:e.offset,horizontal:this.options.horizontal}))},i.prototype.destroy=function(){for(var e=0,t=this.waypoints.length;e<t;e++)this.waypoints[e].destroy();this.waypoints=[]},i.defaults={enter:e,entered:e,exit:e,exited:e},t.Inview=i}),define("components/toc-nav",["jquery","version!fly/managers/debug","managers/page-vars","managers/tealium","managers/waypoints","version!libs/jquery/mobile","version!libs/waypoints/inview"],function(e,t,i,n,a){var o=t.init("tocNav");a.init(),e.widget("cnet.tocNav",e.fly.base,{options:{applyClassOnHover:!0,closeOnSelect:!0,isIntegratedWithHeader:!0,isExpandableOnHover:!0,isExpandableOnSwipe:!1,isExpandableOnClick:!0,isVisibleOnLoad:!1,stopTouchPropagation:!1,adjustHeight:!1},$header:null,$body:null,_create:function(){o.log("Initializing"),this._setup(),this.$body=e("body"),this.$header=e("#rbHeader .fixation, #cesHeaderWrap.fixation, .headerContainer, #specialHeader .fixation"),this._setupEvents(),this.options.isVisibleOnLoad||this.options.isIntegratedWithHeader&&(e("img[data-original]").each(function(t,i){i.src=e(i).data("original")}),this.$header.hasClass("fixed"))},_setupEvents:function(){var t=this;this.options.isIntegratedWithHeader&&(this.$header.on("stickyElementStuck",function(){}),this.$header.on("stickyElementUnstuck",function(){t.$body.removeClass("tocNavOpen"),t.$body.removeClass("tocNavVisible")})),this.options.isExpandableOnHover&&this.$element.hover(function(){t._trackCustomEvent("expandToc","expandToc"),t.$header.hasClass("fixed")||!t.options.isIntegratedWithHeader?(t.options.applyClassOnHover&&t.$body.addClass("tocNavOpen"),t._trigger("open")):(t.options.applyClassOnHover&&t.$body.removeClass("tocNavOpen"),t._trigger("closed"))},function(){t.options.applyClassOnHover&&t.$body.removeClass("tocNavOpen"),t._trigger("closed")}),this.options.isExpandableOnSwipe&&(this.$element.on("swiperight",function(){t.$body.addClass("tocNavOpen"),t._trigger("open"),t._trackCustomEvent("expandToc","expandToc")}),this.$element.on("swipeleft",function(){t.$body.removeClass("tocNavOpen"),t._trigger("closed")})),this.options.isExpandableOnClick&&e(".expand",this.$element).click(function(){t.$body.hasClass("tocNavOpen")?(t.$body.removeClass("tocNavOpen"),t._trigger("closed")):(t.$body.addClass("tocNavOpen"),t._trigger("open")),t._trackCustomEvent("expandToc","expandToc"),t.$body.on("click.tocNav",function(i){0===e(i.target).closest(t.$element).length&&(t.$body.removeClass("tocNavOpen"),t._trigger("closed"),t.$body.off("click.tocNav"))})}),e("[data-toc-asset-options]",this.$element).click(function(i){i.preventDefault();var n=e(this);if(n.parent().hasClass("selected"))o.log("Element already selected; ignoring click.");else{var a=n.data("toc-asset-options").id;o.log("Firing event to request asset "+a),t.$element.trigger("tocNavRequest",{assetId:a})}t.options.closeOnSelect&&(t.$body.removeClass("tocNavOpen"),t._trigger("closed"))}),this.$element.on("tocNavSelection",function(i,n){o.log("Updating selected asset to #"+n.index),e("li.selected",t.$element).removeClass("selected");var a=e(e("[data-toc-asset-options]",t.$element)[n.index]).parent("li");a.addClass("selected");var s=a.parent("ul"),r=s.scrollTop()+a.position().top;s.animate({scrollTop:r},500)}),this.options.stopTouchPropagation&&this.$element.on("touchmove",function(e){e.stopPropagation()}),this.options.adjustHeight&&new Waypoint.Inview({element:e("#rbFooter")[0],enter:function(i){t.$element.height(e(window).height()-85),window.setTimeout(function(){t.$element.find("ul").first().scrollTop(t.$element.find(".selected").position().top)},500)},exited:function(e){t.$element.height("100%")}})},_trackCustomEvent:function(e,t){o.log("Track custom event: "+e);var a=i.tracking.data;n.trackCustomEvent(e,{articleTitle:a.articleTitle,articleType:a.articleType,articleId:a.articleId,_authorPrimaryName:a._authorPrimaryName,_pageType:a.pageType,brand:a.brand,pageNum:a.pageNum,_test:a._test,siteEdition:a._siteEdition,siteSection:a._siteSection,_siteTypeDevice:a._siteTypeDevice,_siteHier:a._siteHier,_pageViewGuid:a._pageViewGuid,browserTitle:document.title,topicId:a.topicId,collectionId:a.collectionId?a.collectionId:"",articleAuthorName:a.articleAuthorName,articleAuthorGuid:a.articleAuthorId,clickGenericText:t},"trackClick")}})}),define("fly/components/dropdown-1.0",["jquery","version!fly/components/base"],function(e){var t="ontouchstart"in window||"onmsgesturechange"in window,i=e.mobile?"vclick":"click";e.widget("fly.dropdown",e.fly.base,{options:{classSelected:"selected",event:"click",selectorTrigger:'[data-item="trigger"]'},$element:null,$trigger:null,enterTimeout:null,leaveTimeout:null,_create:function(){var e=this.options,n={};this._setup(),t&&(e.event="click"),this.$element=this.$element,this.$trigger=this.$element.find(e.selectorTrigger).first(),"click"===e.event?(n[i]="_handleClick",this._on(this.$trigger,n)):"hover"===e.event&&this._on(this.$element,{mouseenter:"_handleMouseEnter",mouseleave:"_handleMouseLeave"})},_handleClick:function(e){e.preventDefault(),this.toggle()},_handleMouseEnter:function(e){var t=this;clearTimeout(this.leaveTimeout),this.enterTimeout=setTimeout(function(){t.show()},50)},_handleMouseLeave:function(e){var t=this;clearTimeout(this.enterTimeout),this.leaveTimeout=setTimeout(function(){t.hide()},150)},_handleDocClick:function(t){var i=e(t.target);0===this.$element.has(i).length&&e.contains(document.documentElement,i[0])&&this.hide()},show:function(){var e=this,t=this.options,n={};this.$element.addClass(t.classSelected),setTimeout(function(){n[i]="_handleDocClick",e._on(e.$document,n)},1),this._trigger("shown",null,{$element:this.$element,$trigger:this.$trigger})},hide:function(){var e=this.options;this.$element.removeClass(e.classSelected),this._off(this.$document,i),this._trigger("hidden",null,{$element:this.$element,$trigger:this.$trigger})},toggle:function(){var e=this.options;this[this.$element.hasClass(e.classSelected)?"hide":"show"]()}})}),define("components/dropdown",["jquery","version!fly/managers/debug","managers/tealium","managers/page-vars","version!fly/components/dropdown"],function(e,t,i,n){(t=t.init("dropdown")).log("dropdown"),e.widget("cnet.dropdown",e.fly.dropdown,{options:{trackingOptions:{trackDropdown:!1,dropdownIndex:null,trackNameShow:"show",trackNameHide:"hide",ariaExpand:'[data-item="ariaDropdown"]'},disableClose:!1,disableCloseOutsideElement:null},$ariaExpand:null,_create:function(){t.log("create");var e=this.options,i={};this._setup(),("ontouchstart"in window||"onmsgesturechange"in window)&&(e.event="click"),this.$trigger=this.$element.find(e.selectorTrigger).first(),this.$ariaExpand=this.$element.find(e.ariaExpand).first(),"click"===e.event?(i.tap="_handleClick",t.log("this.$trigger",this.$trigger,i),this._on(this.$trigger,i)):"hover"===e.event&&this._on(this.$element,{mouseenter:"_handleMouseEnter",mouseleave:"_handleMouseLeave"})},_handleDocClick:function(i){var n=e(i.target);t.log("handleDocClick",n,this.$element,this),t.log("disabledCloseOutsideElement",e(this.options.disableCloseOutsideElement)),this.options.disableCloseOutsideElement?1===e(this.options.disableCloseOutsideElement).has(n).length&&(t.log("Click inside target element"),this.hide()):0===this.$element.has(n).length&&e.contains(document.documentElement,n[0])&&!this.options.disableClose&&(t.log("Click inside DOM"),this.hide())},show:function(){t.log("show",this.$element);var e=this,i=this.options,n={};this.$element.addClass(i.classSelected),setTimeout(function(){n.tap="_handleDocClick",e._on(e.$document,n)},1),this._trigger("shown",null,{$element:this.$element,$trigger:this.$trigger}),this.toggleAriaState(!0),i.trackingOptions.trackDropdown&&this._trackToggle("show")},hide:function(){t.log("hide:");var e=this.options;this.$element.removeClass(e.classSelected),this._off(this.$document,"tap"),this._trigger("hidden",null,{$element:this.$element,$trigger:this.$trigger}),this.toggleAriaState(!1),e.trackingOptions.trackDropdown&&this._trackToggle("hide")},toggleAriaState:function(e){t.log("toggleAS"),this.$trigger.attr("aria-expanded",e),this.$ariaExpand.attr("aria-hidden",!e)},_trackToggle:function(e){t.log("trackToggle");var a="",o=this.options;a="show"==e?o.trackingOptions.trackNameShow:o.trackingOptions.trackNameHide,o.trackingOptions.dropdownIndex&&(a+="."+o.trackingOptions.dropdownIndex),t.log("Track dropdown event: "+a),trackingData=n.tracking.data,i.trackCustomEvent("dropdownEvent",{siteEdition:trackingData.siteEdition,siteHier:trackingData.siteHier,pageType:trackingData.pageType,articleTitle:trackingData.articleTitle,articleType:trackingData.articleType,topicId:trackingData.topicId,pageViewGuid:trackingData.pageViewGuid,collectionId:trackingData.collectionId,_dwAnonId:trackingData._dwAnonId,clickGenericText:a},"trackClick")}})}),define("components/toggle",["jquery","version!fly/managers/debug","components/dropdown"],function(e,t){t=t.init("toggle"),e.widget("cnet.toggle",e.cnet.dropdown,{options:{closeOnUrlChange:!1,openOnInit:!1,scrollToToggle:!1},_create:function(){var e=this;this._super(),this.options.closeOnUrlChange&&this.$window.on("urlChanged",function(){e.hide()}),this.options.openOnInit&&this.show()},show:function(){this.$element.addClass(this.options.classSelected),this._trigger("shown",null,{$element:this.$element,$trigger:this.$trigger}),this.options.trackingOptions.trackDropdown&&this._trackToggle("show")},hide:function(){this._super(),this.options.scrollToToggle&&e("html, body").animate({scrollTop:this.$element.offset().top},1e3)}})}),define("components/touch-menu-hover",["jquery","version!fly/managers/debug","managers/device","managers/page-vars","version!fly/components/base"],function(e,t,i,n){t=t.init("touchMenuHover"),e.widget("cnet.touchMenuHover",e.fly.base,{options:{hoverClass:"hover",moreButton:"moreButton",header:!1},_create:function(){(this._setup(),"mobile"!=n.tracking.data.deviceType)&&(!!navigator.userAgent.match(/(iPad|iPhone|iPod)/g)&&e(".social-login").css("display","none"));Modernizr.touch&&this._setupEvents()},_setupEvents:function(){var n=this,a=n.$element,o=e('[data-trigger="menu"]',a);0===o.length&&(o=a),o.on(i.getImmediateClickType(),function(o){e(":cnet-touchMenuHover").not(a).removeClass(n.options.hoverClass),n.options.header&&(e("#rbHeader").removeClass("passthru intentionalHover"),e("#rbHeader").addClass("fadeOut")),a.hasClass(n.options.hoverClass)?a.hasClass(n.options.moreButton)?(t.log("Link click on active more share menu : leaving hover class"),e(document).on(i.getImmediateClickType(),null,{self:n},n._handleClickOutsideMenu)):(a.removeClass(n.options.hoverClass),t.log("Link click on active : removing hover class"),n.options.header&&(e("#rbHeader").removeClass("passthru intentionalHover"),e("#rbHeader").addClass("fadeOut")),e(document).off(i.getImmediateClickType(),null,n._handleClickOutsideMenu)):(o.preventDefault(),a.addClass(n.options.hoverClass),n.options.header&&(e("#rbHeader").removeClass("fadeOut"),e("#rbHeader").addClass("passthru intentionalHover")),t.log("Link click on non-active : preventing link and adding hover class"),e(document).on(i.getImmediateClickType(),null,{self:n},n._handleClickOutsideMenu))})},_handleClickOutsideMenu:function(n){var a=n.data.self;0===e(n.target).parents(":cnet-touchMenuHover").length&&(t.log("Body click : removing hover class"),a.$element.removeClass(a.options.hoverClass),a.options.header&&(e("#rbHeader").removeClass("passthru intentionalHover"),e("#rbHeader").addClass("fadeOut")),e(document).off(i.getImmediateClickType(),null,a._handleClickOutsideMenu))}})}),define("components/sticky-element",["jquery","version!fly/managers/debug","managers/waypoints","version!fly/components/base","version!libs/waypoints/inview"],function(e,t,i){t=t.init("stickyElement"),i.init(),e.widget("cnet.stickyElement",e.fly.base,{options:{classFixed:"fixed",classHidden:"hidden",classPlaceholder:"sticky-element-placeholder",offset:0,placeholderElement:"",primaryEdge:"top",selectorElementHide:"",selectorPageBottom:"",hideDirection:"top",unstickAtPageBottom:!1},$placeholder:null,$placeholderLocation:null,waypoint:null,endWaypoint:null,_create:function(){this._setup(),this._setupPlaceholder(),this._setupEvents()},_setupPlaceholder:function(){this.$placeholder=e('<div class="'+this.options.classPlaceholder+" "+this.options.classHidden+'"></div>'),this.$placeholder.height(this.$element.outerHeight(!0)),this.$placeholderLocation=this.options.placeholderElement?e(this.options.placeholderElement):this.$element,"top"===this.options.primaryEdge?this.$placeholderLocation.before(this.$placeholder):"bottom"===this.options.primaryEdge&&this.$placeholderLocation.after(this.$placeholder)},_setupEvents:function(){var t=this;t.pauseFlag=!1,0===this.options.offset||t.options.selectorElementHide?this.waypoint=new Waypoint.Inview({element:this.$placeholder[0],entered:function(e){"top"===t.options.primaryEdge&&"up"===e?t._unstick(e):"bottom"===t.options.primaryEdge&&"down"===e&&(t._stick(e),t.pauseFlag=!0)},exit:function(e){"top"===t.options.primaryEdge&&"down"===e?t._stick(e):"bottom"===t.options.primaryEdge&&"up"===e&&t._unstick(e)}}):t.options.selectorElementHide||(this.waypoint=new Waypoint({element:this.$placeholder[0],handler:function(e){"top"===t.options.primaryEdge&&"up"===e||"bottom"===t.options.primaryEdge&&"down"===e?t._unstick():t._stick()},offset:this.options.offset})),t.options.selectorElementHide&&(this.endWaypoint=new Waypoint({element:t.$element.closest(t.options.selectorElementHide),handler:function(e){"top"==t.options.hideDirection?1==t.pauseFlag&&"down"==e?t._unstick(e):t._stick(e):1==t.pauseFlag&&"down"==e?t._stick(e):t._unstick(e)},offset:0==t.options.offset?"bottom-in-view":t.options.offset})),t.options.selectorPageBottom&&(this.endWaypoint=new Waypoint.Inview({element:e(t.options.selectorPageBottom),entered:function(e){"top"===t.options.primaryEdge&&"down"===e&&t._unstick()},exit:function(e){"top"===t.options.primaryEdge&&"up"===e&&t._stick()}})),t.options.unstickAtPageBottom&&(this.endWaypoint=new Waypoint({element:t.$element.parents("[data-page-options]").find(".pageBottom"),handler:function(e){"down"==e?t._unstick():"up"==e&&t._stick()},offset:e(".shortLeader").length?76:100}))},_stick:function(e){this.$placeholder.removeClass(this.options.classHidden),this.$element.addClass(this.options.classFixed),this.$element.trigger("stickyElementStuck"),"up"==e?(this.$element.removeClass("down"),this.$element.addClass("up")):"down"==e&&(this.$element.removeClass("up"),this.$element.addClass("down"))},_unstick:function(e){this.$placeholder.addClass(this.options.classHidden),this.$element.removeClass(this.options.classFixed),this.$element.trigger("stickyElementUnstuck"),"up"==e?(this.$element.removeClass("down"),this.$element.addClass("up")):"down"==e&&(this.$element.removeClass("up"),this.$element.addClass("down"))}})}),define("components/form-trim",["jquery","version!fly/managers/debug","version!fly/components/base"],function(e,t){t=t.init("formTrim"),e.widget("cnet.formTrim",e.fly.base,{options:{},_create:function(){var t=this;t._setup(),t.$element.on("submit",e.proxy(function(i){e("input[type=text]",t.$element).each(function(){e(this).val(e(this).val().replace(/\s+/g," ").trim())})},this))}})}),function(e,t,i,n){var a=e(t);e.fn.lazyload=function(i){var n,o=this,s={threshold:0,failure_limit:0,event:"scroll.lazyload",effect:"show",container:t,data_attribute:"original",data_srcset:"srcset",skip_invisible:!1,appear:null,load:null,placeholder:"data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=",overrideEvent:!1};function r(){var t=0;o.each(function(){var i=e(this);if(!s.skip_invisible||i.is(":visible"))if(e.abovethetop(this,s)||e.leftofbegin(this,s));else if(e.belowthefold(this,s)||e.rightoffold(this,s)){if(++t>s.failure_limit)return!1}else i.trigger("appear"),t=0})}return i&&(void 0!==i.failurelimit&&(i.failure_limit=i.failurelimit,delete i.failurelimit),void 0!==i.effectspeed&&(i.effect_speed=i.effectspeed,delete i.effectspeed),e.extend(s,i)),n=void 0===s.container||s.container===t?a:e(s.container),0===s.event.indexOf("scroll")&&(s.overrideEvent&&n.off(s.event),n.on(s.event,function(){return r()})),this.each(function(){var t=this,i=e(t);t.loaded=!1,void 0!==i.attr("src")&&!1!==i.attr("src")||i.is("img")&&i.attr("src",s.placeholder),i.one("appear",function(){if(!this.loaded){if(s.appear){var n=o.length;s.appear.call(t,n,s)}e("<img />").one("load",function(){var n=i.attr("data-"+s.data_attribute),a=i.attr("data-"+s.data_srcset);n!==i.attr("src")&&(i.hide(),i.is("img")?(i.attr("src",n),null!==a&&i.attr("srcset",a)):i.is("video")?i.attr("poster",n):i.css("background-image","url('"+n+"')"),i[s.effect](s.effect_speed)),t.loaded=!0;var r=e.grep(o,function(e){return!e.loaded});if(o=e(r),s.load){var l=o.length;s.load.call(t,l,s)}}).bind("error",function(){e(t).trigger("error")}).attr({src:i.attr("data-"+s.data_attribute),srcset:i.attr("data-"+s.data_srcset)||""})}}),0!==s.event.indexOf("scroll")&&i.off(s.event).on(s.event,function(){t.loaded||i.trigger("appear")})}),a.off("resize.lazyload").bind("resize.lazyload",function(){r()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&a.on("pageshow",function(t){t.originalEvent&&t.originalEvent.persisted&&o.each(function(){e(this).trigger("appear")})}),e(function(){r()}),this},e.belowthefold=function(i,n){return(void 0===n.container||n.container===t?(t.innerHeight?t.innerHeight:a.height())+a.scrollTop():e(n.container).offset().top+e(n.container).height())<=e(i).offset().top-n.threshold},e.rightoffold=function(i,n){return(void 0===n.container||n.container===t?a.width()+a.scrollLeft():e(n.container).offset().left+e(n.container).width())<=e(i).offset().left-n.threshold},e.abovethetop=function(i,n){return(void 0===n.container||n.container===t?a.scrollTop():e(n.container).offset().top)>=e(i).offset().top+n.threshold+e(i).height()},e.leftofbegin=function(i,n){return(void 0===n.container||n.container===t?a.scrollLeft():e(n.container).offset().left)>=e(i).offset().left+n.threshold+e(i).width()},e.inviewport=function(t,i){return!(e.rightoffold(t,i)||e.leftofbegin(t,i)||e.belowthefold(t,i)||e.abovethetop(t,i))},e.extend(e.expr[":"],{"below-the-fold":function(t){return e.belowthefold(t,{threshold:0})},"above-the-top":function(t){return!e.belowthefold(t,{threshold:0})},"right-of-screen":function(t){return e.rightoffold(t,{threshold:0})},"left-of-screen":function(t){return!e.rightoffold(t,{threshold:0})},"in-viewport":function(t){return e.inviewport(t,{threshold:0})},"above-the-fold":function(t){return!e.belowthefold(t,{threshold:0})},"right-of-fold":function(t){return e.rightoffold(t,{threshold:0})},"left-of-fold":function(t){return!e.rightoffold(t,{threshold:0})}})}(jQuery,window,document),define("libs/jquery/lazyload-1.10.0.custom",function(){}),define("components/lazyload-images",["jquery","version!fly/components/base","version!libs/jquery/lazyload"],function(e){e.widget("cnet.lazyloadImages",e.fly.base,{options:{threshold:200,skip_invisible:!1},_create:function(){this._super(),this._setupEvents(),this._lazyLoadImages()},_setupEvents:function(){this._on(this.$element,{ajaxStop:this._lazyLoadImages})},_lazyLoadImages:function(){window.HTMLImageElement&&"loading"in window.HTMLImageElement.prototype?this.$element.find("img.lazy").each(function(t){var i=e(this);i.attr("src",i.attr("data-original")),i.attr("srcset",i.attr("data-srcset")),i.attr("sizes",i.attr("data-sizes")),i.attr("data-original",null),i.attr("data-srcset",null),i.attr("data-sizes",null),i.attr("loading","lazy"),i.removeClass("lazy")}):this.$element.find("img.lazy").lazyload(this.options).removeClass("lazy")}})}),define("components/modal-enlarge-image",["jquery","managers/page-vars","managers/tealium","version!fly/components/base","components/global-modal"],function(e,t,i){e.widget("cnet.modalEnlargeImage",e.cnet.globalModal,{options:{},_create:function(){this._super();var n=this.$element.data().target;this._on(e(n),{modalopened:function(t){e("body").addClass("modalImage")},modalclosed:function(t){e("body").removeClass("modalImage")}}),this.$element.on("click",function(){var e=t.tracking.data;i.trackCustomEvent("trackClickToEnlarge",{_articleTitle:e.articleTitle,articleTitle:e.articleTitle,_articleId:e.articleId,articleId:e.articleId,_authorPrimaryName:e._authorPrimaryName,articleType:e.articleType,_articleType:e.articleType,_pageType:e.pageType,siteSection:e.siteSection,_test:e._test,_topicPrimaryId:e.topicId.toString(),siteEdition:e._siteEdition,_siteTypeDevice:e._siteTypeDevice,_siteHier:e._siteHier,pageViewGuid:e._pageViewGuid,_pageViewGuid:e._pageViewGuid,_dwAnonId:e._dwAnonId,dwAnonId:e._dwAnonId,_collectionPrimaryId:e._collectionPrimaryId,viewguid:e.pageViewGuid,clickGenericText:"click-to-enlarge"},"trackClick")})}})}),define("components/article",["jquery","version!fly/managers/debug","managers/client-storage","managers/page-vars","version!fly/utils/url-helper","managers/components.desktop","version!fly/components/base"],function(e,t,i,n,a,o){t=t.init("article");e.widget("cnet.article",e.fly.base,{options:{autoplayVideo:!1,urlPath:null,isLiveBlog:!1},data:null,_create:function(){this._setup(),this._autoplayVideo(),this.options.isLiveBlog&&this._liveBlogUpdate()},_autoplayVideo:function(){if(t.info("Autoplay video",i.read("autoplayEnabled"),this.options.autoplayVideo),"off"!=i.read("autoplayEnabled")&&!1!==this.options.autoplayVideo&&"off"!==a.getParam("autoplayEnabled")){var n=e('.video.shortcode .videoPlayer[data-component^="cnetVideo"], #featuredVideo .videoPlayer[data-component^="cnetVideo"]').first(),o=n.find(".videoPromo");if(t.log("Autoplay video",n,o),n.length>0)try{t.log("Check popout"),this._isInViewport(n)?t.log("no popout"):(n.parent().addClass("popOut"),t.log("do popout",n)),n.cnetVideo("inited")&&(o.trigger("click",{autoplay:!0}),t.log("Click triggered",o))}catch(e){t.warn("Video not ready",e),n.on("onVideoPlayerReady",function(e){t.log("Video ready. Trigger click",e),o.trigger("click",{autoplay:!0})})}else t.info("No video to autoplay");t.log("/Autoplay")}},_liveBlogUpdate:function(){var i=this,n=this.options.urlPath,a=[],s=document.querySelector("[itemprop=liveBlogUpdate]"),r=document.querySelectorAll("[itemprop=liveBlogUpdate]").length;e("#update-available").insertBefore(e(s)),setInterval(function(){e.ajax({type:"GET",dataType:"html",url:n,error:function(e,i,n){t.log(n)},success:function(t){let i=e.parseHTML(t),n=e(i).find("[itemprop=liveBlogUpdate]").length;n>r&&(a=[],e(i).find("[itemprop=liveBlogUpdate]").slice(0,n-r).each(function(){a.push(e(this)[0])}),e("#update-available").removeClass("hidden"))}})},6e4),e("#update-available").click(function(){var t=document.querySelector("[itemprop=liveBlogUpdate]");r+=a.length,a.length>0&&(a.forEach(e=>{const i=document.createElement("HR");t.parentNode.insertBefore(e,t),t.parentNode.insertBefore(i,t)}),o.process(i.$element),e("#update-available").addClass("hidden")),a=[]})},_isInViewport:function(t){t=e(t);var i=this.$window.scrollTop(),n=i+this.$window.height(),a=t.offset().top,o=a+t.outerHeight();return a<n&&o>i}})}),define("fly/managers/history-2.0",["jquery","version!fly/utils/string-vars"],function(e,t){"use strict";var i=window.history,n=e(window),a=0,o="pushState"in i&&"replaceState"in i&&!(window.navigator.userAgent.indexOf("Firefox")>=0&&window.top!==window),s=function(e,t){e=e||{},a+=1,this.id="history-"+a,this.title=e.title,this.route=e.route,this.originalTitle=document.title,t&&this.navigate(t,{replace:!0})};return s.prototype={constructor:s,navigate:function(n,a){if(!o)return!1;e.extend(!0,n,{historyId:this.id});var s=(a=a||{}).title||this.title,r=a.url||this.route;s=t.compile(e.isFunction(s)?s(n):s,e.extend({title:this.originalTitle},n)),r=t.compile(e.isFunction(r)?r(n):r,n),i[a.replace?"replaceState":"pushState"](n,s,r),s&&(document.title=s)},stateChange:function(t){if(!o)return!1;var a=this;n.on("popstate."+this.id,function(){var n=i.state||{};n.historyId===a.id&&e.isFunction(t)&&t(n)})},stop:function(){if(!o)return!1;n.off("popstate."+this.id)}},{init:function(e,t){return new s(e,t)}}}),define("managers/trackonomics",["jquery","version!fly/managers/debug"],function(e,t){var i=t.get("trackonomics");return{refreshTrackonomics:function(){try{if("object"==typeof window.trx){i.log("reload trackonomics");var e=window.trx;e.magicLinksEngine=new e.MagicLinks(!1),e.magicLinksEngine.run(!0)}}catch(e){i.log("trackonomics error: "+e)}}}}),define("components/page",["jquery","version!fly/managers/debug","version!fly/managers/components","version!fly/managers/history","managers/waypoints","managers/tracking","managers/tealium","managers/trackonomics","managers/ad","managers/guid","managers/page-vars","version!fly/utils/url-helper","version!fly/utils/string-helper","version!fly/components/base","version!libs/waypoints/inview"],function(e,t,i,n,a,o,s,r,l,d,c,u,p){t=t.init("page"),a.init();var h=!1;e.widget("cnet.page",e.fly.base,{options:{ajaxOffset:0,ajaxUrl:null,allowAds:!1,amlTrackingCallback:null,browserTitle:null,browserUrl:null,chartbeatTracking:!0,classCurrent:"current",cmsUrl:null,dwPostPend:"",dwTagOverride:null,hasSubPages:!1,initialPage:!1,limit:-1,loadParentAd:!1,manuallyRefreshClearedAds:!0,manuallyRefreshUnclearedAds:!0,onlyViewPageOnce:!0,preserveQueryString:!0,redirectUrl:null,refreshViewGuid:!0,replaceState:!1,resetAdPosition:!1,trackingEventData:null,trackingPageLoadData:null,trackPageviewUp:!1,trackPageChange:!1,unloadAdsOutOfView:!1,trackScroll25:!1,trackScroll50:!1,trackScroll75:!1,trackScroll100:!1},$parentPage:null,adData:null,adInterval:null,adsCleared:!1,adsInitialized:!0,ajaxWaypoint:null,destructorWaypoints:null,inviewWaypoints:null,inviewWaypointTriggered:!1,loaded:!1,scrollPercentageWaypoints:null,trackingData:null,viewed:!1,_create:function(){this._setup(),this._initHistoryManager(),this.options.chartbeatTracking||(c.services.chartbeat_tracking.enabled=!1),this.viewed=this.options.initialPage,this.loaded=!this.options.ajaxUrl,this.$parentPage=this.$element.parents("[data-page-options]"),this.$parentPage.length>0&&this.$parentPage.data("page")&&!this.$parentPage.data("page").adsInitialized&&(this.adsInitialized=!1),this.adData=c.ads.data,this.trackingData=c.tracking.data,this._initWaypoints(),c.services.vertical_galleries&&c.services.vertical_galleries.enabled&&window.location.pathname===this.options.browserUrl&&this.options.trackingPageLoadData&&this.options.trackingPageLoadData.pageNum&&e("html, body").scrollTop(e("[data-slide-num='"+this.options.trackingPageLoadData.pageNum+"']").offset().top-20)},_initHistoryManager:function(){window.history.scrollRestoration="manual",this.history=n.init(),this.history.stateChange(function(t){if(t.id){var i=e("#"+t.id);i.length>0&&(h=!0,e("html, body").animate({scrollTop:i.offset().top},250,function(){h=!1}))}})},_initWaypoints:function(){var e=this;if(this.options.redirectUrl?this.ajaxWaypoint=new Waypoint({element:this.$element[0],handler:function(t){e._redirect()},offset:this.options.ajaxOffset}):this.options.ajaxUrl&&(this.ajaxWaypoint=new Waypoint({element:this.$element[0],handler:function(t){e._ajaxContent(),this.destroy()},offset:this.options.ajaxOffset})),this.inviewWaypoints=[],this.inviewWaypoints.push(new Waypoint({enabled:!this.loaded||this.$parentPage.length>0,element:this.$element[0],handler:function(t){"down"===t&&(e.inviewWaypointTriggered=!0,e.loaded&&e._viewPage(t))},offset:function(){var t=.5*window.innerHeight;return e.$parentPage.length>0&&(t=window.innerHeight),t}})),this.inviewWaypoints.push(new Waypoint({enabled:!this.loaded||this.$parentPage.length>0,element:this.$element[0],handler:function(t){"up"===t&&(e.inviewWaypointTriggered=!0,e.loaded&&e._viewPage(t))},offset:function(){var t=.5*window.innerHeight-this.element.clientHeight;return e.$parentPage.length>0&&(t=-this.element.clientHeight),t}})),this.options.ajaxUrl||this._initTrackingWaypoints(),this.loaded)for(var t=0;t<this.inviewWaypoints.length;t++)this.inviewWaypoints[t].enable();this.options.unloadAdsOutOfView&&(this.destructorWaypoints=[],this.destructorWaypoints.push(new Waypoint({element:this.$element[0],handler:function(t){"down"===t&&e._unloadAds(e.$element)},offset:"-200%"})),this.destructorWaypoints.push(new Waypoint({element:this.$element[0],handler:function(t){"up"===t&&e._unloadAds(e.$element)},offset:"200%"})))},_initTrackingWaypoints:function(){this.scrollPercentageWaypoints=[],this.options.trackScroll25&&this._setupScrollTrackingWayPoint(.25,"scroll25"),this.options.trackScroll50&&this._setupScrollTrackingWayPoint(.5,"scroll50"),this.options.trackScroll75&&this._setupScrollTrackingWayPoint(.75,"scroll75"),this.options.trackScroll100&&this._setupScrollTrackingWayPoint(1,"scroll100")},_setupGalleryWaypoint:function(){var t=e(".stickyColumnElement .ad-mpu-top").parent(),i=e(".ad-leader-top").parent(),n=new Waypoint.Inview({element:e(".image-gallery .ad-incontent-ad-bottom"),enter:function(e){n&&"none"!==n.options.element.css("display")&&(i.addClass("hidden"),t.addClass("hidden"))},exit:function(e){n&&"none"!==n.options.element.css("display")&&(i.addClass("hidden"),t.addClass("hidden"))},exited:function(e){n&&"none"!==n.options.element.css("display")&&(i.removeClass("hidden"),t.removeClass("hidden"))}})},_setupScrollTrackingWayPoint:function(e,t){var i=this;this.scrollPercentageWaypoints.push(new Waypoint({element:this.$element[0],offset:function(){return-this.element.clientHeight*e+window.innerHeight},handler:function(n){"down"===n&&(i._customTrackingCall("percentageScrollTracking",{clickGenericText:t,cohesionData:{"@type":"core.InfinitePageScrolled.v1",scrollDistance:100*e,pageIndex:i._getPageIndex(),isInfiniteScroll:!0}}),this.destroy())}}))},_redirect:function(){var t=this.options.redirectUrl;if(this.options.preserveQueryString){var i=e.extend({},u.getAllParams(),u.getAllParams(this.options.ajaxUrl));t=u.buildUrl("",u.getPath(t),i)}window.location=t},_ajaxContent:function(){var n=this,a=this.options.ajaxUrl;if(this.options.preserveQueryString){var o=e.extend({},u.getAllParams(),u.getAllParams(this.options.ajaxUrl));a=u.buildUrl("",u.getPath(a),o)}t.log("Loading new page: "+a),e.ajax({dataType:"json",url:a}).done(function(a){if(a.template){n.loaded=!0,n.adData=a.adData,n.adsInitialized=!1,n.trackingData=a.trackingData,n.$element.html(a.template),a.featureFlags&&(c.services=a.featureFlags),i.process(n.$element),window.cbsoptanon&&(window.cbsoptanon.onIframesReady(function(){window.cbsoptanon.tags.load("IFRAME")}),window.cbsoptanon.onScriptsReady(function(){window.cbsoptanon.ot.getState(function(t,i,a,o){n.$element.find("[class^=optanon-category-]").each(function(){var n=!1;switch(parseInt(e(this).prop("className").slice(-1))){case 2:n=i;break;case 3:n=a;break;case 4:n=t;break;case 5:n=o}if(n&&("SCRIPT"===e(this).prop("tagName")&&"text/plain"===e(this).attr("type"))){e(this).attr("type","application/javascript");var s=e(this).clone();e(this).html(s)}})})})),n.inviewWaypointTriggered&&n._viewPage("down"),n._initTrackingWaypoints();var o=e("[data-page-options]").filter(function(t,i){return 0===e(i).parent().closest("[data-page-options]").length});if(a.after&&(n.options.limit<0||o.length<n.options.limit)){var s=e(a.after);n.$element.after(s),i.process(s)}}else t.log("No content template found.")})},_viewPage:function(t){var i=this;if(this._updateUrl(),!this.options.onlyViewPageOnce||!this.viewed||this.options.trackPageviewUp&&"up"==t){if(this.viewed=!0,this.options.hasSubPages)this.options.trackingEventData&&this._trackEvent(t);else{if(this._updatePageVars(),(this.options.trackingPageLoadData||this.options.trackPageviewUp)&&this._trackPV(t),this.options.allowAds){var n=this.options.loadParentAd?this.$parentPage:this.$element;this._loadAds(n)}if(c.services.vertical_galleries&&c.services.vertical_galleries.enabled){var a=l.getAdUnits(c.ads.data.gpt.containerId,null,["mpu-top"]);i.adInterval=setInterval(function(){clearInterval(i.adInterval),i.$element.hasClass("current")&&1!==i.$element.data("slide-num")&&l.loadAds(a,this.adData,{})},250)}}this.options.amlTrackingCallback&&e.ajax(this.options.amlTrackingCallback)}this.options.trackPageChange&&this.options.trackingEventData&&this._trackEvent(t)},_loadAds:function(i){var n=!1,a=e.extend({},this.adData);e.extend(a.gpt.targeting,i.data("customAdVars")),this.$parentPage.length>0&&this.$parentPage.data("page")&&this.$parentPage.data("page").adsInitialized&&(this.adsInitialized=!0);var o=c.services.skybox&&c.services.skybox.enabled,s=e(window.document.body).hasClass("skybox-loaded"),d=[];if(o&&s&&(d=l.getAdUnits(null,null,["nav-ad-plus","mobile-nav-ad","mobile-nav-ad-plus","nav-ad-plus-leader"])),!this.adsInitialized){t.log("loading all ads for the current container/page");var u=l.getAdUnits(c.ads.data.gpt.containerId).concat(d);l.loadAds(u,a,{resetIncrementalPosition:this.options.resetAdPosition,excludeDisabled:!0,incrementPageView:!0}),this.adsInitialized=!0,n=!0,this.$parentPage.length>0&&this.$parentPage.data("page")&&(this.$parentPage.data("page").adsInitialized=!0)}if(this.options.manuallyRefreshClearedAds&&this.adsCleared||this.options.manuallyRefreshUnclearedAds&&!this.adsCleared){t.log("refreshing all ads contained within the page",i);u=l.getAdUnits(null,null,null,i.get(0)).concat(d).filter(function(t){var i=e(t),a=c.ads.data.gpt.adConfig.adUnits[p.toCamelCase(i.data("ad"))],o=a.disableInitialLoad||a.delayLoad||!0===i.data("disableInitialLoad");return!0!==n||o});l.loadAds(u,a,{resetIncrementalPosition:this.options.resetAdPosition,incrementPageView:!0!==n}),this.adsCleared=!1}r.refreshTrackonomics()},_unloadAds:function(e){if(this.adsInitialized){t.log("Unloading all ads contained within",e),l.removeAds(l.getAdUnits(null,null,null,e.get(0)),!1),this.adsCleared=!0}},_updatePageVars:function(){this.trackingData?o.resetTrackingData(this.trackingData):this.$parentPage.length>0&&this.$parentPage.data("page")&&this.$parentPage.data("page").trackingData&&(this.trackingData=e.extend(!0,{},c.tracking.data,this.$parentPage.data("page").trackingData),o.resetTrackingData(this.trackingData)),this.adData?c.ads.data=this.adData:this.$parentPage.length>0&&this.$parentPage.data("page")&&this.$parentPage.data("page").adData&&(c.ads.data=this.adData=this.$parentPage.data("page").adData),this.options.refreshViewGuid&&d.resetViewGuid()},_updateUrl:function(){if(this.options.browserUrl&&!h){var t=this.options.browserUrl;if(this.options.preserveQueryString){var i=e.extend({},u.getAllParams(),u.getAllParams(this.options.browserUrl));t=u.buildUrl("",u.getPath(t),i)}this.history.navigate({id:this.$element.attr("id")},{title:this.options.browserTitle||document.title,url:t,replace:this.options.replaceState}),e("[data-page-options]").removeClass(this.options.classCurrent),this.$element.addClass(this.options.classCurrent),this.options.cmsUrl&&e("body").attr("data-cms-edit",'{"url":"'+this.options.cmsUrl+'"}'),this.$window.trigger("urlChanged")}},_trackEvent:function(t){var i=t+"."+(e("[data-page-options]").filter(function(t,i){return 0===e(i).parent().closest("[data-page-options]").length}).index(this.$element)+("up"===t?1:0));this._customTrackingCall("trackPageEvent",{clickGenericText:i})},_getPageIndex:function(){return e("[data-page-options]").filter(function(t,i){return 0===e(i).parent().closest("[data-page-options]").length}).index(this.$element)},_trackPV:function(t){"up"==t&&(this.options.trackPageviewUp=!1);var i=this._getPageIndex();c.tracking.data.pageNum=i+1;var n="";this.options.dwTagOverride?n=this.options.dwTagOverride:i>=0&&(n=t+"."+i+this.options.dwPostPend);var a=c.tracking.data;s.trackPageLoad(e.extend(!0,{articleId:a.articleId,articleTitle:a.articleTitle,articleType:a.articleType,articleAuthorName:a.articleAuthorName,brand:a.brand,clickGenericText:"",collectionId:a.collectionId,dwLinkTag:n,event:"log",mfr:a.mfr,pageTitle:a.articleTitle,riaevent:"view",siteEdition:a.siteEdition,siteHier:a.siteHier,siteSection:a.siteSection,_pageFindingMethods:"",_pageNumber:a.pageNum,_pageViewGuid:a.pageViewGuid,_siteEdition:a.siteEdition,_topicPrimaryId:a.topicId?a.topicId[0]:null},this.options.trackingPageLoadData||{}))},_customTrackingCall:function(t,i){var n=c.tracking.data;s.trackCustomEvent(t,e.extend(!0,{articleId:n.articleId,articleTitle:n.articleTitle,articleType:n.articleType,collectionId:n.collectionId,pageTitle:n.photoGalleryTitle,pageType:n.pageType,pageViewGuid:n.pageViewGuid,siteEdition:n.siteEdition,siteHier:n.siteHier,siteSection:n.siteSection,topicId:n.topicId,_dwAnonId:n._dwAnonId},this.options.trackingEventData||{},i),"trackClick")}})}),define("components/sliding-element",["jquery","version!fly/managers/debug","managers/waypoints","version!fly/components/base"],function(e,t,i){t=t.init("slidingElement"),i.init(),e.widget("cnet.slidingElement",e.fly.base,{options:{classFixed:"fixed",classReady:"ready",offset:0,offsetGuideParallelBottom:0,offsetGuideParallelTop:0,selectorGuideBottom:null,selectorGuideParallel:null,selectorGuideTop:null,stickTo:"top"},$guideBottom:null,$guideParallel:null,$guideTop:null,$html:null,boundaryBottom:0,boundaryTop:0,stickToBottom:!1,waypoints:null,_create:function(){this._setup(),this.stickToBottom="bottom"===this.options.stickTo,this._setupElements(),this._setupEvents(),this.$element.addClass(this.options.classReady)},_setupElements:function(){this.$html=e("html"),this.options.selectorGuideBottom&&(this.$guideBottom=e(this.options.selectorGuideBottom)),this.options.selectorGuideParallel&&(this.$guideParallel=e(this.options.selectorGuideParallel)),this.options.selectorGuideTop&&(this.$guideTop=e(this.options.selectorGuideTop)),this.$guideParallel&&!this.$guideTop&&(this.boundaryTop="string"==typeof this.options.offsetGuideParallelTop?parseInt(this.options.offsetGuideParallelTop,10)*this.$guideParallel.outerHeight()/100:this.options.offsetGuideParallelTop,this.$element.css({top:this.boundaryTop+"px"}))},_setupEvents:function(){var e=this;this.waypoints=[],this.$guideTop?this.waypoints.push(new Waypoint({element:this.$guideTop,handler:this._topWaypointHandler.bind(this),offset:function(){var t=e.$html.css("zoom")||1,i=e.options.offset-e.$guideTop.outerHeight();return e.stickToBottom&&(i=(i-e.$element.outerHeight())*t+e.$window.height()),i}})):this.$guideParallel&&this.waypoints.push(new Waypoint({element:this.$guideParallel,handler:this._topWaypointHandler.bind(this),offset:function(){var t=e.$html.css("zoom")||1,i=e.options.offset-e.boundaryTop;return e.stickToBottom&&(i=(i-e.$element.outerHeight())*t+e.$window.height()),i}})),this.$guideBottom?this.waypoints.push(new Waypoint({element:this.$guideBottom,handler:this._bottomWaypointHandler.bind(this),offset:function(){var t=e.$html.css("zoom")||1,i=e.options.offset+e.$element.outerHeight();return e.stickToBottom&&(i=(i-e.$element.outerHeight())*t+e.$window.height()),i}})):this.$guideParallel&&this.waypoints.push(new Waypoint({element:this.$guideParallel,handler:this._bottomWaypointHandler.bind(this),offset:function(){var t=e.$html.css("zoom")||1;e.boundaryBottom=e.$guideParallel.outerHeight()-e.$element.outerHeight()-("string"==typeof e.options.offsetGuideParallelBottom?parseInt(e.options.offsetGuideParallelBottom,10)*e.$guideParallel.outerHeight()/100:e.options.offsetGuideParallelBottom);var i=e.options.offset-e.boundaryBottom;return e.stickToBottom&&(i=(i-e.$element.outerHeight())*t+e.$window.height()),i}}))},_topWaypointHandler:function(e){if("down"===e)this.$element.addClass(this.options.classFixed);else{var t=this.boundaryTop;if(this.$guideTop){var i=this.$guideTop.offset(),n=this.$element.parent().offset();t=i.top+this.$guideTop.outerHeight()-n.top}this.$element.removeClass(this.options.classFixed).css({top:t+"px"})}},_bottomWaypointHandler:function(e){if("down"===e){var t=this.boundaryBottom;if(this.$guideBottom){var i=this.$guideBottom.offset(),n=this.$element.parent().offset();t=i.top-n.top-this.$element.outerHeight()}this.$element.removeClass(this.options.classFixed).css({top:t+"px"})}else this.$element.addClass(this.options.classFixed)}})}),define("components/sticky-column",["jquery","managers/tealium","managers/events","version!fly/managers/debug","managers/waypoints","version!fly/libs/jquery.throttle-debounce","version!fly/components/base"],function(e,t,i,n,a){n=n.init("stickyColumn"),a.init(),e.widget("cnet.stickyColumn",e.fly.base,{options:{classFixed:"fixed",classReady:"ready",enableWaypoints:!0,minimumGap:250,offset:0,selectorHeightConstraint:"",selectorHideElement:"",eventChannels:null,eventSubscriptions:null},$constraint:null,divisionSize:0,height:0,waypoints:null,$fixedChild:null,_create:function(){this._setup();var t=this;t._setupElements(),t._setupEvents(),n.log("First sticky column setup"),e(window).on("resize",e.throttle(250,function(){t._resizeStickyCol(),n.log("Resized sticky column setup")})),this.$constraint.find("img.lazy[loading='lazy']").on("load",function(){t._resizeStickyCol(),n.log("lazy image sticky column setup")})},_resizeStickyCol:function(){e(this.waypoints).each(function(){this.destroy()}),this._clearHeight(),this._setupElements(),this._setupEvents()},_setupElements:function(){this.$constraint=this.$element.closest(this.options.selectorHeightConstraint),0===this.$constraint.length&&(this.$constraint=e(this.options.selectorHeightConstraint).first()),this._setHeight(),this._hideExtraOptionalElements(),this._createElementDivisions(),this.$element.addClass(this.options.classReady)},_setHeight:function(){var t=this.$element.children('[data-meta*="type":"static"], [data-meta*="type":"required"]'),i=(t.length-1)*this.options.minimumGap;t.each(function(t,n){var a=e(n);i+=a.data("meta").height||a.outerHeight()}),this.height=Math.max(i,this.$constraint.outerHeight()),this.$element.height(this.height),n.log("Height: ",this.height),n.log("Min-height: ",i),n.log("Required children: ",t.length)},_clearHeight:function(){this.height=0,this.$element.height("auto")},_hideExtraOptionalElements:function(){var t=this.$element.children(),i=t.filter('[data-meta*="type":"optional"]');if(i.length>0){var a=(t.length-1)*this.options.minimumGap;for(t.each(function(t,i){var n=e(i);a+=n.data("meta").height||n.outerHeight()});a>this.height&&i&&i.length>0;){var o=i.last();a-=o.outerHeight()+this.options.minimumGap,i=i.slice(0,-1),o.remove()}}n.log("Opt. children: ",i.length)},_createElementDivisions:function(){var t=this.$element.children();this.divisionSize=this.height/t.length,this.options.selectorHideElement&&(this.divisionSize=e(this.options.selectorHideElement).offset().top-this.options.offset);for(var i=1;i<t.length;i++){var a=i*this.divisionSize,o=t.eq(i),s=t.eq(i-1),r=o.data("meta")&&o.data("meta").height?o.data("meta").height:o.outerHeight(),l=s.data("meta")&&s.data("meta").height?s.data("meta").height:s.outerHeight();l+=s.position().top;var d=r-this.divisionSize;d>0?a-=d:l>a&&(a=l),o.css("top",a+"px")}n.log("Division size: ",this.divisionSize)},_setupEvents:function(){if(this.options.enableWaypoints){var i=this.$element.children();this.waypoints=[];for(var a=this,o=0;o<i.length;o++){var s=i.eq(o);if(s.data("meta")&&"static"!==s.data("meta").type){var r=s.data("meta").height||s.outerHeight(),l=o*this.divisionSize,d=(o+1)*this.divisionSize-r,c=o+1===i.length;this.divisionSize>r&&(this.waypoints.push(new Waypoint({element:this.$element,handler:this._topWaypointHandler.bind(this,s,l),offset:this.options.offset-l})),this.waypoints.push(new Waypoint({element:this.$element,handler:this._bottomWaypointHandler.bind(this,s,d,r,c),offset:c?this._getLastBottomOffset.bind(this,r):this.options.offset-d})))}}new Waypoint({element:this.$element,handler:function(n){if("down"===n)for(var a=0;a<i.length;a++){var o=i.eq(a);if(o.data("meta")&&o.data("meta").trackingData){var s=e.extend(!0,{},this._baseTrackingData,o.data("meta").trackingData);t.trackCustomEvent("impression",s,"trackClick")}}},offset:"100%"});if(""!==this.options.selectorHideElement)new Waypoint({element:e(this.options.selectorHideElement),group:"hideElement",handler:function(e){a.$fixedChild&&("down"===e?(n.log("tophandle - down"),a.$element.children(".fixed").addClass("hidden")):(n.log("tophandle - up"),a.$element.children(".hidden").removeClass("hidden")))},offset:function(){return a.$fixedChild?a.$fixedChild.offset().top-e(window).scrollTop()+a.$fixedChild.height():"0"}}),new Waypoint({element:e(this.options.selectorHideElement),group:"hideElement",handler:function(e){a.$fixedChild&&("down"===e?(n.log("bottomhandle - down"),a.$element.children(".hidden").removeClass("hidden")):(n.log("bottomhandle - up"),a.$element.children(".fixed").addClass("hidden")))},offset:function(){return a.$fixedChild?a.$fixedChild.offset().top-e(window).scrollTop()-e(a.options.selectorHideElement).height():"0"}})}},_topWaypointHandler:function(e,t,i){"down"===i?(e.addClass(this.options.classFixed),this.$fixedChild=e):(e.removeClass(this.options.classFixed).css({top:t+"px"}),this.$fixedChild=null)},_bottomWaypointHandler:function(e,t,i,n,a){n&&(t=this.$constraint.outerHeight()-i),"down"===a?(e.removeClass(this.options.classFixed).css({top:t+"px"}),this.$fixedChild=null):(e.addClass(this.options.classFixed),this.$fixedChild=e)},_getLastBottomOffset:function(e){var t=this.$constraint.outerHeight()-e;return n.log("Bottom offset: ",this.options.offset-t),this.options.offset-t}})}),define("components/selfish-scroll",["jquery","version!fly/managers/debug","version!fly/components/base"],function(e,t){t=t.init("selfishScroll"),e.widget("cnet.selfishScroll",e.fly.base,{options:{threshold:5},_create:function(){this._setup(),this._setupEvents()},_setupEvents:function(){var e=this;this.$element.on("scroll wheel",function(){var t=e.options.threshold<5?5:e.options.threshold,i=t,n=this.scrollHeight-t;Math.floor(this.scrollTop)<=i?this.scrollTop=i:Math.ceil(this.scrollTop+this.clientHeight)>=n&&(this.scrollTop=n-this.clientHeight)})}})}),define("components/update-area",["jquery","version!fly/managers/debug","version!fly/managers/components","version!fly/components/base"],function(e,t,i){t=t.init("updateArea"),e.widget("cnet.updateArea",e.fly.base,{options:{url:""},_create:function(){this._super(),this._setupEvents()},_setupEvents:function(){this.options.url.length>0&&this.doAjax(this.options.url)},doAjax:function(t){var i=this;e.ajax({url:t,dataType:"json"}).done(function(t){e.each(t.pageElements,function(e){var n=t.pageElements[e].html;i.updateView(n,e)})})},updateView:function(t,n){var a=e("[data-update-area="+n+"]");a.html(t),i.process(a);var o=a.find("[data-video-playlist]");o.length>0&&require(["quantum/videoPlayer","quantum/inviewElement"],function(){e("body").hasClass("videoPlayerReady")?e(window).trigger("appendPlaylist",{data:o.data("videoPlaylist")}):e('[data-component="videoPlayer"]').one("onVideoPlayerReady",function(){e(window).trigger("appendPlaylist",{data:o.data("videoPlaylist")})})})}})}),define("components/sticky-leader",["jquery","version!fly/managers/debug","managers/page-vars","managers/ad","components/sticky-element","version!libs/waypoints/jquery.waypoints"],function(e,t,i,n){t=t.init("stickyLeader"),e.widget("cnet.stickyLeader",e.cnet.stickyElement,{options:{classFadeOut:"fadeOut",duration:0,selectorUnstick:null,topOffset:null,bottomOffset:-60,alwaysSticky:!1,clickToRemoveLeader:!1,selectorDisable:"[data-disable-button]",adToRemove:["mobile-nav-ad-plus-banner"]},beginWaypoint:null,$close:null,endWaypoint:null,_create:function(){this._super()},_setupEvents:function(){var t=this,i=this.$placeholder[0];this.options.clickToRemoveLeader&&(this.$close=e(this.options.selectorDisable,this.$element),this.$close.on("click",function(){t.$element.addClass("disabled"),t.$element.parent().addClass("removed"),n.removeAds(n.getAdUnits(null,t.options.adToRemove,null),!0),t.beginWaypoint.disable()})),this.beginWaypoint=new Waypoint({element:i,handler:function(e){"down"===e?(t.$placeholder.removeClass(t.options.classHidden),t.$element.addClass(t.options.classFixed)):(t.$placeholder.addClass(t.options.classHidden),t.$element.removeClass(t.options.classFixed))},offset:t.options.topOffset}),t.options.duration>0?setTimeout(function(){t.beginWaypoint.disable(),t.$element.addClass(t.options.classFadeOut),setTimeout(function(){t.$placeholder.addClass(t.options.classHidden),t.$element.removeClass(t.options.classFixed+" "+t.options.classFadeOut)},500)},t.options.duration):this.options.selectorUnstick?this.endWaypoint=new Waypoint({element:e(this.options.selectorUnstick),handler:function(e){"down"===e&&(t.beginWaypoint.disable(),t.endWaypoint.disable(),t.$element.addClass(t.options.classFadeOut),setTimeout(function(){t.$placeholder.addClass(t.options.classHidden),t.$element.removeClass(t.options.classFixed+" "+t.options.classFadeOut)},500))},offset:0}):0==t.options.alwaysSticky&&(this.endWaypoint=new Waypoint({element:i,handler:function(e){"down"===e&&(t.beginWaypoint.disable(),t.endWaypoint&&t.endWaypoint.disable(),t.$element.addClass("fadeOut"),setTimeout(function(){t.$placeholder.addClass(t.options.classHidden),t.$element.removeClass(t.options.classFixed+" fadeOut")},500))},offset:t.options.bottomOffset}))}})}),define("components/track-download",["jquery","version!fly/managers/debug","managers/tealium","managers/page-vars","version!fly/components/base"],function(e,t,i,n){t=t.init("trackDownload"),e.widget("cnet.trackDownload",e.fly.base,{options:{},_create:function(){this._super(),this.$element.on("click",function(){i.trackCustomEvent("trackDownload",{clickGenericText:"HeadertoDL",_siteSection:n.tracking.data.siteSection,siteEdition:n.tracking.data.siteEdition,_siteTypeDevice:n.tracking.data.deviceType,_pageType:n.tracking.data.pageType},"trackClick")})}})}),define("components/social-tracking",["jquery","version!fly/managers/debug","managers/tealium","version!fly/components/base"],function(e,t,i){t=t.init("socialTracking"),e.widget("cnet.socialTracking",e.fly.base,{options:{socialSite:"notSet"},_create:function(){this._setup(),this._setupTracking()},_setupTracking:function(){t.log("Setting up social tracking");var n=this.options;e(this.$element).on("click",function(a){t.log("Social Element Clicked, Tracking Now");var o=n.socialSite,s=i.getDwTag(e(a.target));i.trackSocial({socialService:o,event:"share",eventt:"socialsite",socialId:{facebooksend:1,facebook:2,googlePlus:3,linkedin:21,pinterest:5,reddit:6,stumbleupon:7,twitter:8,twitterfollow:9,email:10,delicious:12,tumblr:14}[o],wd:"sharelink",dwLinkTag:s,sharebarSection:s}),t.log("Social Element Tracked")})}})}),define("components/external-link",["jquery","version!fly/managers/debug","managers/tealium","managers/page-vars","version!fly/components/base"],function(e,t,i,n){var a=t.init("externalLink");e.widget("cnet.externalLink",e.fly.base,{options:{appendViewguid:!0,externalLinkSelector:"a[data-component=externalLink]"},viewguid:null,commerceClickPlaceholder:"___COM_CLICK_ID___",_create:function(){this._setup(),this.viewguid=n.guid,this.isCommerce=this.$element.attr("href").includes(this.commerceClickPlaceholder),this.options.appendViewguid&&this.viewguid&&this.$element.attr("href",this.$element.attr("href").replace("___VIEW_GUID___",this.viewguid)),this._setupEvents(),window.externalLink=!0},_setupEvents:function(){var t=this;this.$element.on("mousedown",function(o){if(0==o.button||1==o.button||2==o.button){a.log("External link clicked.");try{if(t._setCommerceClickId(),n.tracking.data.commerceClickId&&e(this).attr("href").includes(t.commerceClickPlaceholder)){e(this).attr("href",e(this).attr("href").replace(t.commerceClickPlaceholder,n.tracking.data.commerceClickId.replaceAll("-","")));var s=e(this).parent()[0].classList.value,r={articleId:n.tracking.data.articleId||"",commerceClickId:n.tracking.data.commerceClickId||"",dwLinkTag:"transformed-regular-link",eventTarget:(s?"."+s.replaceAll(" ",".")+" ":"")+t.options.externalLinkSelector,eventObject:o,formatType:"LINK",pageId:n.tracking.data.articleId||"",text:e(this).text()};i.trackLead(r)}else i.trackExternalLink({clickGenericText:"trackExternalLink"});setTimeout(e.proxy(function(){n.tracking.data.commerceClickId&&e(this).attr("href",e(this).attr("href").replace(n.tracking.data.commerceClickId.replaceAll("-",""),t.commerceClickPlaceholder))},this),500)}catch(e){a.log("Unable to parse tracking url",e)}}})},_setCommerceClickId:function(){var e=window.uuid();utag_data.commerceClickId=e,n.tracking.data.commerceClickId=e}})}),define("translations/video",["managers/edition"],function(e){return e.getTranslation({en:{resume:"Your video will resume in ",resumeShortly:"Your video will resume shortly",seconds:" seconds",adBlock:{title:"Sorry about that",message:"It looks like you're using an ad blocker. We know you don't love ads. But they allow us to pay the writers, editors and producers who work to make your favorite CNET videos. To watch this video, please disable your ad blocker and refresh the page. Thanks for tuning in. You're the best."},firefoxUpgrade:{title:"Your version of Firefox is no longer supported.",message:'<a href="http://download.cnet.com/s/firefox/" target="_blank">Click here to download the latest version.</a>'},videoNotAvailable:{title:"We're sorry, but this video is no longer available.",message:"Please watch this next video instead."},upnext:"up next",autoplay:"Autoplay",on:"on",off:"off",cannotPlay:"This device is unable to play the requested video.",by:"by",playSound:"Play Sound",watch_now:"Watch now"},es:{resume:"El vídeo se reanudará en ",resumeShortly:"El vídeo se reanudará en breve",seconds:" segundos",adBlock:{title:"Lo sentimos",message:"Parece que estás usando un software para bloquear anuncios. Sabemos que a mucha gente no lo encantan los anuncios, pero nos ayudan a pagarle a nuestro equipo de profesionales que hacen tus videos favoritos. Para ver este video, por favor desactiva el software y vuelve a cargar la página. ¡Mil gracias!"},firefoxUpgrade:{title:"La versión de Firefox que usas no está actualizada.",message:'<a href="http://download.cnet.com/s/firefox/" target="_blank">Por favor descarga la versión más reciente.</a>'},videoNotAvailable:{title:"Lo sentimos, pero este video ya no está disponible.",message:"Por favor, vea el siguiente video en su lugar."},upnext:"Siguiente",autoplay:"Autoplay",on:"Sí",off:"No",cannotPlay:"Este dispositivo no puede reproducir el video solicitado.",by:"por",playSound:"¿Reproducir sonido?",watch_now:"Ve el video"}})}),define("uvpjs/video-event-tracking",["require","exports","module"],function(e,t,i){let n,a={},o=!1;function s(e,t,n,o,s,d){let c;return null==a[e]&&(a[e]={target:null,lastEvent:{},timeWatched:0,eventTypes:n,interval:null,percentWatched:0,lastVol:0,muted:!1,inView:!1,autostart:s,isFullscreen:!1,placement:o,adsEnabled:d}),c=t?new YT.Player(`iframe-${e}`,{playerVars:{listType:"playlist",list:e,rel:0},host:"https://www.youtube.com",events:{onReady:r,onStateChange:l}}):new YT.Player(`iframe-${e}`,{videoId:e,playerVars:{modestbranding:1,rel:0},host:"https://www.youtube.com",events:{onReady:r,onStateChange:l}}),["","webkit","moz","ms"].forEach(t=>document.addEventListener(t+"fullscreenchange",function(){null===document.fullscreenElement?a[e].isFullscreen=!1:document.fullscreenElement.id.includes(e)&&(a[e].isFullscreen=!a[e].isFullscreen)},!1)),window.onscroll=function(){for(var e in a)if(a[e].target){const t=document.getElementById(`iframe-${e}`),n=t.getBoundingClientRect();n.top-n.height<=0&&n.top+n.height>0&&!1===a[e].inView?(a[e].inView=!0,t.dispatchEvent(new CustomEvent(`stateChange-${e}`,{detail:{payload:{"@type":"core.videoViewed.v1",videoContext:i.exports.getVideoContext(a[e].target)}}}))):(n.top+n.height<=0||n.top-n.height>0)&&!0===a[e].inView&&(a[e].inView=!1)}},document.getElementById(`iframe-${e}`)}function r(e){const t=e.target.playerInfo.playlistId?e.target.playerInfo.playlistId:e.target.playerInfo.videoData.video_id,n=document.getElementById(`iframe-${t}`);a[t].target=e.target,a[t].autostart&&e.target.playVideo(),n.dispatchEvent(new CustomEvent(`stateChange-${t}`,{detail:{payload:{"@type":"core.videoLoaded.v1",videoContext:i.exports.getVideoContext(e.target)}}}))}function l(e){e.target.playerInfo.currentTime;const t=e.target.playerInfo.playlistId?e.target.playerInfo.playlistId:e.target.playerInfo.videoData.video_id,n=document.getElementById(`iframe-${t}`),o=a[t].eventTypes,s=a[t].lastEvent;let r;1!==e.data&&null!==a[t].interval&&clearInterval(a[t].interval),0===e.data&&o.includes("completed")?r="videoCompleted":1===e.data?(a[t].lastVol=e.target.playerInfo.volume,a[t].muted=e.target.isMuted(),a[t].interval=setInterval(function(){!function(e,t){const n=document.getElementById(`iframe-${t}`);if(a[t].eventTypes.includes("watched")){a[t].timeWatched+=1;let o=e.target.playerInfo.duration,s=e.target.playerInfo.currentTime;s>=o-3&&a[t].percentWatched<100?(n.dispatchEvent(new CustomEvent(`stateChange-${t}`,{detail:{payload:{"@type":"core.videoWatched.v1",videoContext:i.exports.getVideoContext(e.target),videoWatched:100,videoWatchedTime:Math.floor(a[t].timeWatched)}}})),a[t].percentWatched=100):s>=.75*o&&a[t].percentWatched<75?(n.dispatchEvent(new CustomEvent(`stateChange-${t}`,{detail:{payload:{"@type":"core.videoWatched.v1",videoContext:i.exports.getVideoContext(e.target),videoWatched:75,videoWatchedTime:Math.floor(a[t].timeWatched)}}})),a[t].percentWatched=75):s>=o/2&&a[t].percentWatched<50?(n.dispatchEvent(new CustomEvent(`stateChange-${t}`,{detail:{payload:{"@type":"core.videoWatched.v1",videoContext:i.exports.getVideoContext(e.target),videoWatched:50,videoWatchedTime:Math.floor(a[t].timeWatched)}}})),a[t].percentWatched=50):s>=o/4&&a[t].percentWatched<25&&(n.dispatchEvent(new CustomEvent(`stateChange-${t}`,{detail:{payload:{"@type":"core.videoWatched.v1",videoContext:i.exports.getVideoContext(e.target),videoWatched:25,videoWatchedTime:Math.floor(a[t].timeWatched)}}})),a[t].percentWatched=25)}a[t].eventTypes.includes("volume")&&(a[t].muted===e.target.isMuted()&&a[t].lastVol===e.target.playerInfo.volume||(n.dispatchEvent(new CustomEvent(`stateChange-${t}`,{detail:{payload:{"@type":"core.videoVolumeChanged.v1",videoContext:i.exports.getVideoContext(e.target),videoMuted:e.target.isMuted()}}})),a[t].lastVol=e.target.playerInfo.volume,a[t].muted=e.target.isMuted()))}(e,t)},1e3),"videoSeekStarted"===s.type||e.target.playerInfo.currentTime-s.videoTime>1&&o.includes("seek")?(a[t].timeWatched-s.videoTime>0&&(a[t].timeWatched=a[t].timeWatched-(a[t].timeWatched-s.videoTime)),r="videoSeekCompleted"):o.includes("playing")&&(r="notStarted"===a[t].lastEvent.type?"videoStarted":"videoPlayed")):2===e.data?0!=s.eventTime&&Math.abs(.001*(Date.now()-s.eventTime)-(e.target.playerInfo.currentTime-s.videoTime))<2&&o.includes("paused")?r="videoPaused":o.includes("seek")&&(r="videoSeekStarted"):3===e.data?"notStarted"!==s.type&&"videoSeekStarted"!==s.type&&(r="videoInterrupted"):-1===e.data&&(a[t].lastEvent={type:"notStarted",eventTime:Date.now(),videoTime:e.target.playerInfo.currentTime}),void 0!==r&&(a[t].lastEvent={type:r,eventTime:Date.now(),videoTime:e.target.playerInfo.currentTime},n.dispatchEvent(new CustomEvent(`stateChange-${t}`,{detail:{payload:{"@type":"core."+r+".v1",videoContext:i.exports.getVideoContext(e.target)}}})),"videoCompleted"===r&&(a[t].timeWatched=0,a[t].interval=null,a[t].percentWatched=0,a[t].lastEvent={}))}function d(e){e.getContainer().dispatchEvent(new CustomEvent(`stateChange-${e.getPlaylistItem().feedid}`,{detail:{payload:{"@type":"core.videoVolumeChanged.v1",videoContext:i.exports.getJWVideoContext(e)}}}))}function c(e,t,n){const o=window.uvpjs.getVideoManager().VCIs[e];let s={"@type":`core.${t}`,videoContext:i.exports.getUVPVideoContext(e)};const r=t.toLowerCase();r.includes("videoad")&&(null!=a[e].adData.videoAdTitle?(s.videoAdContext={videoAdId:a[e].adData.videoAdId,videoAdTitle:a[e].adData.videoAdTitle,adRollPosition:a[e].adData.adRollPosition},null!=a[e].adData.adSkippable?s.videoAdContext.adSkippable=a[e].adData.adSkippable:null!=n&&null!=n.payload.adData&&null!=n.payload.imaAdData&&(a[e].adData.adSkippable=n.payload.imaAdData.skipTimeOffset>-1,s.videoAdContext.adSkippable=n.payload.imaAdData.skipTimeOffset>-1)):null!=n&&null!=n.payload.adData&&(s.videoAdContext={videoAdId:n.payload.adData.adVideoId?n.payload.adData.adVideoId:null,videoAdTitle:n.payload.adData.adVideoTitle?n.payload.adData.adVideoTitle:null,adRollPosition:n.payload.adData.adType?n.payload.adData.adType.charAt(0).toUpperCase()+n.payload.adData.adType.slice(1):null},null!=n.payload.imaAdData&&(s.videoAdContext.adSkippable=n.payload.imaAdData.skipTimeOffset>-1),a[e].adData=s.videoAdContext)),r.includes("volume")?(r.includes("videoad")?s.videoAdMuted=o.getPlayerMuted():s.videoMuted=o.getPlayerMuted(),s.previousVolumeLevel=a[e].previousVolumeLevel,a[e].previousVolumeLevel=o.getPlayerMuted()?0:Math.round(100*o.getVolume())):r.includes("interrupted")?s.method=n.payload.errorInfo.message?n.payload.errorInfo.message:"":r.includes("paused")?(s.pauseType=n.payload.autoPause?"auto":"manual",r.includes("videoAd")&&(s.autostart=o._autoPlay)):r.includes("played")||r.includes("seekstarted")&&(s.videoContext.playheadPosition=Math.ceil(n.payload.seekFromTime)),document.getElementById(e).dispatchEvent(new CustomEvent(`stateChange-${e}`,{detail:{payload:s}}))}i.exports.createVideoPlayer=async(e,t,i,n,a,r)=>{return 0==i.length&&(i=["playing","paused","completed","seek","volume","watched","interrupted","ad"]),await function(e,t,i,n,a,r){return new Promise((l,d)=>{(o||document.querySelectorAll('script[src="https://www.youtube.com/iframe_api"]').length>0)&&l(s(e,t,i,n,a,r));const c=document.createElement("script");c.src="https://www.youtube.com/iframe_api";const u=document.getElementsByTagName("script")[0];u.parentNode.insertBefore(c,u),window.addEventListener("youtube_ready",function(){l(s(e,t,i,n,a,r))}),window.onYouTubeIframeAPIReady=function(){o=!0;var e=new Event("youtube_ready");window.dispatchEvent(e)},setTimeout(()=>{o||(o=!0,d(new Error("Iframe is not ready")))},1e4)})}(e,t,i,n,a,r)},i.exports.getVideoContext=e=>{const t=e.playerInfo.playlistId?e.playerInfo.playlistId:e.playerInfo.videoData.video_id;return{videoId:e.playerInfo.videoData.video_id,videoTitle:e.playerInfo.videoData.title,sequenceType:e.playerInfo.playlistId?"playlist":"single",playlistId:e.playerInfo.playlistId?e.playerInfo.videoData.playlistId:"",playlistTitle:e.playerInfo.playlistTitle?e.playerInfo.videoData.playlistTitle:"",playlistIndex:e.playerInfo.playlistIndex?e.playerInfo.playlistIndex:0,videoPlayer:"Youtube",videoLength:Math.round(e.playerInfo.duration),playheadPosition:Math.round(e.playerInfo.currentTime),volumeLevel:e.isMuted()?0:e.playerInfo.volume,videoQuality:e.playerInfo.playbackQuality,fullScreenEnabled:a[t].isFullscreen,adEnabled:!(!a[t].adsEnabled||a[t].autostart),brand:a[t].placement.brand?a[t].placement.brand:"",category:a[t].placement.category?a[t].placement.category:"",productId:a[t].placement.productId?a[t].placement.productId:"",location:a[t].placement.location?a[t].placement.location:"",articlePlacement:a[t].placement.articlePlacement?a[t].placement.articlePlacement:"",autoplay:a[t].autostart,name:a[t].placement.name?a[t].placement.name:""}},i.exports.trackJWPlayer=(e,t,n,o,s)=>{0==t.length&&(t=["playing","paused","completed","seek","volume","watched","interrupted","ad"]),e.on("beforePlay",t=>{const i=e.getPlaylistItem().mediaid;null==a[i]&&(a[i]={type:"",timeWatched:0,percentWatched:0,autostart:o,placement:n,quality:null,timeSkipped:0,seekStart:0,lastEvent:"",adsEnabled:s})}),e.on("playlistItem",t=>{const r=e.getPlaylistItem().mediaid;null==a[r]&&(a[r]={type:"",timeWatched:0,percentWatched:0,autostart:o,placement:n,quality:null,timeSkipped:0,seekStart:0,lastEvent:"",adsEnabled:s}),function(e){e.getContainer().dispatchEvent(new CustomEvent(`stateChange-${e.getPlaylistItem().feedid}`,{detail:{payload:{"@type":"core.videoLoaded.v1",videoContext:i.exports.getJWVideoContext(e)}}}))}(e)}),t.includes("playing")&&e.on("play",t=>{!function(e){a[e.getPlaylistItem().mediaid].lastEvent="play",e.getContainer().dispatchEvent(new CustomEvent(`stateChange-${e.getPlaylistItem().feedid}`,{detail:{payload:{"@type":"core.videoPlayed.v1",videoContext:i.exports.getJWVideoContext(e)}}}))}(e)}),t.includes("paused")&&e.on("pause",t=>{!function(e){a[e.getPlaylistItem().mediaid].lastEvent="pause",e.getContainer().dispatchEvent(new CustomEvent(`stateChange-${e.getPlaylistItem().feedid}`,{detail:{payload:{"@type":"core.videoPaused.v1",videoContext:i.exports.getJWVideoContext(e)}}}))}(e)}),t.includes("completed")&&e.on("complete",t=>{!function(e){a[e.getPlaylistItem().mediaid].lastEvent="completed",e.getContainer().dispatchEvent(new CustomEvent(`stateChange-${e.getPlaylistItem().feedid}`,{detail:{payload:{"@type":"core.videoCompleted.v1",videoContext:i.exports.getJWVideoContext(e)}}}))}(e)}),t.includes("seek")&&(e.on("seek",t=>{!function(e){a[e.getPlaylistItem().mediaid].lastEvent="seek",a[e.getPlaylistItem().mediaid].seekStart=e.getPosition(),e.getContainer().dispatchEvent(new CustomEvent(`stateChange-${e.getPlaylistItem().feedid}`,{detail:{payload:{"@type":"core.videoSeekStarted.v1",videoContext:i.exports.getJWVideoContext(e)}}}))}(e)}),e.on("seeked",t=>{!function(e){a[e.getPlaylistItem().mediaid].lastEvent="seek",a[e.getPlaylistItem().mediaid].timeSkipped=Math.round(e.getPosition()-a[e.getPlaylistItem().mediaid].seekStart),e.getContainer().dispatchEvent(new CustomEvent(`stateChange-${e.getPlaylistItem().feedid}`,{detail:{payload:{"@type":"core.videoSeekCompleted.v1",videoContext:i.exports.getJWVideoContext(e)}}}))}(e)})),t.includes("volume")&&(e.on("mute",t=>{d(e)}),e.on("volume",t=>{d(e)})),t.includes("watched")&&e.on("time",t=>{!function(e){const t=e.getPlaylistItem().mediaid,n=e.getPlaylistItem().feedid;let o=e.getDuration(),s=e.getPosition();s>=o-3&&a[t].percentWatched<100?(a[t].percentWatched=100,e.getContainer().dispatchEvent(new CustomEvent(`stateChange-${n}`,{detail:{payload:{"@type":"core.videoWatched.v1",videoContext:i.exports.getJWVideoContext(e),videoWatched:100,videoWatchedTime:Math.round(s-a[t].timeSkipped)}}}))):s>=.75*o&&a[t].percentWatched<75?(a[t].percentWatched=75,e.getContainer().dispatchEvent(new CustomEvent(`stateChange-${n}`,{detail:{payload:{"@type":"core.videoWatched.v1",videoContext:i.exports.getJWVideoContext(e),videoWatched:75,videoWatchedTime:Math.round(s-a[t].timeSkipped)}}}))):s>=.5*o&&a[t].percentWatched<50?(a[t].percentWatched=50,e.getContainer().dispatchEvent(new CustomEvent(`stateChange-${n}`,{detail:{payload:{"@type":"core.videoWatched.v1",videoContext:i.exports.getJWVideoContext(e),videoWatched:50,videoWatchedTime:Math.round(s-a[t].timeSkipped)}}}))):s>=.25*o&&a[e.getPlaylistItem().mediaid].percentWatched<25&&(a[t].percentWatched=25,e.getContainer().dispatchEvent(new CustomEvent(`stateChange-${n}`,{detail:{payload:{"@type":"core.videoWatched.v1",videoContext:i.exports.getJWVideoContext(e),videoWatched:25,videoWatchedTime:Math.round(s-a[t].timeSkipped)}}})))}(e)}),t.includes("interrupted")&&e.on("firstFrame",t=>{!function(e){e.getContainer().dispatchEvent(new CustomEvent(`stateChange-${e.getPlaylistItem().feedid}`,{detail:{payload:{"@type":"core.videoStarted.v1",videoContext:i.exports.getJWVideoContext(e)}}}))}(e),e.on("buffer",t=>{!function(e,t){"play"===a[e.getPlaylistItem().mediaid].lastEvent&&e.getContainer().dispatchEvent(new CustomEvent(`stateChange-${e.getPlaylistItem().feedid}`,{detail:{payload:{"@type":"core.videoInterrupted.v1",videoContext:i.exports.getJWVideoContext(e),method:t.reason}}}))}(e,t)})}),t.includes("ad")&&(e.on("adRequest",t=>{!function(e){e.getContainer().dispatchEvent(new CustomEvent(`stateChange-${e.getPlaylistItem().feedid}`,{detail:{payload:{"@type":"core.videoAdRequested.v1",videoContext:i.exports.getJWVideoContext(e)}}}))}(e)}),e.on("adStarted",t=>{!function(e){e.getContainer().dispatchEvent(new CustomEvent(`stateChange-${e.getPlaylistItem().feedid}`,{detail:{payload:{"@type":"core.videoAdStarted.v2",videoContext:i.exports.getJWVideoContext(e)}}}))}(e)}),e.on("adPause",t=>{!function(e){e.getContainer().dispatchEvent(new CustomEvent(`stateChange-${e.getPlaylistItem().feedid}`,{detail:{payload:{"@type":"core.videoAdPaused.v2",videoContext:i.exports.getJWVideoContext(e)}}}))}(e)}),e.on("adComplete",t=>{!function(e){e.getContainer().dispatchEvent(new CustomEvent(`stateChange-${e.getPlaylistItem().feedid}`,{detail:{payload:{"@type":"core.videoAdCompleted.v2",videoContext:i.exports.getJWVideoContext(e)}}}))}(e)}),e.on("adSkipped",t=>{!function(e){e.getContainer().dispatchEvent(new CustomEvent(`stateChange-${e.getPlaylistItem().feedid}`,{detail:{payload:{"@type":"core.videoAdSkipped.v2",videoContext:i.exports.getJWVideoContext(e)}}}))}(e)}),e.on("adTime",t=>{!function(e){e.on("viewable",t=>{!function(e){e.getContainer().dispatchEvent(new CustomEvent(`stateChange-${e.getPlaylistItem().feedid}`,{detail:{payload:{"@type":"core.videoAdViewed.v1",videoContext:i.exports.getJWVideoContext(e)}}}))}(e)}),e.on("volume",t=>{!function(e){e.getContainer().dispatchEvent(new CustomEvent(`stateChange-${e.getPlaylistItem().feedid}`,{detail:{payload:{"@type":"core.videoAdVolumeChanged.v1",videoContext:i.exports.getJWVideoContext(e)}}}))}(e)}),e.getContainer().dispatchEvent(new CustomEvent(`stateChange-${e.getPlaylistItem().feedid}`,{detail:{payload:{"@type":"core.videoAdWatched.v1",videoContext:i.exports.getJWVideoContext(e)}}}))}(e)}),e.on("adSchedule",t=>{!function(e){e.getContainer().dispatchEvent(new CustomEvent(`stateChange-${e.getPlaylistItem().feedid}`,{detail:{payload:{"@type":"core.videoAdLoaded.v1",videoContext:i.exports.getJWVideoContext(e)}}}))}(e)})),e.on("visualQuality",t=>{a[e.getPlaylistItem().mediaid].quality=e.getVisualQuality()}),e.on("viewable",t=>{!function(e){e.getContainer().dispatchEvent(new CustomEvent(`stateChange-${e.getPlaylistItem().feedid}`,{detail:{payload:{"@type":"core.videoViewed.v1",videoContext:i.exports.getJWVideoContext(e)}}}))}(e)})},i.exports.getJWVideoContext=e=>{const t=e.getPlaylistItem(),i=t.mediaid;return{videoId:i,videoTitle:t.title,sequenceType:t.feedData.feedid?"playlist":"single",playlistId:t.feedData.feedid?t.feedData.feedid:"",playlistTitle:t.feedData.feedid?t.feedData.title:"",playlistIndex:e.getPlaylistIndex(),videoPlayer:e.getProvider().name,videoLength:t.duration,playheadPosition:Math.round(e.getPosition()),volumeLevel:e.getMute()?0:e.getVolume(),videoQuality:null!=e.getVisualQuality()?e.getVisualQuality().level.label:a[i].quality,fullScreenEnabled:e.getFullscreen(),adEnabled:!a[i].adsEnabled,brand:a[i].placement.brand?a[i].placement.brand:"",category:a[i].placement.category?a[i].placement.category:"",productId:a[i].placement.productId?a[i].placement.productId:"",location:a[i].placement.location?a[i].placement.location:"",articlePlacement:a[i].placement.articlePlacement?a[i].placement.articlePlacement:"",name:a[i].placement.name?a[i].placement.name:"",bitRate:null!=e.getVisualQuality()?e.getVisualQuality().level.bitrate:a[i].quality}},i.exports.trackUVP=e=>{const t=window.uvpjs.getVideoManager().VCIs[e];a[e]={timeSkipped:0,interval:null,percentWatched:0,previousVolumeLevel:t.getPlayerMuted()?0:Math.round(100*t.getVolume()),metadata:{},adData:{},isAd:!1},function(e){n=new IntersectionObserver((t,i)=>{t.forEach(t=>{t.isIntersecting&&(a[e].isAd?c(e,"videoAdViewed.v2"):c(e,"videoViewed.v1"))})});const t=document.getElementById(e);n.observe(t)}(e),t.addEventListener("contextMetadata.trackUVP"+e,t=>{a[e].metadata=t.payload.contextMetadata}),t.addEventListener("onAdRequest.trackUVP"+e,t=>{c(e,"videoAdRequested.v1",t)}),t.addEventListener("onAdLoaded.trackUVP"+e,t=>{c(e,"videoAdLoaded.v2",t)}),t.addEventListener("onAdStart.trackUVP"+e,t=>{a[e].isAd=!0,c(e,"videoAdStarted.v3",t)}),t.addEventListener("onAdSkipped.trackUVP"+e,t=>{c(e,"videoAdSkipped.v3",t)}),t.addEventListener("onAdEnd.trackUVP"+e,t=>{!function(e,t){const i=window.uvpjs.getVideoManager().VCIs[t];clearInterval(a[t].interval),100===a[t].percentWatched&&c(t,"videoAdCompleted.v3",e);a[t]={timeSkipped:0,interval:null,percentWatched:0,previousVolumeLevel:i.getPlayerMuted()?0:Math.round(100*i.getVolume()),metadata:{},adData:{},isAd:!1}}(t,e)}),t.addEventListener("onStateChange.trackUVP"+e,n=>{switch(1!==n.payload.newState&&null!==a[e].interval&&clearInterval(a[e].interval),n.payload.newState){case 0:n.payload.isAd||(c(e,"videoCompleted.v1",n),a[e]={timeSkipped:0,interval:null,percentWatched:0,previousVolumeLevel:t.getPlayerMuted()?0:Math.round(100*t.getVolume()),metadata:{},adData:{},isAd:!1});break;case 1:a[e].interval=setInterval(function(){!function(e,t){const n=document.getElementById(e),o=window.uvpjs.getVideoManager().VCIs[e];let s="videoWatched",r={};t&&(s="videoAdWatched",r=a[e].adData);let l=o.getCurrentPlaybackState().duration,d=o.getCurrentPlaybackState().currentTime,c=a[e].timeSkipped>0?o.getCurrentPlaybackState().currentTime-a[e].timeSkipped:o.getCurrentPlaybackState().currentTime;d>=l-3&&a[e].percentWatched<100?(t?n.dispatchEvent(new CustomEvent(`stateChange-${e}`,{detail:{payload:{"@type":"core."+s+".v2",videoContext:i.exports.getUVPVideoContext(e),videoAdContext:r,videoAdWatched:100,videoAdWatchedTime:Math.floor(c)}}})):n.dispatchEvent(new CustomEvent(`stateChange-${e}`,{detail:{payload:{"@type":"core."+s+".v1",videoContext:i.exports.getUVPVideoContext(e),videoWatched:100,videoWatchedTime:Math.floor(c)}}})),a[e].percentWatched=100):d>=.75*l&&a[e].percentWatched<75?(t?n.dispatchEvent(new CustomEvent(`stateChange-${e}`,{detail:{payload:{"@type":"core."+s+".v2",videoContext:i.exports.getUVPVideoContext(e),videoAdContext:r,videoAdWatched:75,videoAdWatchedTime:Math.floor(c)}}})):n.dispatchEvent(new CustomEvent(`stateChange-${e}`,{detail:{payload:{"@type":"core."+s+".v1",videoContext:i.exports.getUVPVideoContext(e),videoWatched:75,videoWatchedTime:Math.floor(c)}}})),a[e].percentWatched=75):d>=l/2&&a[e].percentWatched<50?(t?n.dispatchEvent(new CustomEvent(`stateChange-${e}`,{detail:{payload:{"@type":"core."+s+".v2",videoContext:i.exports.getUVPVideoContext(e),videoAdContext:r,videoAdWatched:50,videoAdWatchedTime:Math.floor(c)}}})):n.dispatchEvent(new CustomEvent(`stateChange-${e}`,{detail:{payload:{"@type":"core."+s+".v1",videoContext:i.exports.getUVPVideoContext(e),videoWatched:50,videoWatchedTime:Math.floor(c)}}})),a[e].percentWatched=50):d>=l/4&&a[e].percentWatched<25&&(t?n.dispatchEvent(new CustomEvent(`stateChange-${e}`,{detail:{payload:{"@type":"core."+s+".v2",videoContext:i.exports.getUVPVideoContext(e),videoAdContext:r,videoAdWatched:25,videoAdWatchedTime:Math.floor(c)}}})):n.dispatchEvent(new CustomEvent(`stateChange-${e}`,{detail:{payload:{"@type":"core."+s+".v1",videoContext:i.exports.getUVPVideoContext(e),videoWatched:25,videoWatchedTime:Math.floor(c)}}})),a[e].percentWatched=25)}(e,n.payload.isAd)},1e3),n.payload.isAd||c(e,"videoPlayed.v1",n)}}),t.addEventListener("seekDone.trackUVP"+e,t=>{!function(e,t){a[t].timeSkipped+=e.payload.seekToTime-e.payload.seekFromTime,c(t,"videoSeekStarted.v1",e),c(t,"videoSeekCompleted.v1",e)}(t,e)}),t.addEventListener("videoPlaybackError.trackUVP"+e,t=>{c(e,"videoInterrupted.v1",t)}),t.addEventListener("onContentStart.trackUVP"+e,t=>{a[e].isAd=!1,c(e,"videoStarted.v1",t)}),t.addEventListener("onContentDataLoaded.trackUVP"+e,t=>{c(e,"videoLoaded.v1",t)}),t.addEventListener("controlPause.trackUVP"+e,t=>{a[e].isAd?c(e,"videoAdPaused.v3",t):c(e,"videoPaused.v1",t)}),t.addEventListener("controlVolumeChange.trackUVP"+e,t=>{c(e,"videoVolumeChanged.v1",t)}),t.addEventListener("onAdVolumeChange.trackUVP"+e,t=>{c(e,"videoAdVolumeChanged.v2",t)})},i.exports.getUVPVideoContext=e=>{const t=window.uvpjs.getVideoManager().VCIs[e],i=window.uvpjs.getVideoManager().VCIs[e].getContentVideoData(),n=i.cmsRefGuid;let o=[];return void 0!==window.utag_data&&Array.isArray(window.utag_data.tagSlugs)&&window.utag_data.tagSlugs.forEach(e=>{o.push({key:"utag",value:e})}),{videoId:n,videoTitle:i.videoTitle,sequenceType:t.rcoIdIndex>1?"playlist":"single",videoPlayer:"UVP",videoLength:Math.ceil(t.getContentVideoData().duration),playheadPosition:Math.ceil(t.getCurrentPlaybackState().currentTime),volumeLevel:t.getPlayerMuted()?0:Math.round(100*t.getVolume()),fullScreenEnabled:!(!document.fullscreenElement||!document.fullscreenElement.classList.contains("uvpjs")),livestream:t.getCurrentPlaybackState().isPlayingLive,brand:a[e].metadata.topicPrimaryId?a[e].metadata.topicPrimaryId:"",category:a[e].metadata.siteHier?a[e].metadata.siteHier:"",bitRate:t.getCurrentPlaybackState().facadeState?t.getCurrentPlaybackState().facadeState.currentBitrate:null,frameRate:t.getCurrentPlaybackState().facadeState?t.getCurrentPlaybackState().facadeState.playbackFramerate:null,autoplay:t._autoPlay,tags:o.length>0?o:null}},i.exports.removeUVPTracking=e=>{const t=window.uvpjs.getVideoManager().VCIs[e];clearInterval(a[e].interval),n.disconnect();["contextMetadata.trackUVP","onAdRequest.trackUVP","onAdLoaded.trackUVP","onAdStart.trackUVP","onAdSkipped.trackUVP","onAdEnd.trackUVP","onStateChange.trackUVP","seekDone.trackUVP","videoPlaybackError.trackUVP","onContentStart.trackUVP","onContentDataLoaded.trackUVP","controlPause.trackUVP","controlVolumeChange.trackUVP","onAdVolumeChange.trackUVP"].forEach(i=>{t.removeEventListener(i+e)})}}),function(e){if(!e.fn.dotdotdot){e.fn.dotdotdot=function(i){if(0==this.length)return i&&!1===i.debug||function(e,t){if(!e)return!1;t="string"==typeof t?"dotdotdot: "+t:["dotdotdot:",t];void 0!==window.console&&void 0!==window.console.log&&window.console.log(t)}(!0,'No element found for "'+this.selector+'".'),this;if(this.length>1)return this.each(function(){e(this).dotdotdot(i)});var n=this;n.data("dotdotdot")&&n.trigger("destroy.dot"),n.data("dotdotdot-style",n.attr("style")),n.css("word-wrap","break-word"),"nowrap"===n.css("white-space")&&n.css("white-space","normal"),n.bind_events=function(){return n.bind("update.dot",function(t,i){t.preventDefault(),t.stopPropagation(),l.maxHeight="number"==typeof l.height?l.height:function(e){for(var t=e.innerHeight(),i=["paddingTop","paddingBottom"],n=0,a=i.length;n<a;n++){var o=parseInt(e.css(i[n]),10);isNaN(o)&&(o=0),t-=o}return t}(n),l.maxHeight+=l.tolerance,void 0!==i&&(("string"==typeof i||i instanceof HTMLElement)&&(i=e("<div />").append(i).contents()),i instanceof e&&(s=i)),(p=n.wrapInner('<div class="dotdotdot" />').children()).empty().append(s.clone(!0)).css({height:"auto",width:"auto",border:"none",padding:0,margin:0});var r=!1,c=!1;return d.afterElement&&(r=d.afterElement.clone(!0),d.afterElement.remove()),o(p,l)&&(c="children"==l.wrap?function(e,t,i){var n=e.children(),a=!1;e.empty();for(var s=0,r=n.length;s<r;s++){var l=n.eq(s);if(e.append(l),i&&e.append(i),o(e,t)){l.remove(),a=!0;break}i&&i.detach()}return a}(p,l,r):function t(i,n,s,r,l){var d=i.contents(),c=!1;i.empty();for(var u=0,p=d.length;u<p&&!c;u++){var h=d[u],m=e(h);void 0!==h&&(i.append(m),l&&i[i.is("table, thead, tbody, tfoot, tr, col, colgroup, object, embed, param, ol, ul, dl, blockquote, select, optgroup, option, textarea, script, style")?"after":"append"](l),3==h.nodeType?o(s,r)&&(c=a(m,n,s,r,l)):c=t(m,n,s,r,l),c||l&&l.detach())}return c}(p,n,p,l,r)),p.replaceWith(p.contents()),p=null,e.isFunction(l.callback)&&l.callback.call(n[0],c,s),d.isTruncated=c,c}).bind("isTruncated.dot",function(e,t){return e.preventDefault(),e.stopPropagation(),"function"==typeof t&&t.call(n[0],d.isTruncated),d.isTruncated}).bind("originalContent.dot",function(e,t){return e.preventDefault(),e.stopPropagation(),"function"==typeof t&&t.call(n[0],s),s}).bind("destroy.dot",function(e){e.preventDefault(),e.stopPropagation(),n.unwatch().unbind_events().empty().append(s).attr("style",n.data("dotdotdot-style")).data("dotdotdot",!1)}),n},n.unbind_events=function(){return n.unbind(".dot"),n},n.watch=function(){if(n.unwatch(),"window"==l.watch){var t=e(window),i=t.width(),a=t.height();t.bind("resize.dot"+d.dotId,function(){i==t.width()&&a==t.height()&&l.windowResizeFix||(i=t.width(),a=t.height(),u&&clearInterval(u),u=setTimeout(function(){n.trigger("update.dot")},10))})}else c=r(n),u=setInterval(function(){var e=r(n);c.width==e.width&&c.height==e.height||(n.trigger("update.dot"),c=r(n))},100);return n},n.unwatch=function(){return e(window).unbind("resize.dot"+d.dotId),u&&clearInterval(u),n};var s=n.contents(),l=e.extend(!0,{},e.fn.dotdotdot.defaults,i),d={},c={},u=null,p=null;return l.lastCharacter.remove instanceof Array||(l.lastCharacter.remove=e.fn.dotdotdot.defaultArrays.lastCharacter.remove),l.lastCharacter.noEllipsis instanceof Array||(l.lastCharacter.noEllipsis=e.fn.dotdotdot.defaultArrays.lastCharacter.noEllipsis),d.afterElement=function(t,i){if(void 0===t)return!1;if(!t)return!1;if("string"==typeof t)return!!(t=e(t,i)).length&&t;if("object"==typeof t)return void 0!==t.jquery&&t;return!1}(l.after,n),d.isTruncated=!1,d.dotId=t++,n.data("dotdotdot",!0).bind_events().trigger("update.dot"),l.watch&&n.watch(),n},e.fn.dotdotdot.defaults={ellipsis:"... ",wrap:"word",fallbackToLetter:!0,lastCharacter:{},tolerance:0,callback:null,after:null,height:null,watch:!1,windowResizeFix:!0,debug:!1},e.fn.dotdotdot.defaultArrays={lastCharacter:{remove:[" ","　",",",";",".","!","?"],noEllipsis:[]}};var t=1,i=e.fn.html;e.fn.html=function(e){return void 0!==e?this.data("dotdotdot")&&"function"!=typeof e?this.trigger("update",[e]):i.call(this,e):i.call(this)};var n=e.fn.text;e.fn.text=function(t){if(void 0!==t){if(this.data("dotdotdot")){var i=e("<div />");return i.text(t),t=i.html(),i.remove(),this.trigger("update",[t])}return n.call(this,t)}return n.call(this)}}function a(e,t,i,n,r){var c=!1;if(void 0===(A=e[0]))return!1;for(var u=-1!==(k=d(A)).indexOf(" ")?" ":"　",p="letter"==n.wrap?"":u,h=k.split(p),m=-1,g=-1,f=0,v=h.length-1;f<=v&&(0!=f||0!=v);){var y=Math.floor((f+v)/2);if(y==g)break;g=y,l(A,h.slice(0,g+1).join(p)+n.ellipsis),o(i,n)?v=g:(m=g,f=g),v==f&&0==v&&n.fallbackToLetter&&(p="",m=-1,g=-1,f=0,v=(h=h[0].split(p)).length-1)}if(-1==m||1==h.length&&0==h[0].length){var w=e.parent();e.remove();var b=r?r.length:0;if(w.contents().size()>b){c=a(w.contents().eq(-1-b),t,i,n,r)}else{var A,k,_=w.prev();if(void 0!==(A=_.contents().eq(-1)[0]))l(A,k=s(d(A),n)),r&&_.append(r),w.remove(),c=!0}}else c=!0,l(A,k=s(h.slice(0,m+1).join(p),n));return c}function o(e,t){return e.innerHeight()>t.maxHeight}function s(t,i){for(;e.inArray(t.slice(-1),i.lastCharacter.remove)>-1;)t=t.slice(0,-1);return e.inArray(t.slice(-1),i.lastCharacter.noEllipsis)<0&&(t+=i.ellipsis),t}function r(e){return{width:e.innerWidth(),height:e.innerHeight()}}function l(e,t){e.innerText?e.innerText=t:e.nodeValue?e.nodeValue=t:e.textContent&&(e.textContent=t)}function d(e){return e.innerText?e.innerText:e.nodeValue?e.nodeValue:e.textContent?e.textContent:""}}(jQuery),define("libs/jquery/dotdotdot-1.6.1",function(){}),define("quantum/videoPlayer",["jquery","version!fly/managers/debug","managers/client-storage","translations/video","version!fly/managers/components","utils/cookie","managers/device","managers/edition","managers/events","version!fly/managers/history","managers/page-vars","managers/recommendation","managers/global-functions","managers/tealium","managers/mpulse","version!fly/utils/url-helper","utils/targeting-helper","managers/waypoints","uvpjs/video-event-tracking","uvpjs-video-player","version!fly/components/base","version!libs/waypoints/inview","version!libs/jquery/dotdotdot"],function(e,t,i,n,a,o,s,r,l,d,c,u,p,h,m,g,f,v,y){var w="videoPlayer";t=t.init(w),v.init();var b={cnetvideocreate:0,playerloaded:0,showplayoverlay:0,adstart:0,adend:0,contentstart:0},A=0,k=new window.uvpjs.VideoManager;e.widget("cnet.videoPlayer",e.fly.base,{options:{apeList:!1,autoplay:!1,classActive:"active",classCaptions:"captions",classCaptionsMissing:"captionsMissing",classDisabled:"disabled",classHidden:"hidden",classNoAutoplay:"pausedAtStartup",classPlaybackStarted:"playbackStarted",classPlaying:"playing",config:null,contentType:"vod-curated",customCSS:null,enableHistoryUpdates:!1,eventChannels:null,eventSubscriptions:null,getPlaylistSelector:null,getRelatedPlaylist:!1,getRecommendedPlaylist:!1,getShortcodeVideo:!1,idPrefix:"videoPlayer",loaderSelector:"#related-area",loop:!0,mainPlayer:!1,mutedVideoCountThreshold:10,playlist:[],preventCaptions:null,resizePlayer:!0,scrollIntoView:!1,selectorScrollingAutoplayDisabled:".inviewElement.exited",showAsModal:!1,showPreviewMetadata:!1,suppressAds:!1,suppressFirstAd:!0,tagTopicPlaylistRoute:"",titleTagPostText:"",upNextTriggerTime:30,uvpPartner:"cnet",videoShortcodeSelector:".video.shortcode"},adPodStartTimestamp:0,autoplayState:null,chapters:null,contentStartTimeStamp:null,contentVideoState:-2,errorDetails:{MANIFEST_LOAD_ERROR:"manifestLoadError",MANIFEST_LOAD_TIMEOUT:"manifestLoadTimeOut",MANIFEST_PARSING_ERROR:"manifestParsingError",MANIFEST_INCOMPATIBLE_CODECS_ERROR:"manifestIncompatibleCodecsError"},haveFirstGesture:!1,id:null,initialized:!1,interrupted:!1,isAd:!1,isAmp:!1,isPlaying:!1,history:null,closePlayerRequested:!1,pauseRequested:!1,outOfViewPaused:!0,player:null,playlist:[],playlistPaused:!1,scrollingAutoplayWaypoint:null,startingNewPlaylist:!1,timelineRequests:null,suppressAds:!1,systemInfoObject:{},testGroup:null,testName:null,testVideoUrl:"data:video/mp4;base64,AAAAIGZ0eXBpc29tAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAAAuhtZGF0AUAigKN4SIUtLS0tLS0tLS0tLS0tLS0tLS0tLS0vAAACsAYF//+s3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE0OCByMjc5NSBhYWE5YWE4IC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAxNyAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTE2IGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDM6MHgxMzMgbWU9dW1oIHN1Ym1lPTEwIHBzeT0xIHBzeV9yZD0xLjAwOjAuMDAgbWl4ZWRfcmVmPTEgbWVfcmFuZ2U9MjQgY2hyb21hX21lPTEgdHJlbGxpcz0yIDh4OGRjdD0xIGNxbT0wIGRlYWR6b25lPTIxLDExIGZhc3RfcHNraXA9MSBjaHJvbWFfcXBfb2Zmc2V0PS0yIHRocmVhZHM9MSBsb29rYWhlYWRfdGhyZWFkcz0xIHNsaWNlZF90aHJlYWRzPTAgbnI9MCBkZWNpbWF0ZT0xIGludGVybGFjZWQ9MCBibHVyYXlfY29tcGF0PTAgY29uc3RyYWluZWRfaW50cmE9MCBiZnJhbWVzPTggYl9weXJhbWlkPTIgYl9hZGFwdD0yIGJfYmlhcz0wIGRpcmVjdD0zIHdlaWdodGI9MSBvcGVuX2dvcD0wIHdlaWdodHA9MiBrZXlpbnQ9MjUwIGtleWludF9taW49MjUgc2NlbmVjdXQ9NDAgaW50cmFfcmVmcmVzaD0wIHJjX2xvb2thaGVhZD02MCByYz1jcmYgbWJ0cmVlPTEgY3JmPTUxLjAgcWNvbXA9MC42MCBxcG1pbj0wIHFwbWF4PTY5IHFwc3RlcD00IGlwX3JhdGlvPTEuNDAgYXE9MToxLjAwAIAAAAAKZYiBAAn/Ix39GwAABOltb292AAAAbG12aGQAAAAAAAAAAAAAAAAAAAPoAAAALwABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAACL3RyYWsAAABcdGtoZAAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAIgAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAA445AAIAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAACIAAAAAAAEAAAAAAadtZGlhAAAAIG1kaGQAAAAAAAAAAAAAAAAAAC7UAAABkBXHAAAAAAAtaGRscgAAAAAAAAAAdmlkZQAAAAAAAAAAAAAAAFZpZGVvSGFuZGxlcgAAAAFSbWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAABEnN0YmwAAACuc3RzZAAAAAAAAAABAAAAnmF2YzEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAgACAEgAAABIAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY//8AAAA4YXZjQwFkAAr/4QAeZ2QACqxyBF+IiP/ABAACRAAAAwGQAABdqDxIlhGAAQAHaOhDgZSyLAAAABBwYXNwAAAAEAAAAAkAAAAYc3R0cwAAAAAAAAABAAAAAQAAAZAAAAAcc3RzYwAAAAAAAAABAAAAAQAAAAEAAAABAAAAFHN0c3oAAAAAAAACwgAAAAEAAAAUc3RjbwAAAAAAAAABAAAATgAAAeR0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAAAC8AAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAAAAAAEAAABAAAAAAFcbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAABWIgAABAAVxwAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAABB21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAAAy3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAABWIgAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVAAAAAAAULwAAFC8FgICAAhOIBoCAgAECAAAAGHN0dHMAAAAAAAAAAQAAAAEAAAQAAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAABRzdHN6AAAAAAAAAB4AAAABAAAAFHN0Y28AAAAAAAAAAQAAADAAAABidWR0YQAAAFptZXRhAAAAAAAAACFoZGxyAAAAAAAAAABtZGlyYXBwbAAAAAAAAAAAAAAAAC1pbHN0AAAAJal0b28AAAAdZGF0YQAAAAEAAAAATGF2ZjU3LjcxLjEwMA==",uvpPayload:{},video:null,watchedVideoCount:0,initialPlay:!0,autoplayScrollDisabled:!1,uvpEvents:{adError:function(e){this._trackEvent("logError","trackVideoAdError",e),this.suppressAds?t.error("UVPJS encountered a potentially fatal ad creative exception:",e):t.info("Ad failed to load because ads are being suppressed.",e)},controlMute:function(e){this._trackEvent("trackClick","mute",{})},controlUnmute:function(e){this.$element.find("[data-overlay=mute]").addClass("hide"),this.$element.removeClass(this.options.classCaptions+" "+this.options.classCaptionsMissing),setTimeout(function(){this.$element.find("[data-overlay=mute]").removeClass("visible")}.bind(this),250),this._trackEvent("trackClick","unmute",{})},firstGesture:function(e){if(!this.haveFirstGesture){this.haveFirstGesture=!0;var i=this,n=this.$element.find("#content_"+this.id+" video")[0];if(this.playlistPaused&&n){n.src=i.testVideoUrl;var a=n.play();a?a.then(function(){t.log("Promise fulfilled..."),i.player.getPlayerMuted()&&i.unmute(),i._resumePlaylist()}).catch(function(e){t.error("Promise not met...",e)}):t.log("no Promise")}else i.player.getPlayerMuted()&&(i.unmute(),i.$element.removeClass(i.options.classCaptions+" "+i.options.classCaptionsMissing))}},onAdBlocked:function(e){this._trackEvent("logError","trackVideoAdBlocked",e),this.suppressAds?t.error("UVPJS encountered a potentially fatal ad creative blockage:",e):t.info("Ad failed to load because ads are being suppressed.",e)},onAdEnd:function(e){this.isAd=!1,this._trackPerformanceEvent("adend")},onAdPodStart:function(e){this.adPodStartTimestamp=Date.now()},onAdStart:function(e){this.isAd=!0,this.options.eventChannels&&l.publish(this.options.eventChannels,"onAdStart"),setTimeout(function(){this.options.eventChannels&&l.publish(this.options.eventChannels,"onDelayedAdStart")}.bind(this),250),this._trackPerformanceEvent("adstart");var t=Date.now()-this.adPodStartTimestamp;t=t<1001?"0 - 1000 ms":t<1501?"1001 - 1500 ms":t<2001?"1501 - 2000 ms":t<2501?"2001 - 2500 ms":t<3001?"2501 - 3000 ms":"3001 and more",this._setAspectRatio(!0)},onCaptionsReady:function(e){this.$element.find("[data-control=captions]").removeClass(this.options.classDisabled)},onCaptionsUnavailable:function(e){t.warn("Unable to fetch captions."),this._trackEvent("logError","trackVideoCaptionsUnavailable",e)},onContentEnd:function(e){this._trackPerformanceEvent("contentend"),this.watchedVideoCount++,this.$element.find(".chapters").empty(),this.$element.find("[data-control=captions]").addClass(this.options.classDisabled),0===Math.floor(this.player.getCurrentPlaybackState().duration-this.player.getCurrentPlaybackState().currentTime)&&u.onVideoComplete()},onContentStart:function(e){this.options.eventChannels&&l.publish(this.options.eventChannels,"onContentStart"),this.contentStartTimeStamp=(new Date).getTime(),this._trackPerformanceEvent("contentstart"),this._showChapterStarts(),this._setAspectRatio()},onResourceEnd:function(e){if(this.player.getPlayerMuted()&&!this.haveFirstGesture)this.watchedVideoCount===this.options.mutedVideoCountThreshold&&this._pausePlaylist();else if(0===e.payload.playlistLength&&this.options.loop&&!this.startingNewPlaylist){var t=this.playlist[this.playlist.length-1];e.payload.rco&&e.payload.rco.cmsRefGuid===t.id&&(this.playlist=this.options.playlist,this._setPlaylist(this.playlist))}},onResourceStart:function(t){if(this.uvpPayload=t.payload,this.$element.find("[data-video-still]").addClass(this.options.classHidden),this.startingNewPlaylist=!1,this.video=this._getVideoFromPlaylist(t.payload.rco.index)||t.payload.rco,this.options.getRelatedPlaylist&&this._getRelatedPlaylist(),this._setPageContextMetadata(),this.player.getPlayerMuted()&&this.$element.find("[data-overlay=mute]").addClass("visible").addClass("muted"),this.chapters={},this.video.chapters&&this.video.chapters.data)for(var i=0;i<this.video.chapters.data.length;i++)this.chapters["time"+this.video.chapters.data[i].time]=e.extend(!0,{hasSeen:!1},this.video.chapters.data[i]);if(this.options.apeList){var n=o.read("apeList"),a=n?n.split(","):[];a.indexOf(this.video.id)<0&&(a.unshift(this.video.id),o.write("apeList",a.slice(0,10),{expires:1}))}this._showVideoInfo(),this._showCloseButton(),this.options.enableHistoryUpdates&&(this.updateHistory(),-1===document.title.indexOf(this.video.title)&&""!==this.options.titleTagPostText&&(document.title=this.video.title+this.options.titleTagPostText))},onStateChange:function(e){switch(this.contentVideoState=e.payload.isAd?-2:e.payload.newState,e.payload.newState){case 0:t.info("onStateChange: stop"),this.isPlaying=!1,this.$element.removeClass(this.options.classPlaying),this._setEmbeddedVideoState(!1);break;case 1:t.info("onStateChange: play"),this.isPlaying=!0,this.$element.addClass(this.options.classPlaying),(this.pauseRequested||!this._isInView()&&"scroll"===this.options.autoplay&&!this.$element.hasClass(this.options.classPlaybackStarted))&&this.pause(),this.$element.addClass(this.options.classPlaybackStarted),this._setEmbeddedVideoState(!0),this.closePlayerRequested&&(this.pause(),this._closePlayerComplete()),"none"===this.$element.css("display")&&this.pause(),this.options.eventChannels&&!this.pauseRequested&&l.publish(this.options.eventChannels,"playVideo"),this.pauseRequested=!1,this.initialPlay=!1;break;case 2:t.info("onStateChange: pause"),this.closePlayerRequested&&this._closePlayerComplete(),this.isPlaying=!1,this.outOfViewPaused=!1,this.$element.removeClass(this.options.classPlaying),this._setEmbeddedVideoState(!1)}},onVideoProgress:function(t){var i=this;if(!t.payload.isAd){i.uvpPayload=t.payload;var a=t.payload.currentTime,o=t.payload.duration,r="time"+Math.round(a);if(this.chapters[r]&&!this.chapters[r].hasSeen){this.chapters[r].hasSeen=!0;var l=this.$element.find("#"+r);l.addClass("highlight"),setTimeout(function(){l.removeClass("highlight")}.bind(this),3e3),this.$element.trigger("timelineEvent",this.chapters[r])}var d=i.$element.parent().find("[data-video-info=upnext]");if(Math.floor(o-a)<=i.options.upNextTriggerTime&&d.hasClass(i.options.classHidden)&&!d.hasClass(i.options.classDisabled)&&s.isDesktopUserAgent()){var c=this._getNextVideo(this.video.id);c.title&&this.playlist.length>1&&(d.html("<div class='slate'><div><b>"+n.upnext+":</b> "+c.title+"</div><button class='closeButton' data-item='closeButton' aria-label='Close player'><svg class='close'><use xlink:href='#close'></use></svg></button></div>"),d.off("click."+w),d.on("click."+w,".slate",function(t){e(this).addClass(i.options.classHidden),i._trackEvent("trackClick","video-nudge-click",t),i.player.advancePlayList()}),d.on("click."+w,"[data-item=closeButton]",function(e){e.stopPropagation(),d.addClass(i.options.classHidden),d.addClass(i.options.classDisabled)}),setTimeout(function(){d.removeClass(i.options.classHidden),d.dotdotdot({watch:"window"}),d.css("background-image","url("+c.thumbnail+")")},100))}}},playerStartError:function(e){t.error("UVPJS encountered a fatal exception starting the player: ",e),this._trackEvent("logError","trackPlayerStartError",e)},videoPlaybackError:function(i){(t.error("UVPJS encountered a fatal exception while playing the video: ",i),i.payload&&i.payload.errorInfo)&&((i.payload.errorInfo.message||"").indexOf(this.errorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR)>-1&&(e("[data-video-info]").empty(),this.player.destroyPlaylist()));this._trackEvent("logError","trackVideoPlaybackError",i)},videoStartError:function(e){e&&e.payload&&e.payload.errorInfo&&1001===e.payload.errorInfo.errorCode&&!this.suppressAds?(t.warn("IMA failed to load; attempting to play video without ads due to UVPJS exception:",e),this._trackEvent("logError","trackVideoStartImaError",e)):(t.error("UVPJS encountered a fatal error starting the video: ",e),this._trackEvent("logError","trackVideoStartError",e))}},_create:function(){var i=this;this._setup(),p.gdprConsentCallback("video_player",function(){i.isAmp=-1!==window.location.hash.indexOf("amp=1")||-1!==window.location.hash.indexOf("ampreview=1")||-1!==window.location.hash.indexOf("ampvideo=1");var n=!1;try{var a=i.options.playlist[0];n=a.liveState&&a.m3u8.indexOf("dai.google.com")>-1}catch(e){}require(["comscore-video","optional!"+(window.CnetPageVars.services.googleima&&window.CnetPageVars.services.googleima.enabled?"google-ima":"feature-disabled"),"optional!"+(i.isAmp?"video-iframe-integration":"feature-disabled"),"optional!"+(n&&(window.CnetPageVars.services.googleima||window.CnetPageVars.services.googleima.enabled)?"google-ima-dai":"feature-disabled")],function(){var n=window.uvpjs.mediaCapabilities;if(!(n.canPlayType("video/mp4")||n.canPlayNativeHLS()||n.canPlayHLSJS()))return t.error("This device is unable to play supported video types."),i.$element.addClass(i.options.classPlaybackStarted),void i._showCloseButton();if(i.testGroup=c.tracking.data.testGroup,i.testName=c.tracking.data.testName,i.options.eventSubscriptions&&l.subscribe(i,i.options.eventSubscriptions),A++,i.id=i.options.idPrefix+A,i.$element.attr("id",i.id),i.options.apeList&&i._setupApeList(),i.options.getShortcodeVideo){var a=[];e(i.options.videoShortcodeSelector).each(function(){a.push(e(this).data("videoPlaylist")[0])});var o=[];e.each(i.options.playlist,function(t){var n=!0;e.each(a,function(){i.options.playlist[t].id===this.id&&(n=!1)}),n&&o.push(i.options.playlist[t])}),i.options.playlist=a.concat(o),i.options.getRelatedPlaylist&&(i.playlist=i.options.playlist,i._getRelatedPlaylist())}if(e.each(i.options.playlist,function(e){i.options.playlist[e].index=e}),i.options.getPlaylistSelector&&i._getExternalPlaylist(),e(window).on("appendPlaylist",function(e,t){i.appendPlaylist(t.data)}),window.CnetPageVars.services.one_trust&&window.CnetPageVars.services.one_trust.enabled)window.cbsoptanon.onScriptsReady(function(e){e.ot.awaitInitialConsent(function(){e.ot.getState(function(e,t,n,a){var o={targeting:e,performance:t,functional:n,social:a},s=i._getUvpConfigs(o);i._initializeUvp(s)})})});else{var s=i._getUvpConfigs();i._initializeUvp(s)}})},{},"targeting")},_destroy:function(){this.$document.off("."+w),this.$element.off("."+w),this.$element.find("[data-control=share]").off("."+w),this.$element.find("[data-control=playlist]").off("."+w),y.removeUVPTracking(this.id),k.destroyVideoPlayer(this.id),this.$element.removeAttr("id").html(""),e("[data-load-video]").removeClass(this.options.classPlaying)},_closeOverlays:function(e,t){e.find("[data-item=close]").off("."+w),e.removeClass(this.options.classActive).html(""),t&&(this.interrupted=!1,this.play())},closePlayer:function(){if(this.player){var e=this.player.getCurrentPlaybackState().playbackState,t=window.uvpjs.mediaCapabilities;e!==t.PAUSED&&(this.closePlayerRequested=!0),e!==t.EMPTY&&this.pause(),this.$element.closest('[data-video-player="container"]').length>0?this.$element.closest('[data-video-player="container"]').addClass(this.options.classHidden):this.$element.addClass(this.options.classHidden),this.$window.trigger("closePlayer")}},_closePlayerComplete:function(){this.closePlayerRequested=!1},_formatTime:function(e){e=isNaN(parseInt(e))?0:e;var t=new Date(null);return t.setSeconds(e),t.toISOString().substr(14,5)},_getRecommendedVideos:function(){var i=this,n=c.tracking.data.contentId,a=("roadshow"===c.tracking.data.brand?"/roadshow":"")+"/videos/video-recs/"+n+"/xhr/";t.log("video recs request",a),e.ajax({dataType:"json",type:"GET",url:a}).done(function(n){n&&n.length>0?(t.log("video recs response",n),i.options.getShortcodeVideo&&e.each(i.options.playlist,function(t){e.each(n,function(e){i.options.playlist[t].id===this.id&&n.splice(e,1)})}),i.playlist=i.options.playlist.concat(n),e.each(i.playlist,function(e){i.playlist[e].index=e}),t.log("video recs new playlist",i.playlist),i.options.playlist=i.playlist,i.$element.on("onVideoPlayerReady",function(){i.$element.find('[data-video-info="title"]').text(i.playlist[0].title),i.$element.find(".uvpjs__time-duration").text(i._formatTime(i.playlist[0].duration))})):(t.log("video recs - none available",n),i.playlist=i.options.playlist,i.options.getShortcodeVideo&&(i.options.getRelatedPlaylist=!0))}).fail(function(e,i,n){t.log("video recs failed to load",e,i,n)}).always(function(){t.log("video recs complete"),i.autoPlayState||1!=i.options.scrollIntoView?i._setupPlayer():i._setupScrollingVideoPlayer()})},_getAdUrl:function(t,i){var n=c.ads.data.gpt.targeting,a="sz={param:sz}&iu=/22309610186/{param:region}-cnet/{param:device}/{param:partner}&ciu_szs={param:ciu_szs}&impl=s&gdfp_req=1&env=vp&output={param:output}&unviewed_position_start=1&url={param:referrer_url}&description_url={param:referrer_url}&correlator={param:timestamp}&cmsid=2573659&vid={param:mpxRefId}&pp={param:pp}&cust_params=",o="vid={param:mpxRefId}&ptype={param:ptype}&contentType={param:contentType}&vguid={param:vguid}&partner={param:partner_cust}&session={param:session}&subses={param:sub_session}&microsite={param:microsite}&campaign={param:campaign}&cid={param:cid}&collection={param:collection}&mfr={param:mfr}&carrier={param:carrier}&section={param:section}&userGroup={param:userGroup}&tag={param:tag}&edition={param:edition}&test={param:test}&score={param:score}&subcollection={param:subcollection}&topic={param:topic}&sectopic={param:sectopic}&pid={param:pid}&pv={param:pv}&show={param:show}&feat={param:feat}",r=s.isMobileUserAgent()||s.isIPhone()||s.isIPad(),l="cnet",d="";"es"===c.tracking.data.siteEdition?l="es-cnet":"roadshow"===c.tracking.data.brand&&(l="roadshow"),r&&(l+="_mobile"),this.isAmp&&(d="amp");var u={};try{u=JSON.parse(e.cookie("cnet_ad"))||{}}catch(e){}var p={sz:this.autoplayState&&this.player.getPlayerMuted()&&0===i?"640x483":"640x480",device:r?"mobile_web":"desktop",partner:l,partner_cust:d,ciu_szs:"300x60",output:s.isDesktopUserAgent()?"xml_vmap1":"xml_vast2",microsite:"string"==typeof n.microsite?n.microsite:"",campaign:"",referrer_url:location.protocol+"//"+location.host+location.pathname,timestamp:(new Date).getTime(),ptype:"string"==typeof n.ptype?n.ptype:c.tracking.data.pageType,contentType:n.contentType,vguid:c.guid,session:u.session,sub_session:u.subses||u.subSession,cid:n.cid,collection:n.collection,subcollection:n.subcollection,mfr:n.mfr,carrier:n.carrier,section:n.section,userGroup:f.getAdUserGroups(),tag:n.tag,edition:n.edition,region:"vaw",test:n.test,score:n.score,topic:n.topic&&n.topic.constructor===Array?n.topic.join():n.topic,sectopic:n.sectopic&&n.sectopic.constructor===Array?n.sectopic.join():n.sectopic,mpxRefId:t.liveState?"2kpq923WGV31B9WIu_rtHNC7LK354Xhb":t.mpxRefId,pp:"vpaid_js",pid:n.pid,pv:parseInt(e.cookie("pv"))||0,show:t.liveState?encodeURIComponent(t.title):null,feat:t.liveState?"live":null};return e.each(g.getAllParams(),function(e,t){var i=e.match(/adTargeting_(.+)/);i&&i[1]?p[i[1]]=t:"adNetwork"===e&&(p.network=t)}),e.each(p,function(e,t){var i=new RegExp("{param:"+e+"}","g"),n=t&&"||"!==t?t:"";a=a.replace(i,n),o=o.replace(i,n)}),a+encodeURIComponent(o)},_getExternalPlaylist:function(){var t=e(this.options.getPlaylistSelector).data("videoPlaylist");t&&this.appendPlaylist(t)},_getMediaUrl:function(e){var t=window.uvpjs.mediaCapabilities,i=!(t.isAndroid()&&parseInt(t.getOSVersion())<7)&&(window.MediaSource||window.WebKitMediaSource||!0===t.canPlayNativeHLS()),n=e.mp4;if(i&&e.m3u8){var a="ott";s.isMobileUserAgent()||s.isIPhone()?a="mobile":(s.isIPad()||window.uvpjs.mediaCapabilities.isChromeOS())&&(a="tablet"),n=e.m3u8,n+=-1==n.indexOf("?")?"?":"&",n+="device="+a,n+="&change-to-host=cnetmedia-a.akamaihd.net"}return n},_getPlaylistConfigs:function(i,n){var a=this,o={},r=s.isMobileUserAgent()||s.isIPhone()||s.isIPad();if((o=i.map(function(t,i){var o=0,s=null!=t.liveState;if(!a.player.getCurrentPlaybackState().playbackStarted&&0===i&&e.inArray(c.tracking.data.pageType,["video_page","video_share"])>-1){var l=parseInt(g.getParam("t"),10);o=!isNaN(l)&&l>0&&l<t.duration?l:0}var d={cmsRefGuid:t.id,duration:s?-1:t.duration,index:t.index,isLive:!1,adCall:"//pubads.g.doubleclick.net/gampad/ads?"+a._getAdUrl(t,i),assetURL:a._getMediaUrl(t),seriesTitle:a.isAmp?"CNET AMP Video":"CNET Video",type:a.suppressAds||r&&0===i&&n?window.uvpjs.mediaCapabilities.RP_URL:window.uvpjs.mediaCapabilities.RP_IMA,vidContId:a.id,videoTitle:t.title,closedCaptionPath:t.closedCaptionPath};if(s||(d.startTime=o),s&&a._getMediaUrl(t).indexOf("dai.google.com")>-1){var u=r?"mobile_web":"desktop",p=a._getAdUrl(t,i),h=a._getMediaUrl(t),m={iu:"/22309610186/vaw-cnet/"+u+"/cnet",cust_params:decodeURIComponent(p.slice(p.indexOf("cust_params=")+"cust_params=".length)),sz:"640x480",description_url:"CNET Live Stream"};d.assetKey=h.slice(h.indexOf("/hls/event/")+"/hls/event/".length,h.lastIndexOf("/")),d.assetURL=null,d.adTagParameters=m,d.isLive=!0,d.type=window.uvpjs.mediaCapabilities.RP_DAI}return d}))&&o[0]&&o[0].type===window.uvpjs.mediaCapabilities.RP_DAI)try{o.unshift({adCall:"//pubads.g.doubleclick.net/gampad/ads?"+a._getAdUrl(i[0],0),assetURL:"//vidtech.cbsinteractive.com/h5/blanks/uvp_blank.mp4",type:uvpjs.mediaCapabilities.RP_IMA})}catch(e){t.warn("Couldn't add IMA preroll to DAI live stream")}return t.log("playlistConfigs",o),o},_getRelatedPlaylist:function(){var i,n=this;i=n.playlist[n.playlist.length-1].slug;var a=r.getEdition(),o=("us"===a?"":"/"+a)+"/videos/related-playlist/"+i+"/xhr/";i&&e.ajax({dataType:"json",type:"GET",url:o}).done(function(i){i&&i.length>0&&(n.playlist=n.playlist.concat(i),e.each(n.playlist,function(e){n.playlist[e].index=e}),n.options.playlist=n.playlist,n.player&&"load"===n.autoplayState&&n.player.addResourcesToPlaylist(n._getPlaylistConfigs(i,!1)),n.options.getRelatedPlaylist=!1,t.log("_getRelatedPlaylist new playlist",n.playlist))}).fail(function(e,i,n){t.log("_getRelatedPlaylist failed to load",e,i,n)})},_getUvpConfigs:function(t){var i=window.document.location.search.indexOf(w)>0,n="object"!=typeof t||"boolean"!=typeof t.performance||t.performance,a=c.tracking.data.siteSection,o=e.inArray(a,["home","how_to","news","reviews","videos"])?a:"id",s=this.options.config&&this.options.config.tracking?escape(this.options.config.tracking["comscore_sense_"+o]):"",r={news:"P50B755CF-7443-484D-80EB-15D0499ACEB9",reviews:"P051D033D-BD8F-4F2B-93B7-A1F9F1402AB1",videos:"PB2485A3C-22F7-433C-B50B-332EF2270710"}[c.tracking.data.siteSection]||"P0EA7CD2E-455C-4925-95F9-FC8A7E69BB99";return{allowConcurrentPlayback:!1,capLevelToPlayerSize:!0,cms:"platform",controls:[{el:"PREVIEW_BTN",type:"buttonContainer",label:"Start video",children:[{el:"duration",type:"previewTitle",name:"title"},{el:"title",type:"previewDuration",name:"duration"}]},{el:"REPLAY_BTN",type:"button",label:"Replay video"},{el:"LARGE_PLAY_BTN",type:"button",label:"Large play-pause toggle"},{el:"CONTROL_BAR",type:"div",children:[{el:"title",type:"videoInfo",videoInfo:"title"},{el:"PLAYSTATE_BTN",type:"svgToggle",label:"Play pause",svgOn:"pause",svgOff:"play"},{el:"VOLUME_BTN",type:"svgToggle",label:"Volume",svgOn:"speaker-on",svgOff:"speaker-off"},{el:"TIME",type:"span",class:"uvpjs__time"},{el:"TIME_CURRENT",type:"span",text:"00:00"},{el:"TIME_DURATION",type:"span",text:this.options.playlist[0]&&this.options.playlist[0].duration?this._formatTime(this.options.playlist[0].duration):"00:00"},{el:"is-live",type:"span",text:"Live"},{el:"btn-share",type:"svg",label:"Share",svg:"share",control:"share"},{el:"CLOSED_CAPTION_BTN",type:"svg",control:"captions",label:"Closed captions",svg:"captions"},{el:"SETTINGS_BTN",type:"button",label:"Settings"},{el:"FULLSCREEN_BTN",type:"svg",label:"Fullscreen",svg:"fullscreen"}]},{el:"PROGRESS",type:"div",children:[{el:"PROGRESS_SLIDER",type:"range",label:"Progress",value:0,step:1e-4},{el:"PROGRESS_LOADED",type:"progress",value:0,step:1e-4}]},{el:"VOLUME_SLIDER",type:"range",value:1,step:.05},{el:"SETTINGS_MENU",type:"div",children:[]},{el:"overlays",type:"wrapper",name:"overlays",children:[{el:"share",type:"overlay",name:"share"},{el:"mute",type:"overlay",name:"mute"}]}],customCSS:this.options.customCSS,netwk:"cnet",partner:this.options.uvpPartner,playsInline:!0,preventFlashPlayback:!0,skin:!0,template:{button:'<button class="${ o.cls }" data-target="${ o.target }" aria-label="${ o.label }">${ o.label }</button>\n',buttonContainer:'<button class="${ o.cls }" aria-label="${ o.label }">${ o.children }</button>\n',div:'<div class="${ o.cls }">${ o.children }</div>\n',menu:'<button class="${ o.cls }" data-property="${ o.property }" data-value="${ o.value }" data-selected="${ o.selected }">${ o.label }</button>\n',overlay:'<div class="overlay ${ o.name }" data-overlay="${ o.name }"></div>\n',previewDuration:'<div class="videoMeta ${ o.name }"><div data-video-info="${ o.type }" class="${ o.type }"></div></div>',previewTitle:'<div class="videoMeta ${ o.name }"><div data-video-info="${ o.type }" class="${ o.type }"></div><div data-video-info="previewAuthor" class="previewAuthor"></div></div>',progress:'<progress class="${ o.cls }" value="${ o.value }" max="1" step="${ o.step }"></progress>\n',range:'<input type="range" value="${ o.value }" min="0" max="1" step="${ o.step }" class="${ o.cls }"  aria-label="${ o.label }" />\n',span:'<span class="${ o.cls }">${ o.text }</span>\n',svg:'<button class="${ o.cls }" data-control="${ o.control }" data-target="${ o.target }" aria-label="${ o.label }"><svg class="${ o.svg }"><use xlink:href="#${ o.svg }"/></svg></button>\n',svgToggle:'<button class="${ o.cls }" data-target="${ o.target }" aria-label="${ o.label }"><svg class="${ o.svgOn }"><use xlink:href="#${ o.svgOn }"/></svg><svg class="${ o.svgOff }"><use xlink:href="#${ o.svgOff }"/></svg></button>\n',toggle:'<span class="${ o.cls }" data-control="${ o.control }">${ o.text }<button class="on" aria-label="${ o.text } ${ o.textOff }">${ o.textOn }</button><button class="off" aria-label="${ o.text } ${ o.textOn }">${ o.textOff }</button></span>\n',videoInfo:'<span class="${ o.cls }" data-video-info="${ o.videoInfo }">'+(this.options.playlist.length>0&&this.options.playlist[0].title?this.options.playlist[0].title:"")+"</span>\n",wrapper:'<div class="${ o.name }">${ o.children }</div>\n'},usesIMA:!0,uvpc:{modules:[{name:"UVPJSDebug",category:"internal",enabled:i,params:[{name:"showAll",value:!0}]},{name:"ComScore_ss",category:"tracking",enabled:n,params:[{name:"partnerID",value:"cnet"},{name:"c1",value:"19"},{name:"c2",value:"31824268"},{name:"publishersSecret",value:"2cb08ca4d095dd734a374dff8422c2e5"},{name:"c3",value:""},{name:"c4",value:s}]},{category:"qos",enabled:n,name:"MuxQOSPluginJS",params:[{name:"propertyKey",value:"prod"===c.environment?"f13b9be8b7851594e8da77ea2":"930577dfc824ba10a4d593063"},{name:"experimentName",value:"||"===c.ads.data.gpt.targeting.test?"":c.ads.data.gpt.targeting.test}]},{name:"SiteCatalyst",category:"qos",enabled:n,params:[{name:"account",value:""},{name:"brand",value:"cnet"},{name:"edition",value:"us"},{name:"charSet",value:"UTF-8"},{name:"currencyCode",value:"USD"},{name:"visitorNamespace",value:"newimagitasinc"},{name:"TrackLiveStreams",value:"y"},{name:"trackingServer",value:"saa.cnet.com"},{name:"heartbeatTrackingServer",value:"newimagitasinc.hb.omtrdc.net"},{name:"heartbeatAdobePublisherId",value:"3C66570E5FE1A4AB0A495FFC@AdobeOrg"},{name:"heartbeatVisitorMarketingCloudOrgId",value:"3C66570E5FE1A4AB0A495FFC@AdobeOrg"}]},{category:"tracking",name:"NielsenTracking_SDK",enabled:n,params:[{name:"apid",value:r},{name:"clientid",value:"us-200330"},{name:"sfcode",value:"prod"===c.environment?"us":"dcr-cert"},{name:"vcid",value:"c07"},{name:"channelInfo",value:""},{name:"iag_sid",value:"1000011"},{name:"iag_tfid",value:"902"},{name:"channelName",value:"cbs"},{name:"segB",value:"CNET.com"},{name:"nol_devDebug",value:i?"console":""}]},{category:"internal",name:"VideoPlaybackSettings",enabled:window.uvpjs.mediaCapabilities.isAndroid(),params:[{name:"forceHlsjs",value:!0}]}]}}},_getNextVideo:function(t){var i=this,n={};return e.each(this.playlist,function(e){if(t===this.id)return n=i.playlist[e+1]||i.playlist[0],!1}),n},getVideo:function(){if(!this.video||!this.video.id)return null;var t,i="MANUAL";switch(("load"===this.autoplayState||"first"===this.autoplayState&&this.$element.is(e("[data-component*=videoPlayer]").first()))&&(this.playlist.length>1||this.options.getRelatedPlaylist?i="CONTINUOUS":this.autoplayState&&(i="AUTOPLAY")),this.contentVideoState){case-2:t="UNPLAYED";break;case-1:case 1:case 2:t="PLAYED";break;case 0:t="STOPPED";break;default:t="COMPLETED"}return e.extend(!0,{},this.video,{autoplayType:i,currentPlaybackState:this.player.getCurrentPlaybackState(),contentStartTimeStamp:this.contentStartTimeStamp,mediaUrl:this._getMediaUrl(this.video).split("?")[0],videoState:t})},_getVideoFromPlaylist:function(e){return this.playlist.filter(function(t){return t.index===e})[0]||null},_hideContainer:function(){this.$element.closest('[data-video-player="container"]').length>0&&!this.isPlaying&&1===e(".videoPlayer.playing").length&&this.$element.closest('[data-video-player="container"]').addClass(this.options.classHidden)},_initializeUvp:function(i){var a=this;window.uvpjs.Configuration.hostname="//www.cnet.com",k.initialize(i,function(i){a.systemInfoObject=i,a.options.showAsModal&&a.$element.addClass(a.options.classHidden),k.addEventListener(uvpjs.EventType.PLAYER_INIT+"."+a.id,function(i){if(a.id===i.target){if(a.player=i.payload.player,a.$element.trigger("onVideoPlayerReady",a.video),t.log("onVideoPlayerReady"),a.options.showPreviewMetadata&&a.options.playlist.length>0){a.$element.find("[data-video-info=previewDuration]").html('<svg class=" video"><use aria-hidden="false" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#video"></use></svg>'+a._formatTime(a.options.playlist[0].duration)),a.$element.find("[data-video-info=previewTitle]").text(a.options.playlist[0].title?a.options.playlist[0].title:"");var o=a.options.playlist[0].author;o&&o.firstName.length>0&&a.$element.find("[data-video-info=previewAuthor]").html('<div><span class="by">'+n.by+"</span> "+o.firstName+" "+o.lastName+"</div>")}e("[data-video-info]").dotdotdot({watch:"window"})}}),a._setupData(),a.options.showAsModal&&a.$element.addClass(a.options.classHidden),a._setupExternalEvents(),a.isAmp&&(a.options.suppressFirstAd=!1,a._setupAmpIntegration()),a._setDwPageTypeFallback(),"scroll"===a.autoplayState?a._setupScrollingAutoplay():a.options.getRecommendedPlaylist?a._getRecommendedVideos():a._setupPlayer()}),a._trackPerformanceEvent("cnetvideocreate")},_isInView:function(){var t=this.$element.offset().top,i=t+this.$element.outerHeight(),n=e(window).scrollTop(),a=n+e(window).height();return i>n&&t<a},_isFilteredShowPage:function(){try{return 1===e(window.location.hash).length}catch(e){return!1}},isAdPlaying:function(){return this.isAd},_setupAmpIntegration:function(){var e=this,i=c.ads.data.gpt.targeting;try{if(window.DW=window.DW||{},window.DW.pageParams=window.DW.pageParams||{},-1!==window.location.hash.indexOf("amp=1")?window.DW.pageParams.pagetype="article_amp":-1!==window.location.hash.indexOf("ampreview=1")?window.DW.pageParams.pagetype="product_main_amp":-1!==window.location.hash.indexOf("ampvideo=1")&&(window.DW.pageParams.pagetype="video_page_amp"),-1!==["article_amp","product_main_amp"].indexOf(window.DW.pageParams.pagetype)){var n=g.getHashParam("pageType"),a=g.getHashParam("contentType"),o=g.getHashParam("collection"),s=g.getHashParam("topic");i.ptype=n||window.DW.pageParams.pagetype,i.contentType=a||"",i.collection=o||"",i.topic=s||""}}catch(e){t.log("Couldn't update page params",e)}(window.AmpVideoIframe=window.AmpVideoIframe||[]).push(function(t){!1!==e.options.autoplay&&(t.method("play",function(){e.play()}),t.method("pause",function(){e.pause()}),t.method("mute",function(){e.mute()}),t.method("unmute",function(){e.unmute()})),t.postEvent("canplay")})},_setDwPageTypeFallback:function(){var e=c.ads.data.gpt.targeting,t="string"==typeof e.ptype?e.ptype:c.tracking.data.pageType;window.DW=window.DW||{},window.DW.pageParams=window.DW.pageParams||{},window.DW.pageParams.pagetype=window.DW.pageParams.pagetype||t},_loadChapter:function(t){var i=this;this.timelineRequests=this.timelineRequests||[],t.slug&&this.timelineRequests.push(e.ajax({dataType:"html",type:"POST",url:"/videos/video-timeline/"+t.slug+"/",data:{id:t.objectId,image:t.image?t.image:null,link:t.link,rating:t.metaData&&t.metaData.starRating?t.metaData.starRating:null,slug:t.slug,text:t.text,title:t.title,typeLabel:t.typeLabel,typeName:t.typeName},success:function(n){var a=100*t.time/i.video.duration,o=e('<div class="chapterDot" style="left:'+a+'%" id="time'+t.time+'"></div>'),s=e(n);s.on("click",function(e){i.pause()}),o.append(s),i.$element.find(".chapters").append(o)}}))},mute:function(){this.player&&this.player.mute()},_openOverlay:function(e,t){var i=this;this.isPlaying&&(this.pause(),this.interrupted=!0),this._closeOverlays(this.$element.find("[data-overlay]"),!1),e.addClass(this.options.classActive).html(t),a.process(e),e.find("[data-item=close]").on("click."+w,function(t){i._closeOverlays(e,i.interrupted)})},pause:function(){this.player&&this.player.pauseVideo()},_pausePlaylist:function(){if(this.player.pausePlaylist(),this.playlistPaused=!0,this.$element.find("[data-overlay=mute]").removeClass("visible"),this.$element.find(".uvpjs__controlbar").css("pointer-events","none"),s.isDesktop())if(this.haveFirstGesture){var e=this;this.$element.find("button.uvpjs__btn-large-play").one("click",function(t){t.stopPropagation(),e._resumePlaylist()})}else this.$element.find("button.uvpjs__btn-large-play").addClass(this.options.classDisabled),this.$element.find(".uvpjs__controls").addClass(this.options.classActive);try{this.$element.find("button.uvpjs__btn-large-play").css("background-image","url("+this.playlist[this.watchedVideoCount].image.path+")"),this.$element.find('[data-video-info="title"]').text(this.playlist[this.watchedVideoCount].title)}catch(e){}this.$element.parent().find("[data-video-info=upnext]").addClass(this.options.classHidden).removeClass(this.options.classDisabled)},play:function(){var e=this.$element.find(".uvpjs__btn-preview");this.player&&e.hasClass("uvpjs__btn-preview--hidden")?this.player.playVideo():e[0]&&(e[0].dispatchEvent(new Event("touchstart")),e[0].dispatchEvent(new Event("touchend")))},playVideoClip:function(e,t){e&&(t&&t.type&&t.type===window.uvpjs.EventType.RESOURCE_END&&this.playlist.length>1?this.play():(this.unmute(),this._setPlaylist(e)))},_processEvent:function(e){if(e&&e.target===this.id){["onVideoProgress"].indexOf(e.type)<0&&t.log(e.type,e),this.uvpEvents[e.type].call(this,e),this.$element.trigger(e.type,this.video)}},_resumePlaylist:function(){this.player.resumePlaylist(),this.playlistPaused=!1,this.$element.find(".uvpjs__controlbar").css("pointer-events",""),this.$element.find("button.uvpjs__btn-large-play").css("background-image",""),s.isDesktop()&&(this.$element.find("button.uvpjs__btn-large-play").removeClass(this.options.classDisabled),this.$element.find(".uvpjs__controls").removeClass(this.options.classActive))},_setAspectRatio:function(t){if(this.options.resizePlayer)if(!0===t)this.$element.css("height","");else if(this.video.isVertical){var i=e(window).height()-this.$element.find(".uvpjs__controlbar").height();this.$element.css("height",i+"px")}},_setEmbeddedVideoState:function(t){var i=this;i.options.mainPlayer?e("[data-load-video]").each(function(){var n=e(this).closest("[data-video-playlist]").data("videoPlaylist"),a=e(this).data("loadVideo"),o=!1;n&&n[a]&&n[a].id==i.video.id?o=!0:e(this).data("videoId")==i.video.id&&(o=!0),o?e(this).addClass(i.options.classActive):e(this).removeClass(i.options.classActive),o&&t?e(this).addClass(i.options.classPlaying):e(this).removeClass(i.options.classPlaying)}):t&&i.options.eventChannels&&l.publish(i.options.eventChannels,"heroVideoPlaying")},_setPageContextMetadata:function(){var t=null!=this.video.primaryCollection?this.video.primaryCollection.id:"",i=this.video.datePublished?this.video.datePublished.slice(0,10):"";this.player.setPageContextMetadata(e.extend(!0,{},h.getHbParams(),{collectionId:t,contentType:this.options.contentType,"a.media.originator":[null!=this.video.author?this.video.author.firstName+" "+this.video.author.lastName:null],"a.media.airDate":i,siteType:this.isAmp?"google_amp|||mobile":c.tracking.data.siteType,ns:"newimagitasinc"}))},_setPlaylist:function(e){e.length>0?(this.startingNewPlaylist=!0,this.playlist=e,this.player.destroyPlaylist(),this.player.addResourcesToPlaylist(this._getPlaylistConfigs(e,this.options.suppressFirstAd)),this.$element.addClass(this.options.classPlaying)):t.error("No videos found in the playlist.")},_setupApeList:function(){c.video.prepend&&!o.read("viewedPrepend")&&(this.options.playlist.unshift(c.video.prepend),o.write("viewedPrepend","1",{expires:1}));var e=o.read("apeList");if(e)for(var t=0,i=e.split(",");t<this.options.playlist.length&&i.indexOf(this.options.playlist[0].id)>=0;)this.options.playlist.push(this.options.playlist.shift()),t++},_setupData:function(){this.video=this.options.playlist.length>0?this.options.playlist[0]:{};var e=g.getParam("adSuppress")||o.read("adSuppress")||"";this.suppressAds=this.options.suppressAds||"all"===e||e.split(",").indexOf(w)>=0||c.services.googleima&&!c.services.googleima.enabled||!(window.google&&window.google.ima),this.history=d.init(),this.video.ratingVChip&&"TV-MA"==this.video.ratingVChip||this._isFilteredShowPage()?this.autoplayState=!1:this.autoplayState=this.options.autoplay},_setupExternalEvents:function(){var t=this;this.$document.on("keyup."+t.id,"[data-load-video]",function(e){13===e.which&&t._videoExternalInteractionEvent(e,this)}),this.$document.on("click."+t.id,"[data-load-video]",function(e){t._videoExternalInteractionEvent(e,this)}),this.$document.on("click","[data-replace-video-playlist]:not([data-active-video-playlist])",function(i){var n=i.target.getAttribute("data-replace-video-playlist"),o=i.target.getAttribute("data-video-tag-type"),s=t.options.tagTopicPlaylistRoute.replace("replace-me",n),r=e("[data-tag-playlist-container]").first();s+="?currentVideo="+t.video.id,t.loader=e.cnet.loading({disabled:!1}),t.loader.$element.appendTo(e(t.options.loaderSelector)),t.loader.add(),t._trackEvent("trackClick","video-playlist|"+o+"|"+n,{}),r.hasClass("loaded")&&(r.removeClass("loaded fullLoad"),r.addClass("reset"),setTimeout(function(){e("[data-tag-playlist]").first().empty()},500)),e.ajax({dataType:"json",type:"GET",url:s}).done(function(n){n&&void 0!==n.template&&void 0!==n.playlist&&(t.playlist=n.playlist,t.loader.remove(),t._setPlaylist(t.playlist),e("[data-tag-playlist]").first().append(n.template),r.addClass("loaded"),r.removeClass("reset"),e("[data-replace-video-playlist]").removeAttr("data-active-video-playlist"),e(i.target).attr("data-active-video-playlist","true"),setTimeout(function(){r.addClass("fullLoad")},500),a.process(r))})}),this.$document.on("click","[data-active-video-playlist]",function(i){var n=e("[data-tag-playlist-container]").first();n.removeClass("loaded fullLoad"),n.addClass("reset"),e(i.target).removeAttr("data-active-video-playlist"),t.playlist=t.options.playlist,t._setPlaylist(t.playlist),setTimeout(function(){e("[data-tag-playlist]").first().empty()},500)}),this.$element.on("onVideoPlayerReady",function(){e("body").addClass("videoPlayerReady"),t.player.setVolume(.5),t.options.eventChannels&&l.publish(t.options.eventChannels,"videoReady")})},_setupInternalEvents:function(){var t=this;e.each(this.uvpEvents,function(e){t.player.addEventListener(e+"."+t.id,t._processEvent.bind(t))}),this.$element.find("[data-control=share]").on("click."+w,function(i){var n=t.$element.find("[data-overlay=share]");if(n.hasClass(t.options.classActive))t._closeOverlays(n,t.interrupted);else{var a=r.getEdition();e.ajax({url:("us"===a?"":"/"+a)+"/videos/video-share-xhr/"+t.video.slug+"/"}).done(function(e){t._openOverlay(n,e)})}}),this.$element.on("click."+w,function(e){if(!t.$element.hasClass(t.options.classActive)){var i=function(e){t.$element.removeClass(t.options.classActive),t.$document.off("tap",i)};t.$element.addClass(t.options.classActive),t.$document.on("tap."+w,i)}}),this.$element.find(".uvpjs__progress").append('<div class="chapters"></div>'),this.options.enableHistoryUpdates&&this.history.stateChange(function(t){var i=-1;if(e.each(this.playlist,function(e){if(t.data.id===this.id)return i=e,!1}),i>-1){var n=this.playlist.slice(i),a=this.playlist.slice(0,i);this.playlist=n.concat(a)}else this.playlist=[t.data].concat(this.playlist);this._setPlaylist(this.playlist)}.bind(this));var i=this.$element.find("[data-overlay=mute]");i.html('<div class="speaker-off"><svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#speaker-on"></use></svg><span class="label">'+n.playSound+"</span></div>"),i.one("click",function(i){e(this).removeClass("muted"),t.unmute(),t.$element.removeClass(t.options.classCaptions+" "+t.options.classCaptionsMissing)})},_videoExternalInteractionEvent:function(i,n){i.preventDefault();var a=e(n),o=a.data("loadVideo")||0,s=a.closest("[data-video-playlist]").data("videoPlaylist");if(this._closePlayerComplete(),a.data("videoId")){var r=null;e.each(this.options.playlist,function(e,t){if(t.id===a.data("videoId"))return r=e,!1}),null!=r&&(o=r,s=this.options.playlist)}var l=s.slice(o),d=s.slice(0,o),c=(s=l.concat(d))&&s.length>0?s[0].id:null,u=a.hasClass(this.options.classPlaying),p=parseInt(this.id.replace(this.options.idPrefix,""))===a.closest("[data-playlist-target]").data("playlistTarget"),h=e(n).is(this.options.videoShortcodeSelector);if(this.options.mainPlayer||p)if(this.options.showAsModal&&(this.$element.removeClass(this.options.classHidden),this._showCloseButton()),u)this.pause(),h&&this._trackEvent("trackClick","inbody|videopause",i),a.data("trackPlaylist")&&this._trackEvent("trackClick","playlist_pause",i);else{if(this.$element.closest('[data-video-player="container"]').removeClass(this.options.classHidden),e(window).trigger("playerShowing"),this.unmute(),s&&s.length>0&&(!this.video||this.video&&this.video.id!=c))this.player.getCurrentPlaybackState().playbackStarted?this._setPlaylist(s):(this.options.playlist=s,this.player.overrideUserGesture(!0));else if(this.player.getCurrentPlaybackState().playbackStarted)if(this.player.getCurrentPlaybackState().playbackStarted)this.play();else{var m=this.$element.find("#content_"+this.id+" video")[0];if(m){m.src=this.testVideoUrl;var g=m.play();g?g.then(function(){t.log("Promise fulfilled..."),e(".uvpjs__btn-preview").trigger("click")}).catch(function(e){t.error("Promise not met...",e)}):t.error("no Promise")}}else this.player.overrideUserGesture(!0);a.data("scrollToTop")&&e("html, body").animate({scrollTop:this.$element.offset().top},1e3),e("[data-load-video]").removeClass(this.options.classActive),e("[data-load-video]").removeClass(this.options.classPlaying),a.addClass(this.options.classActive),a.addClass(this.options.classPlaying),h&&this._trackEvent("trackClick","inbody|videoplay",i),a.data("trackPlaylist")&&this._trackEvent("trackClick","playlist_play",i),a.data("trackPlaylistRedesign")&&this._trackEvent("trackClick","video-playlist|playlist-item|"+a.data("trackPlaylistRedesign"),i)}},_setupPlayer:function(){var e=this;t.log("_setupPlayer"),this.initialized||(this.initialized=!0,this.autoplayState||(this.$element.addClass(this.options.classNoAutoplay),this.$window.trigger(this.options.classNoAutoplay),this._showCloseButton()),null===e.options.preventCaptions&&("es"===r.getEdition()?e.options.preventCaptions=!0:e.options.preventCaptions=!1),k.createVideoPlayer(e.id,function(t){(e.player=t,e._setPageContextMetadata(),e._trackPerformanceEvent("playerloaded"),e._setupInternalEvents(),e._setPlaylist(e.options.playlist),e.options.apeList)||(window._cbv||(window._cbv=[])).push(e.player.DOMMgr.dom.video.el);y.trackUVP(e.id),document.getElementById(e.id).addEventListener("stateChange-"+e.id,t=>{t.detail&&t.detail.payload&&e._trackTagular(t.detail.payload)});var i=y.getUVPVideoContext(e.id);i&&e._trackTagular({"@type":"core.videoLoaded.v1",videoContext:i}),e.$element.trigger("onVideoPlayerReady",e.video)},{enableMutedAutoplay:"load"===e.autoplayState&&e.systemInfoObject.supportsMutedAutoplay,enableUnmutedAutoplay:!1,previewImage:e.options.playlist.length>0&&e.options.playlist[0].image&&e.options.playlist[0].image.path?e.options.playlist[0].image.path:"",deferLoadingCaptions:e.options.preventCaptions}))},_showCloseButton:function(){if(0==this.$element.find("[data-item=closeButton]").length){this.$element.prepend("<button class='closeButton' data-item='closeButton' aria-label='Close player'><svg class='close'><use xlink:href='#close'></use></svg></button>");var e=this;this.$element.find("[data-item=closeButton]").click(function(t){t.stopPropagation(),e.closePlayer(),e._trackEvent("trackClick","close-scroll-video",t)})}},_showVideoInfo:function(){var t=this;t.$element.parent().find("[data-video-info]").each(function(){var i=e(this),n=i.data("videoInfo"),a=t.video[n]||"";0===t.watchedVideoCount&&"title"===n&&t.video.primaryCollection&&"0d8f9ac8-61cb-4e36-9263-552d5468e04b"===t.video.primaryCollection.id?a=t.video.primaryCollection.title||"":"author"===n&&t.video.author?a=(t.video.author.firstName||"")+" "+(t.video.author.lastName||""):"collection"===n&&t.video.primaryCollection?a=t.video.primaryCollection.title||"":"upnext"===n&&(a="",i.addClass(t.options.classHidden).removeClass(t.options.classDisabled)),i.text(a)}),setTimeout(function(){e("[data-video-info]").dotdotdot({watch:"window"})},100)},_setupScrollingAutoplay:function(){var e=this,t=function(t){e.player?(e.options.eventChannels&&l.publish(e.options.eventChannels,"videoReady"),e.outOfViewPaused&&!e.autoplayScrollDisabled&&e.play()):e._setupPlayer()};this.scrollingAutoplayWaypoint=new Waypoint.Inview({element:this.$element,entered:t,enter:t,exited:function(t){if(e.player&&e.player.getPlayerMuted()&&0===e.$element.closest(e.options.selectorScrollingAutoplayDisabled).length){var i=e.player.getCurrentPlaybackState();e.outOfViewPaused=2!=i.playbackState,i.playbackStarted?e.pause():e.pauseRequested=!0}}})},_setupScrollingVideoPlayer:function(){var e=this;t.log("setting up scrolling video player"),e.player?e.options.eventChannels&&l.publish(e.options.eventChannels,"videoReady"):e._setupPlayer();this.scrollingAutoplayWaypoint=new Waypoint.Inview({element:this.$element,exited:function(t){if(e.player&&e.player.getPlayerMuted()&&0===e.$element.closest(e.options.selectorScrollingAutoplayDisabled).length){var i=e.player.getCurrentPlaybackState();e.outOfViewPaused=2!=i.playbackState,i.playbackStarted?e.pause():e.pauseRequested=!0}}})},_showChapterStarts:function(){if(this.timelineRequests)for(var e=0;e<this.timelineRequests.length;e++)this.timelineRequests[e].abort();if(this.$element.find(".chapters").empty(),this.video&&this.video.chapters)for(var t in this.video.chapters.data)this._loadChapter(this.video.chapters.data[t])},_trackTagular:function(e){window.tagular&&e&&(t.log("Cohesion/Tagular event:",e["@type"],e),window.tagular("beam",e))},_trackEvent:function(t,i,n,a){if("logError"!==t){a=a||{};var o="";if(n.errorInfo){var s=n.errorInfo.errorCode||"null",r=n.errorInfo.serverCode||"null";if(3005===s&&"string"==typeof n.errorInfo.message){var l=n.errorInfo.message.split(" ");r+="_"+l[l.length-1]}o=s+"_"+r}var d=-1<o.indexOf("3005_null_buffer"),u=-1<o.indexOf("3005_null_levelLoad");!(d||u)&&this.video&&h.trackCustomEvent(t,e.extend(!0,{articleAuthorId:this.video.author?[this.video.author.id]:null,articleAuthorName:this.video.author?[this.video.author.firstName+" "+this.video.author.lastName]:null,articleId:c.tracking.data.articleId,articleTitle:c.tracking.data.articleTitle,articleType:c.tracking.data.articleType,brand:c.tracking.data.brand,channel:"video",clickGenericText:i,collectionId:this.video.primaryCollection?[this.video.primaryCollection.id]:null,deviceType:c.tracking.data.deviceType,error:o,pageType:c.tracking.data.pageType,siteEdition:c.tracking.data.siteEdition,siteHier:c.tracking.data.siteHier,siteSection:c.tracking.data.siteSection,siteType:c.tracking.data.siteType,videoAdIds:n.adData?n.adData.adVideoId:null,videoAdTitle:n.adData?n.adData.adVideoTitle:null,videoContentType:"video",videoId:this.video.id,videoTitle:this.video.title||this.video.headline,_pageChannelType:c.tracking.data._pageChannelType,_pageTitle:c.tracking.data._pageTitle,_pageViewGuid:c.tracking.data._pageViewGuid},a))}},_trackPerformanceEvent:function(i){t.info("Firing event: cnet_video."+i),c.video=c.video||{},c.video.performance=c.video.performance||{},c.video.performance[i]=!0;try{window.dispatchEvent(new Event("cnet_video."+i)),e(window).trigger("cnet_video."+i)}catch(e){t.error("Unable to trigger event cnet_video."+i)}try{void 0===performance.getEntriesByName(i)[0]&&performance.mark("cnet_video_"+i)}catch(e){t.error("Unable to set performance mark cnet_video_"+i)}try{var n=void 0===b[i]||0===b[i],a=["video_page","article","product_main"].indexOf(c.tracking.data.pageType)>-1;if(n&&a){b[i]=performance.now();var o=b[i],s={cnetvideocreate:["create"],playerloaded:["ploaded","cnetvideocreate"],adstart:["adStart","playerloaded"],showplayoverlay:["showoverl","playerloaded"]}[i];if(e.isArray(s)){var r=b[s[1]]||0;o=b[i+"_from_"+s[1]]=b[i]-r}var l=e.isArray(s)?s[0]:"";-1===["adstart","cnetvideocreate"].indexOf(i)&&l&&m.sendBeacon("video_"+l,o),"adstart"===i&&m.sendBeacon("video_adStart_c",b[i])}}catch(e){t.error("mpulse error tracking "+i+": "+e)}},unmute:function(){this.player&&this.player.getPlayerMuted()&&(this.player.unMute(),this.player.hideCaptions())},updateHistory:function(){-1===document.location.pathname.indexOf(this.video.urlPath)&&this.video.urlPath&&(this.history.navigate({title:this.video.title,data:this.video},{replace:!1,url:this.video.urlPath}),e(window).trigger("historystatechange"))},appendPlaylist:function(i){var n=this;i.length>0?this.playlist.length>0?(this.options.playlist=this.options.playlist.concat(i),e.each(n.options.playlist,function(e){n.options.playlist[e].index=e}),this.playlist=this.options.playlist,this.player&&this.player.addResourcesToPlaylist(this._getPlaylistConfigs(i))):(this.options.playlist=this.options.playlist.concat(i),e.each(n.options.playlist,function(e){n.options.playlist[e].index=e})):t.error("No videos found in the playlist."),t.log("appendPlaylist: new videos",i),t.log("appendPlaylist: new playlist",this.options.playlist)},setAutoplayToPause:function(){!1!==this.options.autoplay&&(this.initialPlay&&(this.pauseRequested=!0),this.autoplayScrollDisabled=!0)}})}),define("quantum/inviewElement",["jquery","managers/page-vars","managers/client-storage","version!fly/managers/debug","managers/events","version!fly/components/base","version!libs/waypoints/inview"],function(e,t,i,n,a){n=n.init("inviewElement"),e.widget("cnet.inviewElement",e.fly.base,{options:{containerAwareClassPrefix:null,containerAwareSelector:null,contentsClass:null,contentsSelector:null,customEventPercentage:"",events:["enter","entered","exit","exited"],eventChannels:null,eventSubscriptions:null,exitDirection:"both",repeat:!0,setStateOnLoad:!1,waypointParentOffsetSelector:"",mainPlayer:!1},enabled:!0,inviewWaypoint:null,_create:function(){this._setup(),this._setupWaypoints(),this._setupEvents(),this.options.setStateOnLoad&&this._setState()},_destroy:function(){this.inviewWaypoint.destroy(),this.$element.removeClass(this.options.events.join(" ")),this.options.contentsSelector&&this.$element.find(this.options.contentsSelector).removeClass(this.options.contentsClass)},disable:function(){for(var e=0;e<this.inviewWaypoint.waypoints.length;e++)this.inviewWaypoint.waypoints[e].disable();this.$element.removeClass(this.options.events.join(" "))},enable:function(){e("[data-component*=inviewElement]").not(this.$element).each(function(t,i){try{e(i).inviewElement("disable")}catch(e){n.log("Inview element not ready to be disabled.",e)}});for(var t=0;t<this.inviewWaypoint.waypoints.length;t++)this.inviewWaypoint.waypoints[t].enable()},_setState:function(){if("off"!==i.read("autoplayEnabled")&&this.$element.is(e("[data-component*=inviewElement]").first())){var t=this.$element.offset().top,n=t+this.$element.outerHeight(),a=e(window).scrollTop(),o=a+e(window).height();n>a&&t<o||(this.$element.addClass("exit exited"),this.options.contentsSelector&&this.$element.find(this.options.contentsSelector).addClass(this.options.contentsClass))}},_setupEvents:function(){var t=this;e(window).on("closePlayer",function(){t.$element.find(t.options.contentsSelector).removeClass(t.options.contentsClass)}),this.options.eventSubscriptions&&a.subscribe(this,this.options.eventSubscriptions)},_setupWaypoints:function(){var t=this;if(""!==this.options.customEventPercentage&&this.options.contentsSelector)this.customWaypoint=new Waypoint({element:this.$element,handler:function(e){if("up"===e)t.$element.find(t.options.contentsSelector).removeClass(t.options.contentsClass);else if(t.options.customChildSelector){var i=t.$element.find(t.options.customChildSelector);(0===i.length||i.length>0)&&t.$element.find(t.options.contentsSelector).addClass(t.options.contentsClass)}else t.$element.find(t.options.contentsSelector).addClass(t.options.contentsClass)},offset:function(){return-(""===t.options.waypointParentOffsetSelector?this.element.height():e(this.element).closest(t.options.waypointParentOffsetSelector).height())*parseFloat(t.options.customEventPercentage)}});else{var i=this.options.events.reduce(function(e,i){return e[i]=function(e){if(n.log("Waypoint "+i+" "+e+" triggered."),t.options.eventChannels&&a.publish(t.options.eventChannels,i),(i.indexOf("exit")<0||"both"===t.options.exitDirection||t.options.exitDirection===e)&&(t.$element.removeClass(t.options.events.join(" ")).addClass(i),t.options.containerAwareClassPrefix&&t.options.containerAwareSelector&&t.$element.parents(t.options.containerAwareSelector).removeClass(t.options.events.map(function(e){return t.options.containerAwareClassPrefix+e}).join(" ")).addClass(t.options.containerAwareClassPrefix+i)),t.options.contentsSelector)if(0===i.indexOf("enter"))t.$element.find(t.options.contentsSelector).removeClass(t.options.contentsClass);else if("both"===t.options.exitDirection||t.options.exitDirection===e){var o=t.$element.find("[data-component=videoPlayer]");(0===o.length||o.length>0)&&t.$element.find(t.options.contentsSelector).addClass(t.options.contentsClass)}!t.options.repeat&&t.inviewWaypoint&&t.inviewWaypoint.destroy()},e},{});this.inviewWaypoint=new Waypoint.Inview(e.extend(!0,{element:this.$element},i))}}})}),define("components/ellipsis",["jquery","version!fly/managers/debug","version!libs/jquery/dotdotdot","version!fly/components/base"],function(e,t){t=t.init("ellipsis"),e.widget("cnet.ellipsis",e.fly.base,{options:{selectors:{target:"[data-ellipsis]"}},_create:function(){var t=this.options;this._super(),e.each(this.$element.find(t.selectors.target),function(t,i){var n=e(i),a=n.data("ellipsis")||{};n.dotdotdot(a)})}})}),define("translations/image-gallery",["managers/edition"],function(e){return e.getTranslation({en:{page:"Page",pictures:"pictures"},es:{page:"Página",pictures:"imagenes"}})}),define("translations/social-links",["managers/edition"],function(e){return e.getTranslation({en:{cnet:"CNET",roadshow:"Roadshow",copied:"URL copied to clipboard"},es:{cnet:"CNET_Es",copied:"URL copiado al portapapeles"}})}),define("fly/components/social-links-1.0",["jquery","version!fly/managers/debug","version!fly/utils/string-vars","version!fly/components/base"],function(e,t,i){var n=e.support.touch?"vclick":"click",a=t.init("socialLinks");e.widget("fly.socialLinks",e.fly.base,{options:{title:"",url:"",description:"",shortUrl:"",via:"",data:{},popupWidth:620,popupHeight:440,location:null},isLoading:!1,popupId:"popup",linkId:"link",links:{facebook:"http://www.facebook.com/sharer.php?u={url}&t={title}",reddit:"http://reddit.com/submit?url={url}&title={title}",digg:"http://digg.com/submit?url={url}&title={title}",stumbleupon:"http://www.stumbleupon.com/submit?url={url}",twitter:function(e){var t="https://twitter.com/intent/tweet?text={title}&related={related}";return t+=e.shortUrl?"&url={shortUrl}&counturl={url}":"&url={url}",t+=e.via?"&via={via}":""},delicious:"http://del.icio.us/post?url={url}&title={title}",googleplus:"https://plus.google.com/share?url={url}&utm_content={title}&utm_campaign=&utm_medium=share%2Bbutton",linkedin:"http://www.linkedin.com/shareArticle?mini=true&url={url}&title={title}&summary={description}",pinterest:"http://pinterest.com/pin/create/button/?url={url}&media={media}&description={description}",tumblr:"http://www.tumblr.com/share/link?url={url}&description={description}",whatsapp:function(t){var n={ios:{match:/(ipad|iphone|ipod)/,store:"https://itunes.apple.com/app/whatsapp-messenger/id310633997",url:"whatsapp://send?text={title}%20{url}"},androidChrome:{match:"androidChrome",store:"market://details?id=com.whatsapp",url:"intent://send?text={title}%20{url}#Intent;package=com.whatsapp;scheme=whatsapp;end;"},android:{match:"android",store:"market://details?id=com.whatsapp",url:"whatsapp://send?text={title}%20{url}"}},a=window.navigator.userAgent.toLowerCase();for(var o in n)if(o=n[o],a.match(o.match)){o.url=i.compile(o.url,t,["urlencode"]);var s=e("<iframe />").css("display","none").attr("src",o.url).appendTo("body");return setTimeout(function(){window.open(o.store,"_blank"),s.remove()},300),!1}},print:function(){return window.print(),!1},email:"mailto:?subject={title}&body={url}%0D%0D{description}"},_create:function(){this.options;var e={};this._setup(),e[n+" [data-"+this.popupId+"]"]="_handlePopup",e[n+" [data-"+this.linkId+"]"]="_handleLink",this._on(this.$element,e)},_handlePopup:function(t){var i=e(t.currentTarget),n=i.data(this.popupId);t.preventDefault(),this.$el=i,this._setupClickEvent(t,{el:i,name:n}),this.popup(t,n)},_handleLink:function(t){var i=e(t.currentTarget),n=i.data(this.linkId);t.preventDefault(),this.$el=i,this._setupClickEvent(t,{el:i,name:n}),this.link(t,n)},_getLink:function(t){var n=this.links[t.toLowerCase()],a=this._getLinkData();return e.isFunction(n)&&(n=n(a)),n=i.compile(n,a,["urlencode"])},setLink:function(e,t){this.links[e]=t},_getLinkData:function(){var t=this.options;return e.extend({title:t.title,description:t.description,url:t.url,shortUrl:t.shortUrl,via:t.via},t.data)},popup:function(e,t){var i=this._getLink(t),n=this._getPopUpCoords(),a=this.$el;i&&(window.open(i,"button_share","width="+n.width+", height="+n.height+", left="+n.left+", top="+n.top+", personalbar=0, toolbar=0, scrollbars=1, resizable=1"),this._setupLoadEvent(e,{el:a,name:t,type:this.popupId}))},link:function(e,t){var i=this._getLink(t),n=this.$el;i&&(this._setupLoadEvent(e,{el:n,name:t,type:this.linkId}),window.location=i)},_getPopUpCoords:function(e,t){var i=this.options,n=e||i.popupWidth,a=t||i.popupHeight,o=screen.width,s=screen.height;return{left:Math.round(o/2-n/2),top:s>a?Math.round(s/2-a/2):0,width:o>n?n:o,height:s>a?a:s}},_setupClickEvent:function(t,i){t=t||null;var n=this.options.location;n&&e.extend(i,{location:n}),a.log("clicked"),this._trigger("clicked",null,i)},_setupLoadEvent:function(t,i){t=t||null;var n=this.options.location;n&&e.extend(i,{location:n}),this._trigger("loaded",t,i)}})}),define("fly/components/social-counts-1.0",["jquery","version!fly/managers/debug","version!fly/utils/string-helper","version!fly/utils/string-vars","version!fly/utils/object-helper","version!fly/components/social-links"],function(e,t,i,n,a){e.support.touch;var o=t.init("socialCounts");e.widget("fly.socialCounts",e.fly.socialLinks,{options:{url:null,facebookKey:null,showZeros:!1,countType:"human",containerClass:"social-count",containerTemplate:"<span></span>",loadingClass:"loading",loadedClass:"loaded",googleButtonType:"small",showTotal:!1,totalContainerSelector:".social-count-total",location:null,timeout:1e3},selectorId:"counts",total:0,countTotals:0,services:{facebook:"http://api.facebook.com/restserver.php?v=1.0&method=links.getStats&urls={url}&format=json",twitter:"http://cdn.api.twitter.com/1/urls/count.json?url={url}",linkedin:"http://www.linkedin.com/countserv/count/share?url={url}",delicious:"http://feeds.delicious.com/v2/json/urlinfo/data?url={url}",pinterest:"http://api.pinterest.com/v1/urls/count.json?url={url}"},responseKeys:{facebook:"like_count",twitter:null,reddit:"score",linkedin:null,delicious:"total_posts",stumbleupon:"views",pinterest:null,googleplus:null},responseObj:{facebook:function(e){return e[0]},delicious:function(e){return e[0]},reddit:function(e){return e.children.length>0?e.children[0]:null}},requestDataType:{},requestData:{},_create:function(){var e=this.options;this._super("_create"),this.url=e.url||window.location.href,this.$links=this.$element.find("[data-"+this.selectorId+"]"),this._setupRequests()},_setupRequests:function(){if(this.$links.length<=0)return o.log("Error: No links found in element.",this.$element),!1;var t,n=this,a=this.$links.length;this.$links.each(function(s,r){var l=e(r),d=l.data(n.popupId).toLowerCase(),c=n._getService(d),u="_load"+i.capitalize(d),p=0;n._loader("add",l),c?(n.load(d,c),t="socialcountsloaded"):e.isFunction(n[u])?n[u]():(o.log("Error: No service or custom function found for "+d,n.$element),n._loader("remove",l)),n.$element.on(t,function(e,t){p=t.count||0,n.total+=p,n._setTotal(a)})})},load:function(t,i){if(t.length<=0||i.length<=0)return o.log("Error: Service url or name not defined"),!1;var n=this,s=this.responseKeys[t]||"count",r=this.requestDataType[t]||"jsonp",l=this.requestData[t]||{};o.log("Requesting: "+t+"("+i+")"),e.ajax({dataType:r,url:i,data:l,timeout:n.options.timeout}).done(function(i,o,r){i=e.isFunction(n.responseObj[t])?n.responseObj[t](i):i;var l=a.deepFind(i,s)||{};n.setContent(t,l)}).fail(function(e,a,s){o.log("Error: "+t+"("+i+") response failed",e,a),n.setContent(t,{})})},_getService:function(e){var t=this.services[e],i=this._getServiceData();return t=n.compile(t,i,["urlencode"])},_getServiceData:function(){var t=this.options;return e.extend({url:this.url,googleplusKey:t.googleplusKey,facebookKey:t.facebookKey},t.data)},_loadGoogleplus:function(){var e='<div class="g-plusone" data-size="'+this.options.googleButtonType+'" data-href="'+this.url+'" data-count="true" data-callback="handleGooglePlusCallback"></div>',t=this._getLinkEl("googleplus"),i=this;t.html(e),window.handleGooglePlusCallback=function(e){e.state},require(["https://apis.google.com/js/plusone.js"],function(){window.handleGooglePlusCallback=function(e){var t="on"==e.state?"plusone":"rmvplusone";i._trigger(null,{button:"googleplus",type:t})}.bind(this),i._setupLoadEvent({el:t,name:"googleplus"})})},setContent:function(t,i){var n,a,o=this.options,s="[class="+o.containerClass+"]",r=0;return a=(a=(n=this._getLinkEl(t)).find(s)).length?a:e(o.containerTemplate).addClass(o.containerClass).addClass(o.containerClass+"-"+t).insertAfter(n).before(" "),o.showZeros&&"object"==typeof i&&(i="0"),"object"!=typeof i&&(r=parseInt(i,10),"human"===o.countType&&(i=this._getNormalizedCount(r)),a.text(i),n.addClass(o.loadedClass)),this._loader("remove",n),this._setupLoadEvent({el:n,name:t,count:r,type:"countSet"}),!0},_setTotal:function(e){var t=this.options,i=this.$element.find(t.totalContainerSelector),n="human"===t.countType?this._getNormalizedCount(this.total):this.total;if(this.countTotals++,i.length<0)return o.log("Error: total container not found. Selector: "+t.totalContainerSelector),!1;i.text(n),this.countTotals===e&&(this._setupLoadEvent({el:this.$element,type:"totalSet"}),this.$element.addClass(t.loadedClass))},_setupLoadEvent:function(t){t=t||{};var i=this.options.location;i&&e.extend(t,{location:i}),this._trigger("loaded",null,t)},_getLinkEl:function(t){var i=this;return this.$links.filter(function(n){var a=e(this).attr("data-"+i.popupId).toLowerCase();return a===t&&e(this)})},_getNormalizedCount:function(e){return e>=1e9?e=(e/1e9).toFixed(2)+"B":e>=1e6?e=(e/1e6).toFixed(2)+"M":e>=1e3&&(e=(e/1e3).toFixed(1)+"K"),e},_loader:function(e,t){var i=this.options;t=t||this.$element,"add"===e?t.addClass(i.loadingClass):t.removeClass(i.loadingClass)}})}),define("components/social-counts",["jquery","version!fly/managers/debug","translations/social-links","managers/page-vars","managers/tealium","managers/device","version!fly/utils/string-vars","version!fly/utils/object-helper","managers/edition","version!fly/components/social-counts","components/modal-email"],function(e,t,i,n,a,o,s,r,l){t=t.init("socialCounts");var d=e.support.touch?"vclick":"click";e.widget("cnet.socialCounts",e.fly.socialCounts,{options:{data:{media:e('meta[property="og:image"]').first().attr("content")}},$emailModal:null,totalCount:0,services:{facebook:"https://api.facebook.com/restserver.php?v=1.0&method=links.getStats&urls={url}&format=json",twitter:"",linkedin:"https://www.linkedin.com/countserv/count/share?url={url}",delicious:"http://feeds.delicious.com/v2/json/urlinfo/data?url={url}",pinterest:"https://api.pinterest.com/v1/urls/count.json?url={url}"},ftags:{copy:"#ftag=COS-05-10aaa2d",email:"#ftag=COS-04-10aaa1a",facebook:"#ftag=COS-05-10aaa0i",googleplus:"#ftag=COS-05-10aaa1c",linkedin:"#ftag=COS-05-10aaa1h",pinterest:"#ftag=COS-05-10aaa1d",reddit:"?ftag=COS-05-10aaa1e",tumblr:"#ftag=COS-05-10aaa1g",twitter:"#ftag=COS-05-10aaa0j",sms:"#ftag=CAD-05-10aai5g",flipboard:"#ftag=COS-05-10aaa2f"},links:{email:function(t){if(o.isMobile())window.location=s.compile("mailto:?subject={title}&body={url}%0D%0A%0D%0A{description}",t,["urlencode"]);else if(this.$emailModal)this.$emailModal.modalEmail("open");else{var i={openOnInit:!0,pageTitle:t.title,pageUrl:t.url};this.options.isAuto&&(i.emailType="friendRoadshow"),this.$emailModal=e.cnet.modalEmail(i).$element}},googleshare:"https://plus.google.com/share?url={url}&utm_content={title}&utm_campaign=&utm_medium=share%2Bbutton",twitter:function(e){var t="https://twitter.com/intent/tweet?text={title}&related={related}"+(e.shortUrl?"&url={shortUrl}&counturl={url}":"&url={url}");"none"!=e.via&&(t+="&via="+(null!==e.url.match(/\/roadshow\//)?i.roadshow:i.cnet));return t},tumblr:"http://www.tumblr.com/share/link?url={url}",flipboard:"https://share.flipboard.com/bookmarklet/popout?v=2&title={title}&url={url}&utm_source=cnet&utm_medium=article-share&utm_campaign=publisher",sms:function(){var e=navigator.userAgent||navigator.vendor||window.opera;return/iPad|iPhone|iPod/.test(e)&&!window.MSStream?"sms:&body={title}%20{url}":"sms:?body={title}%20{url}"},copy:function(n){element=this.$el;var a=function(){e(element).children(".copy").append('<div class="copyNotice">'+i.copied+"</div>"),setTimeout(function(){e(".copyNotice").detach()},3e3);var t=null;return document.addEventListener("copy",function(e){if(null!==t)try{e.clipboardData.setData("text/plain",t),e.preventDefault()}finally{t=null}}),function(e){t=e,document.execCommand("copy")}}();return t.log("copied:",n.url),a(n.url)}},getTotal:function(){return this.totalCount},_create:function(){var i=this;this._super(),this._setupTracking(),e.each(this.links,function(e,t){"function"==typeof t&&(i.links[e]=t.bind(i))}),this._on(this.$element,{}),"counts"===this.options.type&&this.options.noLinks&&(i._handlePopup=function(e){t.log("Blocked _handlePopup event")},i._handleLink=function(e){t.log("Blocked _handleLink event")})},_getLink:function(t,i,n){this._setupUrl(t);var a=this,o="json";if(!this.options.data.shortUrl&&"twitter"==t){var s=(l.isEspanol()?"/es":"")+"/ShareBarUrlShortener/";null!==this.options.url.match(/\/roadshow\//)&&(s="/roadshowurlshortener/"),"www.cnet.com"!==window.location.host&&(o="jsonp",s=window.location.protocol+"//www.cnet.com"+s);var r=a._super;e.ajax({url:s,data:{longUrl:this.options.url},dataType:o,callback:"callback",jsonpCallback:"handle_callback",async:!1,cache:!0,success:function(e){a.options.data.shortUrl=void 0!==e.short_url?e.short_url:e.data.url,n(r.call(a,t),i)}})}if("json"==o)return this._super(t)},popup:function(e,t){var i=this._getPopUpCoords(),n=this._getLink(t,i,o),a=this.$el;function o(e,i){e&&(window.open(e,"button_share_"+t,"width="+i.width+", height="+i.height+", left="+i.left+", top="+i.top+", personalbar=0, toolbar=0, scrollbars=1, resizable=1")||(window.location=e))}n&&(o(n,i),this._setupLoadEvent(e,{el:a,name:t,type:this.popupId}))},link:function(e,t){var i=this._getLink(t,{},a),n=this.$el;function a(e,t){e&&(window.location=e)}i?(a(i),this._setupLoadEvent(e,{el:n,name:t,type:this.linkId})):this.options.url&&"link"==t&&(a(i=this.options.url),this._setupLoadEvent(e,{el:n,name:t,type:this.linkId}))},_setupTracking:function(){e("[data-popup]",this.$element).on("click vclick ",function(t){var i=e(this).data("tracking");a.trackSocial({socialService:i,event:"share",eventt:"socialsite",socialId:{facebooksend:1,facebook:2,googlePlus:3,linkedin:4,pinterest:5,reddit:6,stumbleupon:7,twitter:8,twitterfollow:9,delicious:12,tumblr:14,sms:27,flipboard:28}[i],wd:"sharelink",sharebarSection:e(this).closest("[section]").attr("section")}),e(this).off("click vclick")}),"counts"===this.options.type&&this._bindCountsEvents()},_bindCountsEvents:function(){e("[data-link]",this.$element).on(d,function(t){var i=e(this).data("link");a.trackSocial({socialService:i,event:"share",eventt:"socialsite",socialId:{email:10}[i],wd:"sharelink",sharebarSection:e(this).closest("[section]").attr("section")}),e(this).off(d)}),e(".comment-count, .comment-countab",this.$element).on("click vclick",function(t){"object"==typeof n.tracking.data.collectionId?sharebarCollectionId=n.tracking.data.collectionId[0]:"string"==typeof n.tracking.data.collectionId?sharebarCollectionId=n.tracking.data.collectionId:sharebarCollectionId="",a.trackCustomEvent("trackShareBarComments",{_articleType:n.tracking.data.articleType,_pageType:n.tracking.data.pageType,brand:n.tracking.data.brand,siteEdition:n.tracking.data._siteEdition,_siteTypeDevice:n.tracking.data._siteTypeDevice,clickGenericText:"show_comments",dwLinkTag:a.getDwTag(e(this)),_collectionPrimaryId:sharebarCollectionId},"trackClick")})},_loadGoogleplus:function(){var e='<div class="g-plusone" data-size="'+this.options.googleButtonType+'" data-href="'+this.url+'" data-count="true" data-callback="$.cnet.google.trackPlusOne"></div>',t=this._getLinkEl("googleplus");t.html(e),google.isInitialized()?google.parse(t[0]):google.init()},_loadGooglepluscounts:function(){var i=[{method:"pos.plusones.get",id:"p",params:{nolog:!0,id:this.url,source:"widget",userId:"@viewer",groupId:"@self"},jsonrpc:"2.0",key:"p",apiVersion:"v1"}];e.ajax({url:"https://clients6.google.com/rpc",type:"POST",contentType:"application/json",data:JSON.stringify(i),dataType:"json",success:function(e){if("object"==typeof e&&e.length){var i=e[0].result.metadata.globalCounts.count;self.setContent("googlepluscounts",i),t.log("G+ Count:",i)}else t.log("Failed to get Google+ count")},error:function(){t.log("Failed to get Google+ count")}})},load:function(i,n){if(i.length<=0||n.length<=0)return t.log("Error: Service url or name not defined"),!1;var a=this,o=this.responseKeys[i]||"count",s=this.requestDataType[i]||"jsonp",l=this.requestData[i]||{};e.ajax({dataType:s,url:n,data:l,timeout:5e3}).done(function(t,n,s){t=e.isFunction(a.responseObj[i])?a.responseObj[i](t):t;var l=r.deepFind(t,o)||{};a.setContent(i,l),l===parseInt(l,10)&&(a.totalCount+=l,a.$element.trigger("socialCountTotalUpdate",a.totalCount))}).fail(function(e,n,o){t.log("Error: "+i+" response failed",e,n),a.setContent(i,{})})},_setupUrl:function(e){this.options.url=this.options.url.split("#")[0],e in this.ftags&&(this.options.url+=this.ftags[e],this.options.data.shortUrl=null)},setData:function(e,t){this.options.data[e]=t}})}),define("components/sharebar",["jquery","managers/tealium","managers/page-vars","managers/global-functions","version!fly/managers/debug","version!fly/utils/url-helper","components/social-counts","version!fly/components/base","version!libs/modernizr.custom","version!fly/libs/jquery.throttle-debounce","version!libs/waypoints/jquery.waypoints"],function(e,t,i,n,a,o){a=a.init("sharebar");var s=e.support.touch?"vclick":"click",r=!0;e.widget("cnet.sharebar",e.fly.base,{options:{viewClasses:{inline:"inline-view",side:"side-view"},enableViewToggling:!1,selectorContainer:null,containerClass:"count",showZeros:!0,throttle:!1,longform:!1,data:{media:e('meta[property="og:image"]').first().attr("content")},type:"counts",offsetElements:["#primary",".pageHeader","#specialHeader .fixation"],scrollToComments:!0,isSelectedClass:"-isSelected"},$buttons:null,$links:null,previousPath:null,lastScrollPosition:0,maxInnerHeight:0,isPastScrollTopZero:!1,disableScrollShowLogic:!1,_create:function(){this._setup(),this.options.title||(this.options.title=e("meta[property='og:title']").attr("content")),this.options.description||(this.options.description=e("meta[property='og:description']").attr("content")),this.options.url||(this.options.url=e("meta[property='og:url']").attr("content")),this.options.selectorContainer&&this.$element.appendTo(this.options.selectorContainer),this.options.enableViewToggling&&(this.updateView(null),this.$element.fixate&&this.$element.fixate("checkPosition")),this.$links=this.$element.socialCounts(this.options),this._setupEvents(),r&&(window.location.hash.indexOf("#comment")>=0||window.location.hash.indexOf("#comentarios")>=0)&&!e(".commentsContainer").parent().hasClass("selected")&&(r=!1,this.$element.find('a[href="#comments"], a[href="#comentarios"]').trigger("click"))},_setupEvents:function(){var a=this;this.options.enableViewToggling&&this.$window.on("resize.sharebar",function(){this.updateView()}.bind(this)),e("div[data-close='comments']").on("click",function(){var e=null!=a.previousPath?a.previousPath+"#":"#";history.replaceState(null,null,e),a.previousPath=null}),this.$element.on("click",".comment-count-redesign a, a[href='#comments'], a[href='#comentarios']",function(s){s.preventDefault();var r,l,d,c=e(".commentsContainer"),u=e(this).parent().attr("data-conversation-id"),p=e("#disqusContainer-"+u);e(this.firstElementChild).hasClass("social-button-small-redesign")?r="left-social":e(this.firstElementChild).hasClass("wrapper")&&(r="bottom");var h=e(this).closest("div:data(sharebar-options)").first().data("sharebar-options");d=r+"-"+(l=p.parent().hasClass("selected")?"hide":"show")+"-comments";var m=e.extend({},i.tracking.data,{clickGenericText:d});if(t.trackCustomEvent("impression",m,"trackClick"),"hide"===l){var g=null!=a.previousPath?a.previousPath+"#":"#";return p.parent().removeClass("selected"),history.replaceState(null,null,g),void(a.previousPath=null)}a.previousPath=window.location.pathname+window.location.search,a.$window.trigger("beginSharebarCommentClick");var f=0;e.each(a.options.offsetElements,function(t,i){f+=e(i).outerHeight(!0)}),a.options.scrollToComments&&c.offset()&&e("html, body").animate({scrollTop:(0===c.length?p:c).offset().top-f},0);var v=window.location.hash,y=o.getPath(h.url)+window.location.search;if("#comment"!==v.substring(0,"#comment".length)?y+="es"==i.tracking.data.siteEdition?"#comentarios":"#comments":y+=v,history.replaceState(null,null,y),p.parent().addClass("selected").removeClass("hidden"),c.parent().removeClass("selected").addClass("hidden"),p.parent().addClass("selected").removeClass("hidden"),i.services.disqus.enabled){var w=i.services.vertical_galleries&&i.services.vertical_galleries.enabled;n.gdprConsentCallback("script_disqus",function(){require(["managers/third-party/disqus"],function(e){"article"==i.pageType||"product_main"==i.pageType||"buy_guide"==i.pageType||w?e.init({enabled:!0,disqusSelector:"#disqusContainer-"+u+' [data-social="disqus"]'}):e.parse(p)})},{},"functional")}});var r=this.$element.find('[data-item="moreTrigger"]'),l=this.$element.find('[data-item="moreDropdown"]'),d=this.$element.find('[data-item="esTrigger"]'),c=this.$element.find('[data-item="esDropdown"]');r.length&&l.length&&r.on(s,function(){l.toggleClass(a.options.isSelectedClass),c.length&&c.removeClass(a.options.isSelectedClass)}),d.length&&c.length&&d.on(s,function(){c.toggleClass(a.options.isSelectedClass),l.length&&l.removeClass(a.options.isSelectedClass)}),this.options.throttle&&(this._on(this.$document,{scroll:e.throttle(200,this._checkShowSharebar)}),e("[data-sharebar-waypoint]").length&&(e("img[data-original]").each(function(){e(this).one("load",function(){Waypoint.refreshAll()})}),this._setupWaypoint()))},updateView:function(t){t?(e.each(this.options.viewClasses,function(e,t){this.$element.removeClass(t)}.bind(this)),this.$element.addClass(t)):this.$window.width()<1430?this.updateView(this.options.viewClasses.inline):this.updateView(this.options.viewClasses.side)},_checkShowSharebar:function(){var t=this.$window.scrollTop(),i=this;1==this.options.longform&&t<e(window).height()?e(this.element).removeClass("show"):this.lastScrollPosition>=t&&e(window).scrollTop()+e(window).height()<e("body").height()&&!e(this.element).hasClass("show")&&!this.disableScrollShowLogic?(1==this.options.longform&&t>e(window).height()||1!=this.options.longform)&&e(this.element).addClass("show"):this.lastScrollPosition<=t&&e(window).scrollTop()>0&&e(this.element).hasClass("show")&&this.maxInnerHeight==window.innerHeight&&!this.disableScrollShowLogic&&e(this.element).removeClass("show"),e(this.element).hasClass("show")&&e(window).scrollTop()<=0&&this.isPastScrollTopZero&&window.setTimeout(function(){e(i.element).removeClass("show")},2e3),this.lastScrollPosition=t,!this.isPastScrollTopZero&&t>0&&(this.isPastScrollTopZero=!0),this.maxInnerHeight<window.innerHeight&&(this.maxInnerHeight=window.innerHeight)},_setupWaypoint:function(){var t=this;new Waypoint({element:e("[data-sharebar-waypoint]"),handler:function(i){t.disableScrollShowLogic=!0,e(t.element).addClass("show"),window.setTimeout(function(){t.disableScrollShowLogic=!1},4e3),this.destroy()},offset:"bottom-in-view"})},_trackAction:function(n,a){t.trackCustomEvent("socialShareBarPosition",e.extend(!0,{},{pageType:i.tracking.data.pageType,siteEdition:i.tracking.data.siteEdition,siteType:i.tracking.data.siteType,brand:i.tracking.data.brand,deviceType:i.tracking.data.deviceType,siteSection:i.tracking.data.siteSection,_pageChannelType:i.tracking.data._pageChannelType,articleId:i.tracking.data.articleId,articleTitle:i.tracking.data.articleTitle,articleType:i.tracking.data.articleType,_collectionPrimaryId:i.tracking.data._collectionPrimaryId,siteHier:i.tracking.data.siteHier,_pageTitle:i.tracking.data._pageTitle},a),"trackClick")}})}),define("fly/components/image-gallery-1.0",["jquery","version!fly/managers/debug","version!fly/utils/string-vars","version!fly/managers/history","version!fly/components/base"],function(e,t,i,n){var a=e.mobile?"vclick":"click";t.init("imageGallery");e.widget("fly.imageGallery",e.fly.base,{options:{index:0,count:0,preloadThreshold:2,selectors:{image:'[data-item="image"]',count:'[data-item="image-count"]'},classes:{selected:"selected",disabled:"disabled"},countTemplate:'<span class="index">{index}</span> / <span class="count">{count}</span>',pushState:{enabled:!1,route:function(e){return e.index>1?"./{index}":"./"},title:function(e){return"{title}"+(e.index>1?"- {index}":"")}}},index:1,indexPrevious:null,count:0,selectors:{control:"[data-to-image]",next:'[data-to-image="next"]',previous:'[data-to-image="previous"]',jump:'[data-to-image="{index}"]'},_create:function(){var e=this.options;this._setup(),this.index=parseInt(e.index,10),this.count=parseInt(e.count,10),this.$images=this.$element.find(e.selectors.image),this.$count=this.$element.find(e.selectors.count),this._setupEvents(),this._updateControls(),this._preloadImages(),e.pushState.enabled&&this._setupPushState()},_setupEvents:function(){var e={};e[a+" "+this.selectors.control]="_handleControlClick",this._on(this.$element,e)},_setupPushState:function(){var e=this.options,t=this;this.history=n.init(e.pushState,{index:this.index}),this._on({imagegalleryshown:function(e,i){var n={index:i.index};"stateChange"!==i.action&&t.history.navigate(n,{title:i.title,url:i.url})}}),this.history.stateChange(function(e){t.show(e.index,"stateChange")})},_handleControlClick:function(t){var i=e(t.target).closest(this.selectors.control).data("toImage");switch(t.preventDefault(),t.stopPropagation(),i){case"next":this.next();break;case"previous":this.previous();break;default:this.show(parseInt(i,10),"to")}},_updateControls:function(){var e=this.options,t=this.$element.find(this.selectors.previous),n=this.$element.find(this.selectors.next),a=this.$element.find(i.compile(this.selectors.jump,{index:this.indexPrevious})),o=this.$element.find(i.compile(this.selectors.jump,{index:this.index}));n[this.index===this.count?"addClass":"removeClass"](e.classes.disabled),t[1===this.index?"addClass":"removeClass"](e.classes.disabled),o.addClass(e.classes.selected),a.removeClass(e.classes.selected)},_updateCount:function(){var e,t=this.options;this.$count.length&&(e={index:this.index,count:this.count},this.$count.html(i.compile(t.countTemplate,e)))},show:function(e,t){var i,n,a=this.options;e!==this.index&&(i=this.$images.eq(this.index-1),n=this.$images.eq(e-1),this._loadImage(n),i.removeClass(a.classes.selected),n.addClass(a.classes.selected),this.indexPrevious=this.index,this.index=e,this._updateControls(),this._updateCount(),this._trigger("shown",null,{$current:n,$previous:i,index:this.index,action:t}),this._preloadImages())},next:function(){this.options;var e=this.index+1;e>this.count||(this.show(e,"next"),this._trigger("next"))},previous:function(){this.options;var e=this.index-1;0!==e&&(this.show(e,"previous"),this._trigger("previous"))},_preloadImages:function(){var t,i,n=this.options,a=this;0!==n.preloadThreshold&&(t=Math.max(1,this.index-n.preloadThreshold),i=Math.min(this.count,this.index+n.preloadThreshold),this.$images.slice(t-1,i).each(function(t,i){a._loadImage(e(i))}))},_loadImage:function(e){var t,i;e.data("isLoaded")||!1||(i=(t=e.find("img")).data("src"),t.length&&i&&(t.attr("src",i),t.removeData("src"),e.data("isLoaded",!0)))}})}),define("components/image-gallery",["jquery","version!fly/managers/debug","managers/page-vars","fly/utils/string-vars-1.0","managers/tealium","translations/image-gallery","managers/guid","managers/device","version!fly/managers/history","managers/ad","components/sharebar","version!fly/components/base","version!fly/components/image-gallery"],function(e,t,i,n,a,o,s,r,l,d){var c=t.get("imageGallery");e.widget("cnet.imageGallery",e.fly.imageGallery,{options:{selectors:{gridControl:'[data-item="grid-control"]',meta:'[data-item="meta"]',control:"[data-to-image]",next:'[data-to-image="next"]',previous:'[data-to-image="previous"]',jump:'[data-to-image="{index}"]',container:"#galleryPage",modalContainer:"#bodyWrapper #galleryPage",count:'[data-item="image-count"] [data-item="index"]'},pushState:{enabled:!0,title:function(t){return e("#galleryPage .gallery-header h1").text()+(t.index>1?" - "+("roadshow"==i.tracking.data.brand?"Roadshow":"CNET")+" - "+o.page+" {index}":"")}},nextOverride:"/"+o.pictures+"/",nextOverrideSection:null,defaultDek:"",edition:"",preloadThreshold:1},$container:null,$gallery:null,firstPageView:!0,isModal:!1,_create:function(){if("image_gallery"===i.tracking.data.pageType){var t=this.options;0!==e(".galleryModal").length&&(this.isModal=!0),this.isModal?this.$container=e(t.selectors.modalContainer):(window.scrollTo(0,0),this.$container=e(t.selectors.container)),this._setup(),this._super("_create"),this.$meta=this.$container.find(t.selectors.meta),this.defaultDek=e("meta[property='og:description']").attr("content"),this.edition=this.options.edition,this.$gallery=this.$container.find(".image-gallery"),this.$video=this.$container.find('[data-component="videoPlayer"]'),this._updateMetadata()}else c.log("pageType !== image_gallery -- abort")},_setupEvents:function(){var e={},t={};e["click "+this.options.selectors.control]="_handleControlClick",t.keydown="_handleKeyboardControl",this._on(this.$container,e),this._on(document,t)},_setupPushState:function(){var t=this.options,i=this,n=document.createElement("a");n.href=t.pushState.route;var a=n.pathname;-1===e.inArray(a[0],[void 0,"/"])&&(a="/"+a),t.pushState.route=function(e){return(e.index>1?a+"{index}/":a)+window.location.search},this.history=l.init(t.pushState),this._on({imagegalleryshown:function(e,t){var n={index:t.index};"stateChange"!==t.action&&i.history.navigate(n,{title:t.title,url:t.url})}}),this.history.stateChange(function(t){c.log("stateChange",t.index),void 0!==t.index?i.show(t.index,"stateChange"):e("#bodyWrapper .closeModal").trigger("click")}),this.isModal?(this.history.navigate({},{replace:!0,url:document.location}),this.history.navigate({index:this.index})):this.history.navigate({index:this.index},{replace:!0,url:document.location})},_updateControls:function(){c.log("updateControls");var e=this.options,t=this.$container.find(e.selectors.previous),i=this.$container.find(e.selectors.next),a=this.$container.find(n.compile(e.selectors.jump,{index:this.indexPrevious})),o=this.$container.find(n.compile(e.selectors.jump,{index:this.index}));this.isModal?i.removeAttr("href"):this.index===this.count&&e.nextOverride?(i.attr("href",e.nextOverride),i.removeAttr("data-to-image"),e.nextOverrideSection&&i.attr("section",e.nextOverrideSection)):i.attr("data-to-image","next"),t[1===this.index?"addClass":"removeClass"](e.classes.disabled),o.addClass(e.classes.selected),a.removeClass(e.classes.selected),o.attr("aria-selected",!0),a.attr("aria-selected",!1),this._updateCount()},_handleKeyboardControl:function(t){switch(t.keyCode){case 37:c.log("Left arrow key is down"),this.previous("keyboard");break;case 39:c.log("Right arrow key is down");var i=this.options;this.index===this.count?i.nextOverride?window.location.href=i.nextOverride:this.isModal&&e('[data-item="modal-close"]').trigger("click"):this.next("keyboard");break;case 27:c.log("Escape button is down"),e('[data-item="modal-close"]').trigger("click")}},_handleControlClick:function(t){var i=this.options,n=e(t.target).closest(i.selectors.control).data("toImage"),a=e(t.target).closest(i.selectors.control).data("controlName");switch(t.preventDefault(),t.stopPropagation(),n){case"next":this.next(a);break;case"previous":this.previous(a);break;default:this.show(parseInt(n,10),"to",a)}},_updateCount:function(){var e=this.options;this.$container.find(e.selectors.count).text(this.index)},show:function(t,n,o){if(t!==this.index){c.log("Showing slide: ",t);var r=this.options;this.$video.videoPlayer&&this.$video.videoPlayer("pause");var l="next"==n?t-1:t+1;$previousMeta=this.$container.find("[data-item-meta="+l+"]"),$currentMeta=this.$container.find("[data-item-meta="+t+"]"),$previousMeta.removeClass(r.classes.selected),$currentMeta.addClass(r.classes.selected),this._superApply([t,n]),s.resetViewGuid();var u={event:"log",pageNum:t,mapp:"gallery",comptyp:"gallery",riaevent:"view",objtyp:"image",_pageUrl:window.location.pathname,pageUrl:window.location.pathname,_pageViewGuid:i.guid,dwLinkTag:o,photoGalleryTitle:i.tracking.data.articleTitle,photoGalleryId:i.tracking.data.articleId,photoGalleryType:i.tracking.data.articleType,_siteEdition:i.tracking.data.siteEdition,siteEdition:i.tracking.data.siteEdition,brand:i.tracking.data.brand,mfr:i.tracking.data.mfr,pageType:i.tracking.data.pageType};i.services.chartbeat_tracking.enabled=!1,c.log("Track as new pageview"),a.trackPageLoad(u),c.log("refresh ads");var p=e.extend({},i.ads.data);e.extend(p.gpt.targeting,$currentMeta.data("customAdVars")),d.loadAds(d.getAdUnits(i.ads.data.gpt.containerId,null,["mpu-top","mpu-bottom","mpu-middle","mpu-middle2","leader-top","leader-middle","leader-bottom"]),p,{incrementPageView:!0}),this._updateMetadata(),this._updateSharebar()}},next:function(t){c.log("next");this.options;var i=this.index+1;this.index===this.count?this.isModal&&(c.log("if modal, close it!"),e('[data-item="modal-close"]').trigger("click")):this.show(i,"next",t);var n=this.defaultDek,a=e(".image.selected .image-meta .caption p").text();1!==this.index&&""!==a?e("meta[name='description']").attr("content",a):e("meta[name='description']").attr("content",n),this._trigger("next")},previous:function(t){c.log("previous");this.options;var i=this.index-1;if(0!==i){if(1===this.index)c.log("first slide, go to last slide now."),c.log("index: ",this.count),this.show(this.count,"previous",t);else{this.show(i,"previous",t);var n=e(".image.selected .image-meta .caption p").text();""!==n&&1!==i?e("meta[name='description']").attr("content",n):e("meta[name='description']").attr("content",this.defaultDek)}this._trigger("previous")}},_updateMetadata:function(){var t=e(".image-gallery .images .selected");e("meta[property='og:url']").attr("content",window.location.href),e("meta[property='twitter:url']").attr("content",window.location.href),e("meta[property='twitter:title']").attr("content",e(e(t).children("div").children(".image-meta").children("h2")).html()),e('link[rel="canonical"]').attr("href",window.location.href),c.log("Done updating Meta Data!")},_updateSharebar:function(){var t=e(".image-gallery .images .selected"),i=e(":cnet-socialCounts");i.socialCounts("setUrl",window.location.href),i.socialCounts("setData","media",e(t.children("div").children("figure").children("img")).attr("src"))},_uiTracking:function(e,t){itemTracking=i.tracking.data,a.trackCustomEvent(e,{_articleTitle:itemTracking.photoGalleryTitle,_articleId:itemTracking.photoGalleryId,_authorPrimaryName:itemTracking.articleAuthorName,_articleType:itemTracking.articleType,_pageType:itemTracking.pageType,siteSection:itemTracking.siteSection,siteEdition:itemTracking.siteEdition,_siteEdition:itemTracking.siteEdition,_siteTypeDevice:itemTracking._siteTypeDevice,_siteHier:itemTracking.siteHier,_pageViewGuid:itemTracking._pageViewGuid,clickGenericText:t},"trackClick")}})}),define("components/image-gallery-modal",["jquery","managers/components.desktop","version!fly/managers/debug","managers/page-vars","managers/tracking","managers/tealium","managers/trackonomics","managers/guid","managers/ad","managers/recommendation","version!fly/components/base"],function(e,t,i,n,a,o,s,r,l,d){i=i.init("imageGalleryModal"),e.widget("cnet.imageGalleryModal",e.fly.base,{options:{cssPath:"",trackUrl:"",url:"",index:1},cssLoadPath:"",latestDwLinkTag:"",url:"",hostUrl:"",hostState:{},hostScrollTop:0,hostAdData:{},hostGuid:0,isHostGallery:!1,_create:function(){var t=this;this._setup(),this.$video=e(".videoPlayer"),"www.theroadshow.com"!==window.location.hostname&&this.$element.on("click",function(i){t.cssLoadPath=t.options.cssPath,i.preventDefault(),t._clickControl(),t.latestDwLinkTag=o.getDwTag(e(i.target))})},_storeHostPageData:function(){this.hostUrl=window.location.href,this.hostState=window.history.state,this.hostScrollTop=e(window).scrollTop(),this.hostAdData=e.extend(!0,{},n.ads.data),this.hostTracking=e.extend(!0,{},n.tracking),this.hostImage=e('meta[property="og:image"]').attr("content").trim(),this.hostGuid=r.getViewGuid(),this.url=""!==this.options.url?this.options.url:this.$element.attr("href")},_clickControl:function(){var c=this,u=e("body");if($htmlTag=e("html"),e("#bodyWrapper").length>0){i.log("IGM: replacing gallery modal"),e("#bodyWrapper").data("persist","true"),e("#bodyWrapper .closeModal").trigger("click"),$htmlTag.removeClass("overflow");var p=e("<div id='bodyWrapper' class='loadingArea'></div>");u.append(p)}else{i.log("IGM: setting up gallery modal");p=e("<div id='bodyWrapper' class='loadingArea'></div>");u.append(p),u.addClass("galleryModal image-gallery"),this._loadCss(this.cssLoadPath,"galleryCSS")}if(this.$video.length)if(i.log("video is present. pause it for the gallery modal"),"videoPlayer"==this.$video.attr("data-component"))try{this.$video.videoPlayer("pause")}catch(e){i.log("Failed to pause video player.")}else i.warn("Video not ready"),this.$video.on("onVideoPlayerReady",function(e){"videoPlayer"==this.$video.attr("data-component")&&this.$video.videoPlayer("pause")});"image_gallery"==n.tracking.data.pageType&&(c.isHostGallery=!0),c._storeHostPageData();var h=window.location.search,m=/ab=.*&/,g=/ab=.*/;m.test(h)?h=h.replace(m,""):g.test(h)&&(h=h.replace(g,"")),e.ajax({url:this.url+h,dataType:"json",context:document.body}).done(function(p){i.log("Gallery loaded");var h=document.createElement("a");h.href=c.options.trackUrl;var m=h.pathname;e("head title").text(e(e.parseHTML(p.template)).find("h1").text()),a.resetTrackingData(p.trackingData,m),r.resetViewGuid(),o.trackPageLoad(e.extend(!0,p.trackingData,{viewguid:r.getViewGuid(),title:p.trackingData.photoGalleryTitle,_pageViewGuid:r.getViewGuid(),_topicPrimaryId:p.trackingData.topicId[0],_pageUrl:c.options.trackUrl,pageUrl:c.options.trackUrl,photoGalleryTitle:p.trackingData.photoGalleryTitle,photoGalleryId:p.trackingData.photoGalleryId,photoGalleryType:p.trackingData.articleType,pageName:""!=c.options.trackUrl?c.options.trackUrl:n.tracking.data._pageName,dwLinkTag:c.latestDwLinkTag}));var g=e(p.template);e("#bodyWrapper").append(g),e("#bodyWrapper").removeClass("loadingArea"),t.process(e("#bodyWrapper")),n.ads.data=e.extend({},p.adData),l.loadAds(l.getAdUnits(n.ads.data.gpt.containerId),n.ads.data,{excludeDisabled:!0,incrementPageView:!0}),d.registerOnScroll("#bodyWrapper"),this.$close=e('[data-item="modal-close"]'),this.$close.on("click",function(){c._closeModal(u,p.trackingData)}),e("#bodyWrapper").on("click",function(e){e.target===this&&c._closeModal(u,p.trackingData)}),s.refreshTrackonomics()}).fail(function(){u.removeClass("galleryModal"),e("#bodyWrapper").remove(),window.location=c.$element.attr("href")})},_closeModal:function(t,i){o.trackCustomEvent("trackCloseGallery",e.extend({},n.tracking.data,{_articleTitle:i.photoGalleryTitle,_articleId:i.photoGalleryId,_authorPrimaryName:i.articleAuthorName,_articleType:i.articleType,_pageType:i.pageType,siteSection:i.siteSection,siteEdition:i._siteEdition,_siteTypeDevice:i._siteTypeDevice,_siteHier:i.siteHier,_pageViewGuid:i._pageViewGuid,clickGenericText:"close-gallery"}),"trackClick");var s=document.createElement("a");s.href=this.hostUrl;var l=s.pathname;a.resetTrackingData(this.hostTracking,l),n.ads.data=this.hostAdData,window.history.replaceState&&window.history.replaceState(this.hostState,"",this.hostUrl),e('meta[property="og:image"]').attr("content",this.hostImage),e("title").text(this.hostTracking.data._pageTitle),r.resetViewGuid(this.hostGuid),this.isHostGallery||$htmlTag.removeClass("overflow"),"true"===e("#bodyWrapper").data("persist")?(e("#bodyWrapper").remove(),e("#bodyWrapper").data("persist",null)):(e("#bodyWrapper").remove(),t.removeClass("galleryModal image-gallery"),e(window).resize(),e(window).scrollTop(this.hostScrollTop))},_loadCss:function(t,i){var n=document.createElement("link");n.setAttribute("rel","stylesheet"),n.setAttribute("type","text/css"),n.setAttribute("id",i),n.setAttribute("href",t),void 0!==n&&0==e("#"+i).length&&document.getElementsByTagName("head")[0].appendChild(n)},open:function(){this.cssLoadPath=this.options.cssPath,this._clickControl()}})}),define("components/shortcode-gallery",["jquery","version!fly/managers/debug","fly/utils/string-vars-1.0","version!fly/components/base","version!fly/components/image-gallery","version!libs/jquery/dotdotdot"],function(e,t,i){var n=t.init("shortcode-gallery"),a=e.support.touch?"vclick":"click";e.widget("cnet.shortcodeGallery",e.fly.imageGallery,{options:{index:1,preloadThreshold:3,countTemplate:'<span class="first">{first}</span> - <span class="last">{last}</span> of <span class="count">{count}</span>',selectors:{viewport:'[data-item="viewport"]',window:'[data-item="window"]'},visible:1},_create:function(){var t=this.options;this._super("_create"),this._setupViewports();var i=this.$element.find('[data-item="image-count"]').clone();i.find(".first").html("{first}"),i.find(".last").html("{last}"),i.find(".count").html("{count}"),t.countTemplate=i.html(),e.each(this.$element.find(".caption"),function(t,i){e(i).dotdotdot({watch:"window"})})},_setupEvents:function(){var t=this,i={};i[a+" "+this.selectors.control]="_handleControlClick",i.shortcodegalleryshown="_handleShown",this._on(this.$element,i),e(window).resize(function(e){t._handleResize(e)})},_setupViewports:function(){var t=this;this.$element.find(this.options.selectors.viewport).each(function(i,n){var a=e(n),o=a.find(t.options.selectors.image),s=0;o.each(function(t,i){s+=e(i).outerWidth(!0)}),a.width(s),t._updateWindowHeight(e(o[0]).height())})},_handleShown:function(e,t){var i=t.$current.position().left,n=parseInt(t.$current.css("marginLeft"),10)+i,a=t.$current.closest(this.options.selectors.viewport);e&&e.preventDefault(),-n!=parseInt(a.css("left"),10)&&t.$current.closest(this.options.selectors.viewport).css("left",-n)},_handleResize:function(e){var t=this.$element.find(this.options.selectors.viewport).find("."+this.options.classes.selected);this._handleShown(null,{$current:t}),this._updateWindowHeight(this.$element.find(this.options.selectors.image+":first").height())},_updateWindowHeight:function(e){if(!(e<=0)){var t=this.$element.find(this.options.selectors.window);e!=t.height()&&t.height(e)}},_updateCount:function(){var e,t=this.options;this.$count.length&&(e={first:this.index,last:Math.min(this.index+this.options.visible-1,this.count),count:this.count},this.$count.html(i.compile(t.countTemplate,e)))},_updatePushState:function(e,t){this.options.enablePushState&&history.pushState&&(n.log("pushState: "+e+": "+t),history.pushState({},"",t))},next:function(){var e=Math.min(this.index+this.options.visible,this.count-this.options.visible+1);e<0||e!==this.count&&(this.show(e),this._trigger("next"),this._updatePushState("next",e))},previous:function(){var e=Math.max(1,this.index-this.options.visible);1!==this.index&&(this.show(e),this._trigger("previous"),this._updatePushState("previous",e))},show:function(e){(e=Math.max(1,Math.min(e,this.count-this.options.visible+1)))!==this.index&&this._super(e)},_handleControlClick:function(t){var i=e(t.target).closest(this.selectors.control).data("toImage");switch(t.preventDefault(),i){case"next":this.next();break;case"previous":this.previous();break;default:this.show(parseInt(i,10))}},_updateControls:function(){this._super();var e=this.options;this.$element.find(this.selectors.next)[this.index+e.visible-1>=this.count?"addClass":"removeClass"](e.classes.disabled)}})}),define("components/disqus-count",["jquery","managers/page-vars","version!fly/managers/debug",window.CnetPageVars.services.disqus.enabled?"version!fly/components/disqus-count":""],function(e,t,i){i=i.init("disqusCount"),t.services.disqus.enabled&&e.widget("cnet.disqusCount",e.fly.disqusCount,{options:{shortname:t.disqus.shortname,disqusIdentifier:"",disqusZeroCommentsText:"Post a comment",disqusOneCommentText:"Comment"},refreshCounts:function(){var n=this,a=n.options.disqusIdentifier,o='[data-component="disqusCount"][data-disqus-identifier="'+a+'"] [data-item="buttonText"]',s='.sharebarRedesign [data-component="disqusCount"][data-disqus-identifier="'+a+'"]',r='[data-component="disqusCount"][data-disqus-identifier="'+a+'"] [data-item="iconText"]';e.ajax({type:"GET",url:"https://disqus.com/api/3.0/threads/details.json?api_key="+t.disqus.publicKey+"&thread:ident="+a+"&forum="+t.disqus.shortname,dataType:"jsonp",timeout:5e3,success:function(t){var a=t.response.posts,l="99+";if(a<=1){l="0";var d=n.options.disqusZeroCommentsText;1==a&&(l="1",d=n.options.disqusOneCommentText),null!=d&&e(o).text(d)}else a>1&&a<=99&&(l=a.toString());e(s).text(l),e(r).text(l),i.log("Replaced comment count with "+l)},error:function(t,a,l){"timeout"==l?(e(o).text(n.options.disqusZeroCommentsText),e(s).text(0),e(r).text(0)):i.log(l)}})}})}),define("managers/third-party/social-flags",["managers/page-vars"],function(e){return{enabled:{facebook:e.services.facebook&&e.services.facebook.enabled,google:!0,linkedIn:e.services.linkedin&&e.services.linkedin.enabled,pinterest:e.services.pinterest&&e.services.linkedin.pinterest,twitter:e.services.twitterwidget&&e.services.linkedin.twitterwidget,disqus:e.services.disqus&&e.services.linkedin.disqus}}}),define("managers/third-party/twitter",["jquery","version!fly/managers/debug","managers/third-party/social-flags","managers/global-functions","managers/tealium"],function(e,t,i,n,a){t=t.init("twitter");var o=!1,s={onInit:null};return{init:function(a){var r=this;i.enabled.twitter&&(e.extend(!0,s,a),o?s.onInit&&s.onInit():(window.twttr=e.extend(!0,{_e:[],ready:function(e){window.twttr._e.push(e)}},window.twttr),twttr.ready(function(){o=!0,r.setupEvents(),s.onInit&&s.onInit(),t.log("Initialized")}),n.gdprConsentCallback("script_twitter",function(){require(["twitter"])},{},"social")))},parse:function(){o?twttr.widgets.load():t.log("Parse failed -- not initialized yet")},isInitialized:function(){return o},setupEvents:function(){var e=this;twttr.events.bind("follow",function(i){t.log("Followed");e.trackFollow({})}),twttr.events.bind("tweet",function(i){t.log("Tweeted");e.trackTweet({})})},trackFollow:function(t){a.trackSocial(e.extend({socialService:"twitter",event:"connect",eventt:"followcnet",socialId:9},t))},trackTweet:function(t){a.trackSocial(e.extend({socialService:"twitter",event:"share",eventt:"socialsite",socialId:8},t))}}}),define("pages/desktop/article_video_test",["main.desktop","managers/recommendation","components/fixate","components/iframe-hover-fix","components/toc-nav","components/toggle","components/touch-menu-hover","components/sticky-element","components/form-trim","components/lazyload-images","components/modal-enlarge-image","utils/function-natives","components/article","components/page","components/sliding-element","components/sticky-column","components/selfish-scroll","components/update-area","components/sticky-leader","components/track-download","components/social-tracking","components/external-link","components/mobile-footer-link","quantum/videoPlayer","quantum/inviewElement","components/ellipsis","components/image-gallery","components/image-gallery-modal","components/shortcode-gallery","version!libs/jquery/dotdotdot","version!fly/components/image-gallery","components/disqus-count","components/sharebar","managers/edition-notifications","managers/third-party/social","managers/third-party/twitter"],function(e,t){t.registerOnScroll()});